{"version":3,"sources":["lib/helper_functions.js","components/Header/Header.js","constants.js","lib/Api.js","components/Authentication/Authentication.js","App.js","components/Dashboard/Dashboard.js","components/OrderEdit/OrderEdit.js","components/OrderInsert/OrderInsert.js","components/Paginatior/Paginatior.js","components/Receipt/Receipt.js","components/Order/Order.js","components/ProductInsert/ProductInsert.js","components/ProductEdit/ProductEdit.js","components/Product/Product.js","components/UserInsert/UserInsert.js","components/UserEdit/UserEdit.js","components/User/User.js","serviceWorker.js","AuthenticatedRoute.js","components/Revenue/Revenue.js","components/Analytics/AnaylticsSocks.js","components/Analytics/Analytics.js","components/Rankings/Rankings.js","index.js"],"names":["addDeleteCheckers","items","i","length","formulateOrderNumber","date","dateSpliited","Date","toLocaleDateString","split","timeSpliited","toLocaleTimeString","tokenExpired","localStorage","getItem","JWT","exp","now","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","logout","bind","assertThisInitialized","state","redirectToRevenue","redirectToDashboard","removeItem","react_default","a","createElement","className","react_router_dom","to","style","color","textDecoration","onClick","React","Component","API_URL","getHeaders","headers","x-access-token","getOrders","meta","axios","get","Constants","concat","deleteOrders","idToDelete","delete","getProducts","deleteProducts","editProduct","editProductBody","patch","getUsers","deleteUsers","editUser","editUserBody","getRankings","type","url","Authentication","handleUsername","handlePassword","submitForm","username","password","errMsg","hideAlert","event","setState","target","value","_this2","preventDefault","authBody","post","authenticateAdmin","then","res","setItem","data","catch","err","response","msg","react_router","onSubmit","role","hidden","placeholder","onChange","autoComplete","App","Header_Header_Header","Authentication_Authentication_Authentication","Dashboard","activeStyle","backgroundColor","aria-label","first","second","third","OrderEdit","editOrder","handleQuantity","handleCode","initOrderDetails","handleStatus","handleDiscountChange","handleDiscountAmount","handleDiscountRemove","handleSurveySent","handleSurveyResponse","handleType","handleSpecial","products","orderDetails","status","checked","discountAmount","checkedDiscountRemove","surveySent","surveyResponse","special","console","log","discountPercentage","_this3","editedOrderDetails","order","quantity","code","editOrderBody","preOrderDetails","orderId","_id","deliveryDate","price","updateOrder","closeModal","index","id","ordersSize","newOrderDetails","newQuantity","Number","prevState","map","orderDetail","pointer","objectSpread","newCode","handleQuantityHelper","handleCodeHelper","e","_this4","applyDiscount","removeDiscount","htmlFor","showModal","Modal","isOpen","ModalHeader","ModalBody","key","product","name","ModalFooter","OrderInsert","addOrderDetail","removeSelect","handleUser","getAllProducts","getAllUsers","filterUsernames","setFilterUsernames","users","selects","selectedUser","usernames","label","instagramUsername","toConsumableArray","newSelects","splice","select","selectedOption","customerId","window","setTimeout","insertOrder","_this5","filterUsername","filter","user","includes","_this6","instagramUsernamel","showModalInsert","react_select_browser_esm","options","index_es","icon","faTimes","submitOrder","Paginatior","handlePageChange","activePage","itemsPerPage","pageNumber","indexOfLastThing","indexOfFirstThing","itemsShown","slice","handleItems","Pagination_default","innerClass","totalItemsCount","itemsCountPerPage","itemClass","activeClass","hideNavigation","linkClass","activeLinkClass","Receipt","sendEmail","handleFees","deliveryFees","hideInfoAlert","emailBody","sendReceipt","showEmailModal","Order","changeCheckboxValue","filterOrders","getAllOrders","handleOrdersShown","checkAllDelete","setOrdersShown","sortOrders","handleFilter","handleFilterAttribute","closeEmailModal","orders","filteredOrders","orderToEdit","orderToSend","ordersShown","checkAll","sortType","sortingDates","placingDate","filterValue","filterAttribute","filterAttributeOptions","sortFieldFlag","field","defineProperty","sort","b","undefined","idsToDelete","push","stateOrder","newOrders","defaultValue","minWidth","orderNumber","toFixed","toLocaleString","Paginatior_Paginatior_Paginatior","OrderEdit_OrderEdit_OrderEdit","OrderInsert_OrderInsert_OrderInsert","Receipt_Receipt","ProductInsert","handleName","handlePrice","submitProduct","handleImage","image","FormData","append","file","insertProduct","files","ProductEdit","handleAvailableToSell","availableToSell","closeEditModal","showModalEdit","Product","filterProducts","handleProductsShown","productToEdit","productsShown","filteredProducts","stateProduct","imageName","src","width","height","ProductInsert_ProductInsert","ProductEdit_ProductEdit","UserInsert","handleInstagram","handleEmail","handlePhone","handleAddress","submitUser","email","phone","address","nameSplitted","match","insertUser","UserEdit","handleInstagramUsername","userId","User","filterUsers","handleUsersShown","userToEdit","usersShown","stateUser","filteredUsers","UserInsert_UserInsert","UserEdit_UserEdit_UserEdit","Boolean","location","hostname","AuthenticatedRoute","_ref","component","rest","objectWithoutProperties","assign","render","exact","pathname","from","Revenue","total","getRevenue","result","AnalyticsSocks","modalOpen","productsCount","count","Analytics","usersCount","ordersCount","totalProducts","AnaylticsSocks_AnalyticsSocks","rankings","class","toUpperCase","ranking","routing","path","src_AuthenticatedRoute","Dashboard_Dashboard_Dashboard","Rankings","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4d920975.chunk.js","sourcesContent":["import * as JWT from 'jwt-decode';\r\n\r\nexport const addDeleteCheckers = (items) => {\r\n    for (let i = 0; i < items.length; i++) {\r\n        items[i]['orderNumber'] = formulateOrderNumber(items[i]['placingDate']);\r\n        items[i]['toDelete'] = false;\r\n    }\r\n    return items;\r\n}\r\n\r\nconst formulateOrderNumber = (date) => {\r\n    const dateSpliited = new Date(date).toLocaleDateString().split('/');\r\n    const timeSpliited = new Date(date).toLocaleTimeString().split(' ')[0].split(\":\");\r\n    let orderNumber = dateSpliited[0] + dateSpliited[1] + \"-\" + dateSpliited[2] + \"-\" + timeSpliited[0] + timeSpliited[1] + timeSpliited[2];\r\n    return orderNumber;\r\n}\r\n\r\nexport const tokenExpired = () => {\r\n    if (localStorage.getItem('token') == null || localStorage.getItem('token') === '') {\r\n        return true;\r\n    }\r\n    let decoded = JWT(localStorage.getItem('token'));\r\n    if (decoded.exp * 1000 <= Date.now()) {\r\n        return true;\r\n    }\r\n    return false;\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { tokenExpired } from '../../lib/helper_functions';\r\n\r\nimport './Header.css';\r\n\r\nexport default class Header extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.logout = this.logout.bind(this);\r\n        this.state = {\r\n            redirectToRevenue: false,\r\n            redirectToDashboard: false\r\n        };\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n    }\r\n\r\n    render() {\r\n        if (tokenExpired() || localStorage.getItem('token') === '' || localStorage.getItem('token') === null) {\r\n            return (\r\n                <div className=\"header__main\">\r\n                    <nav className=\"navbar fixed-top navbar-light bg-info\">\r\n                        {/* <span className=\"navbar-brand\" href=\"#!\" style={{ color: '#fff' }}>Jawareb</span> */}\r\n                        <div>\r\n                            <ul>\r\n                                <li>\r\n                                    <Link to=\"/dashboard/orders\" style={{ color: '#fff', textDecoration: 'none' }}>Jawareb</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n                \r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"header__main\">\r\n                    <nav className=\"navbar fixed-top navbar-light bg-info\">\r\n                        <div>\r\n                            <ul>\r\n                                <li>\r\n                                    <Link to=\"/dashboard/orders\" style={{ color: '#fff', textDecoration: 'none' }}>Jawareb</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/dashboard/orders\" style={{ color: '#fff', textDecoration: 'none' }}>Dashboard</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/analytics/revenue\" style={{ color: '#fff', textDecoration: 'none' }}>Analytics</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div>\r\n                            <Link style={{ color: '#fff', textDecoration: 'none' }} to=\"/\" onClick={this.logout}>Logout</Link>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n                \r\n            )\r\n        }\r\n    }\r\n}","// const PORT = process.env.PORT || 3001;\r\n// export const API_URL='http://localhost:3001';\r\nexport const API_URL= 'https://jawareb.herokuapp.com';","import axios from 'axios';\r\nimport * as Constants from '../constants';\r\n\r\nconst getHeaders = () => {\r\n    const headers = {\r\n        headers: {\r\n            'x-access-token': localStorage.getItem('token')\r\n        }\r\n    };\r\n    return headers;  \r\n}\r\n\r\nexport const getOrders = (meta) => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + `/order${meta === 'true' ? '?meta=true' : '' }`, headers);\r\n};\r\n\r\nexport const insertOrder = (order) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/order', order, headers)\r\n};\r\n\r\nexport const deleteOrders = (idToDelete) => {\r\n    const headers = getHeaders();\r\n    return axios.delete(Constants.API_URL + '/order/' + idToDelete, headers);\r\n}\r\n\r\nexport const editOrder = (editOrderBody) => {\r\n    const headers = getHeaders();\r\n    return axios.patch(Constants.API_URL + '/order', editOrderBody, headers);\r\n}\r\n\r\nexport const getProducts = (meta) => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + `/product${meta === 'true' ? '?meta=true' : '' }`, headers);\r\n}\r\n\r\nexport const insertProduct = (product) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/product', product, headers)\r\n};\r\n\r\nexport const deleteProducts = (idToDelete) => {\r\n    const headers = getHeaders();\r\n    return axios.delete(Constants.API_URL + '/product/' + idToDelete, headers);\r\n}\r\n\r\nexport const editProduct = (editProductBody) => {\r\n    const headers = getHeaders();\r\n    return axios.patch(Constants.API_URL + '/product', editProductBody, headers);\r\n}\r\n\r\nexport const getUsers = (meta) => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + `/user${meta === 'true' ? '?meta=true' : '' }`, headers);\r\n}\r\n\r\nexport const insertUser = (user) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/user', user, headers)\r\n};\r\n\r\nexport const deleteUsers = (idToDelete) => {\r\n    const headers = getHeaders();\r\n    return axios.delete(Constants.API_URL + '/user/' + idToDelete, headers);\r\n}\r\n\r\nexport const editUser = (editUserBody) => {\r\n    const headers = getHeaders();\r\n    return axios.patch(Constants.API_URL + '/user', editUserBody, headers);\r\n}\r\n\r\nexport const getRevenue = () => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + '/order/revenue', headers);\r\n}\r\n\r\nexport const getRankings = (type) => {\r\n    const headers = getHeaders();\r\n    const url = type? `/order/rankings?type=${type}`: '/order/rankings';\r\n    return axios.get(Constants.API_URL + url, headers);\r\n}\r\n\r\nexport const authenticateAdmin = (authBody) => {\r\n    return axios.post(Constants.API_URL + '/auth', authBody);\r\n}\r\n\r\nexport const sendReceipt = (emailBody) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/email', emailBody, headers);\r\n}","import React from 'react';\r\nimport { authenticateAdmin } from '../../lib/Api';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport './Authentication.css';\r\nimport { tokenExpired } from '../../lib/helper_functions';\r\n\r\nexport default class Authentication extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleUsername = this.handleUsername.bind(this);\r\n        this.handlePassword = this.handlePassword.bind(this);\r\n        this.submitForm = this.submitForm.bind(this);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            redirectToDashboard: false\r\n        };\r\n    }\r\n\r\n    handleUsername(event) {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handlePassword(event) {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    submitForm(event) {\r\n        event.preventDefault();\r\n        if (this.state.username !== '' && this.state.password !== '') {\r\n            let authBody = {\r\n                username: this.state.username,\r\n                password: this.state.password\r\n            }\r\n            authenticateAdmin(authBody).then(res => {\r\n                localStorage.setItem('token', res.data);\r\n                this.setState({ errMsg: '', hideAlert: true, redirectToDashboard: true });\r\n            }).catch(err => {\r\n                if (err.response) {\r\n                    if (typeof err.response.data == 'object') {\r\n                        this.setState({ errMsg: err.response.data.msg, hideAlert: false });\r\n                    } else {\r\n                        this.setState({ errMsg: err.response.data, hideAlert: false });\r\n                    }\r\n                } else {\r\n                    this.setState({ errMsg: err.response, hideAlert: false });\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({ errMsg: 'username and password can\\'t be empty', hideAlert: false });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!tokenExpired() || this.state.redirectToDashboard) {\r\n            return <Redirect to=\"/dashboard\" />\r\n        }\r\n        return(\r\n            <div className=\"row auth__main-container\">\r\n                <div className=\"col-md-7 auth__left-container\"></div>\r\n                <div className=\"col-md-5 auth__right-container\">\r\n                    <div className=\"auth__login-form\">\r\n                        <form onSubmit={this.submitForm}>\r\n                            <h4>Jawareb Admin Portal</h4>\r\n                            <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                                { this.state.errMsg }\r\n                            </div>\r\n                            <div className=\"auth__login-form-control\">\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Username\" onChange={this.handleUsername} autoComplete=\"new-password\" />\r\n                            </div>\r\n                            <div className=\"auth__login-form-control\">\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Password\" onChange={this.handlePassword} autoComplete=\"new-password\" />\r\n                            </div>\r\n                            <div className=\"auth__login-button\">\r\n                                <input type=\"submit\" className=\"btn btn-info\" value=\"Login\" />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Header from './components/Header/Header';\r\nimport Authentication from './components/Authentication/Authentication';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n      <div className=\"App\">\r\n        <Header></Header>\r\n        <Authentication></Authentication>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Header from '../Header/Header';\r\n\r\nimport './Dashboard.css';\r\n\r\nexport default class Dashboard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeStyle: { backgroundColor: '#555', color: '#fff' },\r\n            style: { backgroundColor: '#e9ecef' }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header></Header>\r\n                <div className=\"dashboard__container\">\r\n                    <div className=\"btn-group btn-group-lg\" role=\"group\" aria-label=\"Basic example\">\r\n                        <NavLink className=\"btn\" to={this.props.first} activeStyle={ this.state.activeStyle } style={ this.state.style }>\r\n                            {this.props.first.split('/')[this.props.first.split('/').length - 1]}\r\n                        </NavLink>\r\n                        <NavLink className=\"btn\" to={this.props.second} activeStyle={this.state.activeStyle} style={ this.state.style }>\r\n                            {this.props.second.split('/')[this.props.second.split('/').length - 1]}\r\n                        </NavLink>\r\n                        <NavLink className=\"btn\" to={this.props.third} activeStyle={this.state.activeStyle} style={ this.state.style }>\r\n                            {this.props.third.split('/')[this.props.third.split('/').length - 1]}\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { getProducts, editOrder } from '../../lib/Api';\r\n\r\nimport './OrderEdit.css';\r\n\r\nexport default class OrderEdit extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.editOrder = this.editOrder.bind(this);\r\n        this.handleQuantity = this.handleQuantity.bind(this);\r\n        this.handleCode = this.handleCode.bind(this);\r\n        this.initOrderDetails = this.initOrderDetails.bind(this);\r\n        this.handleStatus = this.handleStatus.bind(this);\r\n        this.handleDiscountChange = this.handleDiscountChange.bind(this);\r\n        this.handleDiscountAmount = this.handleDiscountAmount.bind(this);\r\n        this.handleDiscountRemove = this.handleDiscountRemove.bind(this);\r\n        this.handleSurveySent = this.handleSurveySent.bind(this);\r\n        this.handleSurveyResponse = this.handleSurveyResponse.bind(this);\r\n        this.handleType = this.handleType.bind(this);\r\n        this.handleSpecial = this.handleSpecial.bind(this);\r\n        this.state = {\r\n            products: [],\r\n            orderDetails: [],\r\n            status: '',\r\n            checked: false,\r\n            discountAmount: '0',\r\n            checkedDiscountRemove: false,\r\n            surveySent: '',\r\n            surveyResponse: '',\r\n            type: 'default',\r\n            special: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getProducts().then(res => {\r\n            if (res.data != null && res.data.products.length >= 1) {\r\n                this.setState({ products: res.data.products });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    editOrder() {\r\n        let editedOrderDetails = [];\r\n        if (this.state.orderDetails.length === 0) {\r\n            for (let i = 0; i < this.props.order.orderDetails.length; i++) {\r\n                editedOrderDetails[i] = { quantity: this.props.order.orderDetails[i].quantity, code: this.props.order.orderDetails[i].code }\r\n            }\r\n        } else {\r\n            editedOrderDetails = this.state.orderDetails;\r\n            for (let i = 0; i < editedOrderDetails.length; i++) {\r\n                if (editedOrderDetails[i].quantity === '' || editedOrderDetails[i].quantity == null) {\r\n                    editedOrderDetails[i].quantity = this.props.order.orderDetails[i].quantity;\r\n                }\r\n                if (editedOrderDetails[i].code === '' || editedOrderDetails[i].code == null) {\r\n                    editedOrderDetails[i].code = this.props.order.orderDetails[i].code;\r\n                }\r\n            }\r\n        }\r\n\r\n        let discountPercentage;\r\n        if (this.state.checkedDiscountRemove) {\r\n            discountPercentage = '0';\r\n        } else if (this.state.checked) {\r\n            discountPercentage = this.state.discountAmount;\r\n        } else {\r\n            discountPercentage = this.props.order.discountPercentage;\r\n        }\r\n\r\n\r\n        let editOrderBody = {\r\n            preOrderDetails: this.props.order.orderDetails,\r\n            orderDetails: editedOrderDetails,\r\n            status: this.state.status === ''? this.props.order.status : this.state.status,\r\n            orderId: this.props.order._id,\r\n            discountPercentage,\r\n            surveySent: this.state.surveySent === '' ? this.props.order.surveySent : this.state.surveySent,\r\n            surveyResponse: this.state.surveyResponse === '' ? this.props.order.surveyResponse : this.state.surveyResponse\r\n        }\r\n\r\n        if (editOrderBody['status'] === 'delivered') {\r\n            editOrderBody['deliveryDate'] = this.props.order.deliveryDate ? this.props.order.deliveryDate : Date(Date.now);\r\n        } else {\r\n            editOrderBody['deliveryDate'] = '';\r\n        }\r\n        editOrderBody['type'] = this.state.type === 'default'? this.props.order.type : this.state.type;\r\n        editOrderBody['special'] = this.state.special === ''? this.props.order.special : this.state.special;\r\n\r\n        editOrder(editOrderBody).then(res => {\r\n            editOrderBody['price'] = res.data.order.price;\r\n            this.props.updateOrder(editOrderBody);\r\n            this.props.closeModal();\r\n            this.setState({\r\n                orderDetails: [],\r\n                status: '',\r\n                checked: false,\r\n                checkedDiscountRemove: false,\r\n                surveySent: '',\r\n                surveyResponse: '',\r\n                special: ''\r\n            });\r\n        }, err => {\r\n            console.log(err);\r\n            console.log(err.response);\r\n        })\r\n    }\r\n\r\n    initOrderDetails(index, event, id) {\r\n        let ordersSize = this.props.order.orderDetails.length;\r\n        let newOrderDetails = []\r\n        for (let i = 0; i < ordersSize; i++) {\r\n            newOrderDetails[i] = { quantity: this.props.order.orderDetails[i].quantity, code: this.props.order.orderDetails[i].code }\r\n        };\r\n        if (id === 'quantity') {\r\n            let newQuantity = Number(event.target.value);\r\n            this.setState(prevState => ({\r\n                orderDetails: newOrderDetails.map((orderDetail, pointer) => {\r\n                    return pointer === index? {...orderDetail, quantity: newQuantity} : orderDetail;\r\n                })\r\n            }));\r\n        } else {\r\n            let newCode = event.target.value;\r\n            this.setState(prevState => ({\r\n                orderDetails: newOrderDetails.map((orderDetail, pointer) => {\r\n                    return pointer === index? {...orderDetail, code: newCode} : orderDetail;\r\n                })\r\n            }));\r\n        }\r\n    }\r\n\r\n    handleQuantity(i, event) {\r\n        if (this.state.orderDetails.length === 0) {\r\n            this.initOrderDetails(i, event, 'quantity');\r\n        } else {\r\n            this.handleQuantityHelper(i, event.target.value);\r\n        }\r\n    }\r\n\r\n    handleQuantityHelper(i, newQuantity) {\r\n        this.setState(prevState => ({\r\n            orderDetails: prevState.orderDetails.map((orderDetail, index) => {\r\n                return index === i? { ...orderDetail, quantity: Number(newQuantity) } : orderDetail;\r\n            })\r\n        }));\r\n    }\r\n\r\n    handleCode(i, event) {\r\n        if (this.state.orderDetails.length === 0) {\r\n            this.initOrderDetails(i, event, 'code');\r\n        } else {\r\n            this.handleCodeHelper(i, event.target.value);\r\n        }\r\n    }\r\n\r\n    handleCodeHelper(i, newCode) {\r\n        this.setState(prevState => ({\r\n            orderDetails: prevState.orderDetails.map((orderDetail, index) => {\r\n                return index === i? { ...orderDetail, code: newCode } : orderDetail;\r\n            })\r\n        }));\r\n    }\r\n\r\n    handleStatus(event) {\r\n        if (event.target.value === 'delivered') {\r\n            this.setState({ status: event.target.value });    \r\n        } else {\r\n            this.setState({ status: event.target.value });\r\n        }\r\n    }\r\n\r\n    handleDiscountChange() {\r\n        this.setState({ checked: !this.state.checked, checkedDiscountRemove: false });\r\n    }\r\n\r\n    handleDiscountAmount(event) {\r\n        this.setState({ discountAmount: event.target.value });\r\n    }\r\n\r\n    handleDiscountRemove() {\r\n        this.setState({ checkedDiscountRemove: !this.state.checkedDiscountRemove, checked: false });\r\n    }\r\n\r\n    handleSurveySent() {\r\n        this.setState({ surveySent: !this.state.surveySent });\r\n    }\r\n\r\n    handleSurveyResponse() {\r\n        this.setState({ surveyResponse: !this.state.surveyResponse });\r\n    }\r\n\r\n    handleType(e) {\r\n        this.setState({ type: e.target.value });\r\n    }\r\n\r\n    handleSpecial() {\r\n        this.setState({ special: !this.state.special });\r\n    }\r\n\r\n    render() {\r\n        if (this.props.order.orderDetails) {\r\n            const applyDiscount = this.state.checked \r\n                ? <div className=\"form-group\">\r\n                    <div className=\"form-group\">\r\n                        <label>Discount:</label>\r\n                        <input type=\"number\" className=\"form-control\" id=\"discount\" placeholder=\"Discount Percentage\" onChange={this.handleDiscountAmount} />\r\n                    </div>\r\n                  </div>\r\n                : null;\r\n            const removeDiscount = this.props.order.discountPercentage !== \"0\"\r\n                ? <div className=\"form-group\">\r\n                    <div className=\"custom-control custom-checkbox\">\r\n                        <input className=\"custom-control-input\" id=\"removeDiscountCheck\" type=\"checkbox\" checked={ this.state.checkedDiscountRemove } onChange={ this.handleDiscountRemove } />\r\n                        <label className=\"custom-control-label\" htmlFor=\"removeDiscountCheck\">Remove discount</label>\r\n                    </div>\r\n                    <hr />\r\n                </div>\r\n                : null;\r\n            return(\r\n                <div>\r\n                    { (this.props.showModal) ? \r\n                        <Modal isOpen={this.props.showModal}>\r\n                            <ModalHeader>Existing Order</ModalHeader>\r\n                            <ModalBody>\r\n                                <form>\r\n                                    {\r\n                                        this.props.order.orderDetails.map((orderDetail, index) => {\r\n                                            return(\r\n                                                <div className=\"row\" key={index}>\r\n                                                    <div className=\"col-md-3\">Sub-order { index + 1 }:</div>\r\n                                                    <div className=\"form-group col-md-4\">\r\n                                                        <select className=\"custom-select\" value={this.state.orderDetails[index]? this.state.orderDetails[index].quantity : orderDetail.quantity} onChange={(event) => this.handleQuantity(index, event)}>\r\n                                                            <option>1</option>\r\n                                                            <option>2</option>\r\n                                                            <option>3</option>\r\n                                                            <option>4</option>\r\n                                                            <option>5</option>\r\n                                                            <option>6</option>\r\n                                                            <option>7</option>\r\n                                                            <option>8</option>\r\n                                                            <option>9</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div className=\"form-group col-md-4\">\r\n                                                        <select className=\"custom-select\" value={this.state.orderDetails[index]? this.state.orderDetails[index].code : orderDetail.code} onChange={(event) => this.handleCode(index, event)}>\r\n                                                            {\r\n                                                                this.state.products.map((product, i) => {\r\n                                                                    return <option key={i}>{product.code}</option>\r\n                                                                })\r\n                                                            }\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                    <hr />\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-md-3\">Status:</div>\r\n                                        <div className=\"col-md-4 form-group\">\r\n                                            <select className=\"custom-select\" value={this.state.status === ''? this.props.order.status : this.state.status} onChange={(event) => this.handleStatus(event)}>\r\n                                                <option value=\"pending\">pending</option>\r\n                                                <option value=\"delivered\">delivered</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-checkbox\">\r\n                                            <input className=\"custom-control-input\" id=\"customCheck\" type=\"checkbox\" checked={ this.state.checked } onChange={ this.handleDiscountChange } />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"customCheck\">Apply discount</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    { applyDiscount }\r\n                                    <hr />\r\n                                    { removeDiscount }\r\n                                    <div className=\"custom-control custom-checkbox\">\r\n                                        <input className=\"custom-control-input\" id=\"surveySent\" type=\"checkbox\" checked={ this.state.surveySent === '' ? this.props.order.surveySent : this.state.surveySent } onChange={ this.handleSurveySent } />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"surveySent\">Survey Sent</label>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"custom-control custom-checkbox\">\r\n                                        <input className=\"custom-control-input\" id=\"surveyResponse\" type=\"checkbox\" checked={ this.state.surveyResponse === '' ? this.props.order.surveyResponse : this.state.surveyResponse } onChange={ this.handleSurveyResponse } />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"surveyResponse\">Survey Response</label>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"form-group\">\r\n                                        <label>Special Discount:</label>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-checkbox\">\r\n                                            <input className=\"custom-control-input\" id=\"special\" type=\"checkbox\" checked={this.state.special === ''? this.props.order.special : this.state.special} onChange={ this.handleSpecial } />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"special\">Special Discount</label>\r\n                                        </div>\r\n                                        {/* <div className=\"custom-control custom-radio\">\r\n                                            <input type=\"radio\" id=\"specialRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"special\" checked={this.state.type === 'default'? this.props.order.type === 'special' : this.state.type === 'special'} onChange={this.handleType} />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"specialRadio\">Special</label>\r\n                                        </div> */}\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>Type:</label>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-radio\">\r\n                                            <input type=\"radio\" id=\"vooRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"voo\" checked={this.state.type === 'default'? this.props.order.type === 'voo' : this.state.type === 'voo'} onChange={this.handleType} />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"vooRadio\">Delivery Service</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-radio\">\r\n                                            <input type=\"radio\" id=\"noneRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"\" checked={this.state.type === 'default'? this.props.order.type === '' : this.state.type === ''} onChange={this.handleType} />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"noneRadio\">None</label>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                                <button type=\"submit\" className=\"btn btn-info\" onClick={this.editOrder}>Edit</button>\r\n                                <button className=\"btn btn-danger\" onClick={(event) => this.props.closeModal(event)}>Cancel</button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n                    : null }\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n       \r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { getProducts, getUsers, insertOrder } from '../../lib/Api';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport Select from 'react-select';\r\n\r\nimport './OrderInsert.css';\r\n\r\nexport default class OrderInsert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.addOrderDetail = this.addOrderDetail.bind(this);\r\n        this.removeSelect = this.removeSelect.bind(this);\r\n        this.handleCode = this.handleCode.bind(this);\r\n        this.handleQuantity = this.handleQuantity.bind(this);\r\n        this.handleUser = this.handleUser.bind(this);\r\n        this.getAllProducts = this.getAllProducts.bind(this);\r\n        this.getAllUsers = this.getAllUsers.bind(this);\r\n        this.filterUsernames = this.filterUsernames.bind(this);\r\n        this.setFilterUsernames = this.setFilterUsernames.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.handleDiscountChange = this.handleDiscountChange.bind(this);\r\n        this.handleDiscountAmount = this.handleDiscountAmount.bind(this);\r\n        this.handleType = this.handleType.bind(this);\r\n        this.handleSpecial = this.handleSpecial.bind(this);\r\n        this.state = {\r\n            users: [],\r\n            products: [],\r\n            order: {},\r\n            selects: [],\r\n            filterUsernames: [],\r\n            selectedUser: null,\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            checked: false,\r\n            discountAmount: '0',\r\n            type: '',\r\n            special: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllProducts();\r\n        this.getAllUsers();\r\n    }\r\n\r\n    getAllUsers() {\r\n        getUsers().then(res => {\r\n            if (res.data != null && res.data.users.length >= 1) {\r\n                this.setState({ users: res.data.users });\r\n                this.setState({ selectedUser: res.data.users[0] })\r\n                let usernames = [];\r\n                for (let i = 0; i < res.data.users.length; i++) {\r\n                    usernames[i] = {\r\n                        label: res.data.users[i].instagramUsername,\r\n                        value: res.data.users[i].instagramUsername\r\n                    }\r\n                }\r\n                this.setFilterUsernames(usernames);\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    setFilterUsernames(users) {\r\n        this.setState({ filterUsernames: users });\r\n    }\r\n\r\n    getAllProducts() {\r\n        getProducts().then(res => {\r\n            if (res.data != null && res.data.products.length >= 1) {\r\n                this.setState({ products: res.data.products, selects: [{ quantity: 1, code: res.data.products[0].code }] });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    addOrderDetail(event) {\r\n        event.preventDefault();\r\n        this.setState({ selects: [...this.state.selects, { quantity: 1, code: this.state.products[0].code }] });\r\n    }\r\n\r\n    removeSelect(event, index) {\r\n        event.preventDefault();\r\n        let newSelects = [...this.state.selects];\r\n        newSelects.splice(index, 1);\r\n        this.setState({ selects: newSelects });\r\n    }\r\n\r\n    handleQuantity(index, event) {\r\n        let newQuantity = event.target.value;\r\n        if (this.state.selects[index]) {\r\n            this.setState(prevState => ({\r\n                selects: prevState.selects.map((select, i) => {\r\n                    return index === i? { ...select, quantity: Number(newQuantity) } : select;\r\n                })\r\n            }));\r\n        } else {\r\n            this.setState({ selects: [...this.state.selects, { quantity: Number(newQuantity) } ] });\r\n        }\r\n    }\r\n\r\n    handleCode(index, event) {\r\n        let newCode = event.target.value;\r\n        if (this.state.selects[index]) {\r\n            this.setState(prevState => ({\r\n                selects: prevState.selects.map((select, i) => {\r\n                    return index === i? { ...select, code: newCode } : select;\r\n                })\r\n            }));\r\n        } else {\r\n            this.setState({ selects: [...this.state.selects, { code: newCode } ] });\r\n        }\r\n    }\r\n\r\n    handleUser(selectedOption) {\r\n        this.setState({ order: { customerId: selectedOption.value }, selectedUser: selectedOption.value });\r\n    }\r\n\r\n    submitOrder() {\r\n        let order = this.state.order;\r\n        order['deliveryDate'] = '';\r\n        order['orderDetails'] = this.state.selects;\r\n        order['discountPercentage'] = this.state.discountAmount;\r\n        order['type'] = this.state.type;\r\n        order['special'] = this.state.special;\r\n        if (order.customerId === '' || order.customerId == null) {\r\n            this.setState({ errMsg: 'no Instagram username is supplied', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        } else {\r\n            insertOrder(order).then(res => {\r\n                this.setState({ discountAmount: '0', checked: false, selects: [{ quantity: 1, code: this.state.products[0].code }], order: {} });\r\n                this.props.getOrders();\r\n                this.props.closeModal();\r\n            }, err => {\r\n                this.setState({ errMsg: err.response.data.msg, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ errMsg: '', hideAlert: true });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    filterUsernames(event) {\r\n        const filterUsername = event.target.value;\r\n        this.setState(prevState => ({\r\n            filterUsernames: this.state.users.filter((user, i) => {\r\n                return user.instagramUsername.includes(filterUsername);\r\n            })\r\n        }));\r\n    }\r\n\r\n    handleDiscountChange() {\r\n        this.setState({ checked: !this.state.checked })\r\n    }\r\n\r\n    handleDiscountAmount(event) {\r\n        this.setState({ discountAmount: event.target.value });\r\n    }\r\n\r\n    handleType(e) {\r\n        this.setState({ type: e.target.value });\r\n    }\r\n\r\n    handleSpecial() {\r\n        this.setState({ special: !this.state.special });\r\n    }\r\n\r\n    render() {\r\n        let { selectedUser } = this.state;\r\n        if (selectedUser !== null) {\r\n            selectedUser = selectedUser.instagramUsernamel;\r\n        }\r\n        let applyDiscount = null;\r\n        if (this.state.checked) {\r\n            applyDiscount = <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Discount:</label>\r\n                                    <input type=\"number\" className=\"form-control\" id=\"discount\" placeholder=\"Discount Percentage\" onChange={this.handleDiscountAmount} />\r\n                                </div>\r\n                            </div>\r\n        }\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showModalInsert}>\r\n                        <ModalHeader>New Order</ModalHeader>\r\n                        <ModalBody>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                                    { this.state.errMsg }\r\n                                </div>\r\n                                <label>Instagram Username:</label>\r\n                                <Select\r\n                                    value={selectedUser}\r\n                                    onChange={this.handleUser}\r\n                                    options={this.state.filterUsernames}\r\n                                />\r\n                            </div>\r\n                            <hr />\r\n                            <div className=\"add-btn-container\">\r\n                                <button className=\"btn btn-info\" onClick={ (event) => this.addOrderDetail(event) }>Add Suborder</button>\r\n                            </div>\r\n\r\n                            {\r\n                                this.state.selects.map((select, index) => {\r\n                                    return(\r\n                                        <div className=\"row\" key={ index }>\r\n                                            <div className=\"col-md-3\">Sub-order {index + 1}</div>\r\n                                            <div className=\"col-md-3 form-group\">\r\n                                                <select className=\"custom-select\" value={this.state.selects[index].quantity} onChange={(event) => this.handleQuantity(index, event)}>\r\n                                                    <option>1</option>\r\n                                                    <option>2</option>\r\n                                                    <option>3</option>\r\n                                                    <option>4</option>\r\n                                                    <option>5</option>\r\n                                                    <option>6</option>\r\n                                                    <option>7</option>\r\n                                                    <option>8</option>\r\n                                                    <option>9</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"col-md-3 form-group\">\r\n                                                <select className=\"custom-select\" value={this.state.selects[index].code} onChange={(event) => this.handleCode(index, event)}>\r\n                                                    {\r\n                                                        this.state.products.map((product, index) => {\r\n                                                            return <option key={ index } value={ product.code }>{ `${product.name} - ${product.code}` }</option>\r\n                                                        })\r\n                                                    }\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"col-md-3\">\r\n                                                <FontAwesomeIcon className=\"fa-times-delete\" hidden={ this.state.selects.length === 1 } onClick={ (event) => this.removeSelect(event, index) } icon={faTimes} />\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-control custom-checkbox\">\r\n                                    <input className=\"custom-control-input\" id=\"customCheck\" type=\"checkbox\" checked={ this.state.checked } onChange={ this.handleDiscountChange } />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"customCheck\">Apply discount</label>\r\n                                </div>\r\n                            </div>\r\n                            { applyDiscount }\r\n                            <hr />\r\n                            <div className=\"form-group\">\r\n                                <label>Special Discount:</label>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-control custom-checkbox\">\r\n                                    <input className=\"custom-control-input\" id=\"specialCheck\" type=\"checkbox\" onChange={ this.handleSpecial } />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"specialCheck\">Special Discount</label>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Type:</label>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-control custom-radio\">\r\n                                    <input type=\"radio\" id=\"vooRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"voo\" onChange={this.handleType} />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"vooRadio\">Delivery Service</label>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-control custom-radio\">\r\n                                    <input type=\"radio\" id=\"noneRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"\" onChange={this.handleType} />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"noneRadio\">None</label>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <button type=\"submit\" className=\"btn btn-info\" onClick={(event) => this.submitOrder(event)}>Add Order</button>\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={this.closeModal}>Cancel</button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nimport './Paginatior.css';\r\n\r\nexport default class Paginatior extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        this.state = {\r\n            activePage: 1,\r\n            itemsPerPage: this.props.itemsPerPage,\r\n            items: this.props.items\r\n        }\r\n    }\r\n    \r\n    handlePageChange(pageNumber) {\r\n        this.setState({ activePage: pageNumber }, () => {\r\n            const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n            const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n            const itemsShown = this.props.items.slice(indexOfFirstThing, indexOfLastThing);\r\n            this.props.handleItems(itemsShown, pageNumber);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"pagination__container\">\r\n                <Pagination\r\n                innerClass=\"pagination-overriden\"\r\n                onChange={this.handlePageChange}\r\n                activePage={this.state.activePage}\r\n                totalItemsCount={this.props.items.length}\r\n                itemsCountPerPage={this.state.itemsPerPage}\r\n                itemClass=\"item-page\"\r\n                activeClass=\"item-active-page\"\r\n                hideNavigation={true}\r\n                linkClass=\"link-page\"\r\n                activeLinkClass=\"link-active-page\"\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { sendReceipt } from '../../lib/Api';\r\n\r\nexport default class Receipt extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.sendEmail = this.sendEmail.bind(this);\r\n        this.handleFees = this.handleFees.bind(this);\r\n        this.state = {\r\n            deliveryFees: -1,\r\n            hideAlert: true,\r\n            hideInfoAlert: true,\r\n            errMsg: ''\r\n        }\r\n    }\r\n\r\n    sendEmail() {\r\n        if (this.state.deliveryFees != -1) {\r\n            let emailBody = {\r\n                deliveryFees: Number(this.state.deliveryFees),\r\n                price: this.props.order.price,\r\n                orderDetails: this.props.order.orderDetails,\r\n                username: this.props.order.customerId\r\n            }\r\n            this.setState({ hideInfoAlert: false });\r\n            sendReceipt(emailBody).then(res => {\r\n                this.props.closeModal();\r\n                this.setState({ deliveryFees: -1, hideAlert: true, errMsg: '', hideInfoAlert: true });\r\n            }).catch(err => {\r\n                this.setState({ hideAlert: false, errMsg: 'Error sending receipt via email', hideInfoAlert: true });\r\n            })\r\n        } else {\r\n            this.setState({ hideAlert: false, errMsg: 'All fields should be filled' });\r\n        }\r\n    }\r\n\r\n    handleFees(e) {\r\n        this.setState({ deliveryFees: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showEmailModal}>\r\n                    <ModalHeader>Receipt via email</ModalHeader>\r\n                    <ModalBody>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <div className=\"alert alert-info\" role=\"alert\" hidden={this.state.hideInfoAlert}>\r\n                        Sending...\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <div className=\"form-group\">\r\n                            <label>Delivery Fees:</label>\r\n                            <input type=\"number\" className=\"form-control\" id=\"deliveryFees\" placeholder=\"Delivery Fees\" onChange={this.handleFees} />\r\n                        </div>\r\n                    </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button className=\"btn btn-info\" onClick={() => this.sendEmail()}>Send</button>\r\n                        <button className=\"btn btn-danger\" onClick={() => this.props.closeModal()}>Cancel</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport OrderEdit from '../OrderEdit/OrderEdit';\r\nimport OrderInsert from '../OrderInsert/OrderInsert';\r\nimport Paginator from '../Paginatior/Paginatior';\r\nimport Select from 'react-select';\r\n\r\nimport { getOrders, deleteOrders } from '../../lib/Api';\r\nimport { addDeleteCheckers } from '../../lib/helper_functions';\r\n\r\nimport './Order.css';\r\nimport Receipt from '../Receipt/Receipt';\r\n\r\nexport default class Order extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.changeCheckboxValue = this.changeCheckboxValue.bind(this);\r\n        this.deleteOrders = this.deleteOrders.bind(this);\r\n        this.filterOrders = this.filterOrders.bind(this);\r\n        this.editOrder = this.editOrder.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.insertOrder = this.insertOrder.bind(this);\r\n        this.getAllOrders = this.getAllOrders.bind(this);\r\n        this.handleOrdersShown = this.handleOrdersShown.bind(this);\r\n        this.updateOrder = this.updateOrder.bind(this);\r\n        this.checkAllDelete = this.checkAllDelete.bind(this);\r\n        this.setOrdersShown = this.setOrdersShown.bind(this);\r\n        this.sortOrders = this.sortOrders.bind(this);\r\n        this.handleFilter = this.handleFilter.bind(this);\r\n        this.handleFilterAttribute = this.handleFilterAttribute.bind(this);\r\n        this.sendEmail = this.sendEmail.bind(this);\r\n        this.closeEmailModal = this.closeEmailModal.bind(this);\r\n        this.state = {\r\n            orders: [],\r\n            filteredOrders: [],\r\n            showModal: false,\r\n            showModalInsert: false,\r\n            showEmailModal: false,\r\n            orderToEdit: {},\r\n            orderToSend: {},\r\n            itemsPerPage: 15,\r\n            activePage: 1,\r\n            ordersShown: [],\r\n            checkAll: false,\r\n            sortType: false,\r\n            hideAlert: true,\r\n            errMsg: '',\r\n            sortingDates: {\r\n                placingDate: false,\r\n                deliveryDate: false\r\n            },\r\n            filterValue: '',\r\n            filterAttribute: 'price',\r\n            filterAttributeOptions: [\r\n                { label: 'Price', value: 'price' },\r\n                { label: 'Status', value: 'status' },\r\n                { label: 'Discount', value: 'discountPercentage' },\r\n                { label: 'Customer', value: 'customerId' }\r\n            ]\r\n        }\r\n    }\r\n\r\n    getAllOrders() {\r\n        getOrders().then(res => {\r\n            if (res.data != null && res.data.orders.length >= 1) {\r\n                this.setState({ orders: addDeleteCheckers(res.data.orders), filterOrders: addDeleteCheckers(res.data.orders) });\r\n                this.setOrdersShown();\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    sortOrders(orders, sortFieldFlag, field) {\r\n        this.setState(prevState => ({\r\n            sortingDates: {\r\n                ...prevState.sortingDates,\r\n                [field]: sortFieldFlag\r\n            }\r\n        }));\r\n        orders.sort(function(a,b){\r\n            return sortFieldFlag? new Date(b[field]) - new Date(a[field]) : new Date(a[field]) - new Date(b[field]);\r\n        });\r\n        this.setState({ orders });\r\n        this.setOrdersShown();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllOrders();\r\n    }\r\n\r\n    setOrdersShown(orders) {\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        if (orders === undefined) {\r\n            this.setState({ ordersShown: this.state.orders.slice(indexOfFirstThing, indexOfLastThing) });\r\n        } else {\r\n            this.setState({ ordersShown: orders.slice(indexOfFirstThing, indexOfLastThing) });\r\n        }\r\n    }\r\n\r\n    filterOrders() {\r\n        let orders = this.state.orders;\r\n        let filteredOrders = orders.filter(order => {\r\n            return !order['toDelete'];\r\n        });\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ orders: filteredOrders, ordersShown: filteredOrders.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    insertOrder() {\r\n        this.setState({ showModalInsert: true });\r\n    }\r\n\r\n    deleteOrders() {\r\n        const idsToDelete = [];\r\n        this.state.orders.map((order) => {\r\n            if (order['toDelete']) { \r\n                idsToDelete.push(order._id);\r\n            }\r\n        });\r\n        for (let i = 0; i < idsToDelete.length; i++) {\r\n            deleteOrders(idsToDelete[i]).then(res => {\r\n                this.setState({ errMsg: `the order(s) selected are deleted successfully`, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n                this.filterOrders();\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    }\r\n\r\n    editOrder(order) {\r\n        this.setState({ orderToEdit: order, showModal: true });\r\n    }\r\n\r\n    updateOrder(order) {\r\n        this.setState(prevState => ({\r\n            orders: prevState.orders.map((stateOrder) => {\r\n                return order.orderId === stateOrder._id? {...stateOrder, orderDetails: order.orderDetails, price: order.price, status: order.status, deliveryDate: order.deliveryDate, discountPercentage: order.discountPercentage, surveyResponse: order.surveyResponse, surveySent: order.surveySent, type: order.type, special: order.special} : stateOrder;\r\n            })\r\n        }), () => {\r\n            this.setOrdersShown()\r\n        });\r\n    }\r\n\r\n    changeCheckboxValue(index, event) {\r\n        if (index === -1) {\r\n            this.setState(prevState => ({\r\n                orders: prevState.orders.map((stateOrder) => {\r\n                    stateOrder['toDelete'] = prevState.checkAll? false : true;\r\n                    return stateOrder;\r\n                }), checkAll: !prevState.checkAll\r\n            }));\r\n            \r\n            return;\r\n        } else if (this.state.activePage > 1) {\r\n            index += ((this.state.activePage - 1) * this.state.itemsPerPage);\r\n        }\r\n        let orders = this.state.orders;\r\n        orders[index]['toDelete'] = event.target.checked;\r\n        this.setState({ orders });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ showModal: false, showModalInsert: false });\r\n    }\r\n\r\n    handleOrdersShown(orders, activePage) {\r\n        this.setState({ ordersShown: orders, activePage });\r\n    }\r\n\r\n    checkAllDelete() {\r\n        let orders = this.state.orders;\r\n        for (let i = 0; i < orders; i++) {\r\n            if (!orders[i]['toDelete']) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    handleFilter(e) {\r\n        this.setState({ filterValue: e.target.value });\r\n        let newOrders = [];\r\n        switch(this.state.filterAttribute) {\r\n            case 'price':\r\n            case 'discountPercentage':\r\n                newOrders = this.state.orders.filter((order, index) => {\r\n                    return order[this.state.filterAttribute] >= e.target.value;\r\n                });\r\n                break;\r\n            case 'customerId':\r\n            case 'status':\r\n                newOrders = this.state.orders.filter(order => {\r\n                    return order[this.state.filterAttribute].includes(e.target.value);\r\n                });\r\n                break;\r\n        }\r\n        this.setState({ filteredOrders: newOrders });\r\n        this.setOrdersShown(newOrders);\r\n    }\r\n\r\n    handleFilterAttribute(e) {\r\n        this.setState({ filterAttribute: e.value, filterValue: ''});\r\n        this.handleFilter({ target: { value: '' } });\r\n        this.setOrdersShown();\r\n    }\r\n\r\n    sendEmail(order) {\r\n        this.setState({ orderToSend: order, showEmailModal: true });\r\n    }\r\n\r\n    closeEmailModal() {\r\n        this.setState({ showEmailModal: false });\r\n    }\r\n\r\n    render() {\r\n        let { filterAttribute } = this.state;\r\n        filterAttribute = filterAttribute.label;\r\n        return(\r\n            <div className=\"row orders__container\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-6\">\r\n                            <div className=\"orders__filters-container\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-5\">\r\n                                        <Select\r\n                                            defaultValue={filterAttribute}\r\n                                            value={filterAttribute}\r\n                                            onChange={this.handleFilterAttribute}\r\n                                            options={this.state.filterAttributeOptions}\r\n                                            placeholder={`Select filter ...`}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"col-lg-5\">\r\n                                        <input type=\"text\" className=\"form-control\" id=\"filter\" placeholder={`Filter by ${this.state.filterAttribute}`} onChange={this.handleFilter} value={this.state.filterValue} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-6\">\r\n                            <div className=\"orders__btn-container\">\r\n                                <button className=\"btn btn-info orders__btn\" onClick={this.insertOrder}>Insert</button>\r\n                                <button className=\"btn btn-danger orders__btn\" onClick={this.deleteOrders}>Delete</button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <table className=\"table table-bordered\">\r\n                        <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th>\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-checkbox\">\r\n                                            <input className=\"custom-control-input\" id={ \"customCheckAll\" } type=\"checkbox\" checked={this.state.checkAll} onChange={(event) => this.changeCheckboxValue(-1, event)} />\r\n                                            <label className=\"custom-control-label\" htmlFor={ \"customCheckAll\" }></label>\r\n                                        </div>\r\n                                    </div>\r\n                                </th>\r\n                                <th>Customer</th>\r\n                                <th>Order #</th>\r\n                                <th style={{ minWidth: '90px' }}>Order</th>\r\n                                <th>Price</th>\r\n                                <th className='sorting-columns' onClick={() => this.sortOrders(this.state.orders, !this.state.sortingDates.placingDate, 'placingDate')}>Placement Date</th>\r\n                                <th className='sorting-columns' onClick={() => this.sortOrders(this.state.orders, !this.state.sortingDates.deliveryDate, 'deliveryDate')}>Delivery Date</th>\r\n                                <th>Status</th>\r\n                                <th>Survey Sent</th>\r\n                                <th>Survey Response</th>\r\n                                <th>Edit</th>\r\n                                <th>Receipt</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                this.state.ordersShown.map((order, index) => {\r\n                                    return(\r\n                                        // style={{ backgroundColor:  Number(order.discountPercentage) !== 0? `rgb(${Number(order.discountPercentage) + 155}, 10, 0)` : \"#fff\", color: Number(order.discountPercentage) !== 0? '#fff' : '#000' }}\r\n                                        <tr key={ index } style={{ backgroundColor: order.type === 'voo'? 'rgb(246, 138, 33)' : 'rgb(255, 255, 255)'  }}>\r\n                                            <td>\r\n                                                <div className=\"form-group\">\r\n                                                    <div className=\"custom-control custom-checkbox\">\r\n                                                        <input className=\"custom-control-input\" id={ \"customCheck\" + index } type=\"checkbox\" checked={order['toDelete']} onChange={(event) => this.changeCheckboxValue(index, event)} />\r\n                                                        <label className=\"custom-control-label\" htmlFor={ \"customCheck\" + index }></label>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td>{ order.customerId }</td>\r\n                                            <td>{ order.orderNumber }</td>\r\n                                            <td>\r\n                                                {\r\n                                                    order.orderDetails.map((orderDetail, i) => {\r\n                                                        return(\r\n                                                            <div key={ i }>{ orderDetail.quantity } x { orderDetail.code }</div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </td>\r\n                                            <td style={{ backgroundColor: order.special? 'rgb(255, 81, 66)' : order.type === 'voo'? 'rgb(246, 138, 33)' : 'rgb(255, 255, 255)'  }}>\r\n                                                { order.price.toFixed(0) } { Number(order.discountPercentage) !== 0? '(' + (order.discountPercentage) + '%)' : '' }\r\n                                            </td>\r\n                                            <td>{ new Date(order.placingDate).toLocaleString() }</td>\r\n                                            <td>{ order.deliveryDate === null || order.deliveryDate === ''? '' : new Date(order.deliveryDate).toLocaleString() }</td>\r\n                                            <td>{ order.status }</td>\r\n                                            <td>{ order.surveySent ? 'yes' : 'no' }</td>\r\n                                            <td>{ order.surveyResponse ? 'yes' : 'no' }</td>\r\n                                            <td>\r\n                                                <button className=\"btn btn-info\"  onClick={() => this.editOrder(order)}>Edit</button>\r\n                                            </td>\r\n                                            <td>\r\n                                                <button className=\"btn btn-info\"  onClick={() => this.sendEmail(order)}>Send</button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                }) \r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    {/* <button >Placement Date</button> */}\r\n                    <Paginator items={this.state.filteredOrders.length > 0? this.state.filteredOrders : this.state.orders} itemsPerPage={this.state.itemsPerPage} handleItems={this.handleOrdersShown} />\r\n                    <OrderEdit showModal={this.state.showModal} order={this.state.orderToEdit} closeModal={this.closeModal} updateOrder={this.updateOrder}></OrderEdit>\r\n                    <OrderInsert showModalInsert={this.state.showModalInsert} closeModal={this.closeModal} getOrders={this.getAllOrders}></OrderInsert>\r\n                    <Receipt showEmailModal={this.state.showEmailModal} order={this.state.orderToSend} closeModal={this.closeEmailModal}></Receipt>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { insertProduct } from '../../lib/Api';\r\n\r\nexport default class ProductInsert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleName = this.handleName.bind(this);\r\n        this.handleCode = this.handleCode.bind(this);\r\n        this.handlePrice = this.handlePrice.bind(this);\r\n        this.handleQuantity = this.handleQuantity.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.submitProduct = this.submitProduct.bind(this);\r\n        this.handleImage = this.handleImage.bind(this);\r\n        this.state = {\r\n            product: {},\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            image: null\r\n        }\r\n    }\r\n\r\n    handleName(event) {\r\n        const name = event.target.value;\r\n        this.setState(prevState => ({\r\n            product: {\r\n                ...prevState.product,\r\n                name   \r\n            }\r\n        }));\r\n    }\r\n\r\n    handleCode(event) {\r\n        const code = event.target.value;\r\n        this.setState(prevState => ({\r\n            product: {\r\n                ...prevState.product,\r\n                code  \r\n            }\r\n        }));\r\n    }\r\n\r\n    handlePrice(event) {\r\n        const price = event.target.value;\r\n        if (price > 0) {\r\n            this.setState(prevState => ({\r\n                product: {\r\n                    ...prevState.product,\r\n                    price\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n    handleQuantity(event) {\r\n        const quantity = event.target.value;\r\n        if (quantity > 0) {\r\n            this.setState(prevState => ({\r\n                product: {\r\n                    ...prevState.product,\r\n                    quantity\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n    submitProduct() {\r\n        const data = new FormData();\r\n        data.append('imageName', this.state.file);\r\n        let product = this.state.product;\r\n        if (product.name == null || product.code == null || product.price == null || product.quantity == null) {\r\n            this.setState({ errMsg: 'please fill all fields with valid values', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        } else {\r\n            data.append('name', product.name);\r\n            data.append('code', product.code);\r\n            data.append('price', product.price);\r\n            data.append('quantity', product.quantity);\r\n            insertProduct(data).then(res => {\r\n                this.props.getProducts();\r\n                this.props.closeModal();\r\n            }, err => {\r\n                if (err.response.data && !err.response.data.msg) {\r\n                    if (err.response.data.includes('Image already exists')) {\r\n                        this.setState({ errMsg: 'The image already exists', hideAlert: false }, () => {\r\n                            window.setTimeout(()=>{\r\n                                this.setState({ errMsg: '', hideAlert: true })\r\n                            }, 7000)\r\n                        });\r\n                    } else {\r\n                        this.setState({ errMsg: 'The code should be in the form of one capital letter, one number, a dot then a series of numbers (A1.1)', hideAlert: false }, () => {\r\n                            window.setTimeout(()=>{\r\n                              this.setState({ errMsg: '', hideAlert: true })\r\n                            }, 7000)\r\n                        });\r\n                    }\r\n                } else {\r\n                    this.setState({ errMsg: err.response.data.msg, hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ errMsg: '', hideAlert: true });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    handleImage(event) {\r\n        this.setState({ file: event.target.files[0] });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showModalInsert}>\r\n                        <ModalHeader>New Product</ModalHeader>\r\n                        <ModalBody>\r\n                        <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                            { this.state.errMsg }\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Name:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"productName\" placeholder=\"Name\" onChange={this.handleName} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Code:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"productCode\" placeholder=\"Code\" onChange={this.handleCode} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Price:</label>\r\n                                    <input type=\"number\" className=\"form-control\" id=\"productPrice\" placeholder=\"Price\" onChange={this.handlePrice} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Quantity:</label>\r\n                                    <input type=\"number\" className=\"form-control\" id=\"productQuantity\" placeholder=\"Quantity\" onChange={this.handleQuantity} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Image:</label>\r\n                                    <input type=\"file\" name=\"image\" className=\"form-control\" id=\"productImage\" placeholder=\"Upload an image...\" onChange={this.handleImage}/>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <button type=\"submit\" className=\"btn btn-info\" onClick={(event) => this.submitProduct(event)}>Add Product</button>\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={this.closeModal}>Cancel</button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { editProduct } from '../../lib/Api';\r\n\r\nexport default class ProductEdit extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: 'default',\r\n            price: 'default',\r\n            quantity: 'default',\r\n            availableToSell: 'default',\r\n            hideAlert: true\r\n        }\r\n    }\r\n\r\n    handleName = (e) => {\r\n        this.setState({ name: e.target.value });\r\n    }\r\n\r\n    handlePrice = (e) => {\r\n        this.setState({ price: e.target.value });\r\n    }\r\n\r\n    handleQuantity = (e) => {\r\n        this.setState({ quantity: e.target.value });\r\n    }\r\n\r\n    handleAvailableToSell = (e) => {\r\n        this.setState({ availableToSell: e.target.value });\r\n    }\r\n\r\n    editProduct = () => {\r\n        if (this.state.name === '' || this.state.price === '' || this.state.quantity === '' || this.state.availableToSell === '') {\r\n            this.setState({ errMsg: 'all fields should be filled', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        } else {\r\n            const editProductBody = {\r\n                code: this.props.product.code,\r\n                name: this.state.name === 'default'? this.props.product.name : this.state.name,\r\n                price: this.state.price === 'default'? this.props.product.price : this.state.price,\r\n                quantity: this.state.quantity === 'default'? this.props.product.quantity : this.state.quantity,\r\n                availableToSell: this.state.availableToSell === 'default'? this.props.product.availableToSell : this.state.availableToSell,\r\n            }\r\n            editProduct(editProductBody).then(res => {\r\n                this.props.getProducts();\r\n                this.props.closeEditModal();\r\n            }).catch(err => {\r\n                this.setState({ errMsg: err.response.data, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n                <Modal isOpen={this.props.showModalEdit}>\r\n                    <ModalHeader>Existing Product</ModalHeader>\r\n                    <ModalBody>\r\n                        <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                            { this.state.errMsg }\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Name:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Enter Your Name\" onChange={this.handleName} value={this.state.name === 'default'? this.props.product.name : this.state.name} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Price:</label>\r\n                                <input type=\"number\" className=\"form-control\" id=\"price\" placeholder=\"Enter Your Price\" onChange={this.handlePrice} value={this.state.price === 'default'? this.props.product.price : this.state.price} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Quantity:</label>\r\n                                <input type=\"number\" className=\"form-control\" id=\"quantity\" placeholder=\"Enter Your Quantity\" onChange={this.handleQuantity} value={this.state.quantity === 'default'? this.props.product.quantity : this.state.quantity} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Available To Sell:</label>\r\n                                <input type=\"number\" className=\"form-control\" id=\"availableToSell\" placeholder=\"Enter Your Available To Sell\" onChange={this.handleAvailableToSell} value={this.state.availableToSell === 'default'? this.props.product.availableToSell : this.state.availableToSell} />\r\n                            </div>\r\n                        </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button type=\"submit\" className=\"btn btn-info\" onClick={this.editProduct}>Edit</button>\r\n                        <button className=\"btn btn-danger\" onClick={(event) => this.props.closeEditModal(event)}>Cancel</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport ProductInsert from '../ProductInsert/ProductInsert';\r\nimport Paginator from '../Paginatior/Paginatior';\r\nimport * as Constants from '../../constants';\r\n\r\nimport { getProducts, deleteProducts } from '../../lib/Api';\r\nimport { addDeleteCheckers } from '../../lib/helper_functions';\r\nimport './Product.css';\r\nimport ProductEdit from '../ProductEdit/ProductEdit';\r\n\r\nexport default class Product extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.changeCheckboxValue = this.changeCheckboxValue.bind(this);\r\n        this.deleteProducts = this.deleteProducts.bind(this);\r\n        this.filterProducts = this.filterProducts.bind(this);\r\n        this.closeEditModal = this.closeEditModal.bind(this);\r\n        this.editProduct = this.editProduct.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.insertProduct = this.insertProduct.bind(this);\r\n        this.getAllProducts = this.getAllProducts.bind(this);\r\n        this.handleProductsShown = this.handleProductsShown.bind(this);\r\n        this.state = {\r\n            products: [],\r\n            showModal: false,\r\n            showModalInsert: false,\r\n            showModalEdit: false,\r\n            productToEdit: {},\r\n            productsShown: [],\r\n            itemsPerPage: 15,\r\n            activePage: 1,\r\n            checkAll: false,\r\n            hideAlert: true,\r\n            errMsg: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllProducts();\r\n    }\r\n\r\n    insertProduct() {\r\n        this.setState({ showModalInsert: true });\r\n    }\r\n\r\n    editProduct(product) {\r\n        this.setState({ showModalEdit: true, productToEdit: product });\r\n    }\r\n\r\n    closeEditModal() {\r\n        this.setState({ showModalEdit: false });\r\n    }\r\n\r\n    getAllProducts() {\r\n        getProducts().then(res => {\r\n            if (res.data != null && res.data.products.length >= 1) {\r\n                this.setState({ products: addDeleteCheckers(res.data.products) });\r\n                const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n                const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n                this.setState({ productsShown: this.state.products.slice(indexOfFirstThing, indexOfLastThing) });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    deleteProducts() {\r\n        const idsToDelete = [];\r\n        this.state.products.map((product) => {\r\n            if (product['toDelete']) { \r\n                idsToDelete.push(product.code);\r\n            }\r\n        });\r\n        for (let i = 0; i < idsToDelete.length; i++) {\r\n            deleteProducts(idsToDelete[i]).then(res => {\r\n                this.setState({ errMsg: `the product(s) selected are deleted successfully`, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n                this.filterProducts();\r\n            }).catch(err => {\r\n                if(err.response && err.response.status === 403) {\r\n                    this.setState({ errMsg: 'this product is already associated with an order', hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    filterProducts() {\r\n        let products = this.state.products;\r\n        let filteredProducts = products.filter(product => {\r\n            return !product['toDelete'];\r\n        });\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ products: filteredProducts, productsShown: filteredProducts.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    changeCheckboxValue(index, event) {\r\n        if (index === -1) {\r\n            this.setState(prevState => ({\r\n                products: prevState.products.map((stateProduct) => {\r\n                    stateProduct['toDelete'] = prevState.checkAll? false : true;\r\n                    return stateProduct;\r\n                }), checkAll: !prevState.checkAll\r\n            }));\r\n            \r\n            return;\r\n        } else if (this.state.activePage > 1) {\r\n            index += ((this.state.activePage - 1) * this.state.itemsPerPage);\r\n        }\r\n        let products = this.state.products;\r\n        products[index]['toDelete'] = event.target.checked;\r\n        this.setState({ products });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ showModal: false, showModalInsert: false });\r\n    }\r\n\r\n    handleProductsShown(products, activePage) {\r\n        this.setState({ productsShown: products, activePage });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"row products__container\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"products__btn-container\">\r\n                        <button className=\"btn btn-info products__btn\" onClick={this.insertProduct}>Insert</button>\r\n                        <button className=\"btn btn-danger products__btn\" onClick={this.deleteProducts}>Delete</button>\r\n                    </div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <div>\r\n                        <table className=\"table table-bordered\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr>\r\n                                    <th>\r\n                                        <div className=\"form-group\">\r\n                                            <div className=\"custom-control custom-checkbox\">\r\n                                                <input className=\"custom-control-input\" id={ \"customCheckAll\" } type=\"checkbox\" checked={this.state.checkAll} onChange={(event) => this.changeCheckboxValue(-1, event)} />\r\n                                                <label className=\"custom-control-label\" htmlFor={ \"customCheckAll\" }></label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </th>\r\n                                    <th>Name</th>\r\n                                    <th>Code</th>\r\n                                    <th>Price</th>\r\n                                    <th>Quantity (remaining/total)</th>\r\n                                    <th>Edit</th>\r\n                                    <th>Photo</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    this.state.productsShown.map((product, index) => {\r\n                                        return(\r\n                                            <tr key={ index }>\r\n                                                <td>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"custom-control custom-checkbox\">\r\n                                                            <input className=\"custom-control-input\" id={ \"customCheck\" + index } type=\"checkbox\" checked={product['toDelete']} onChange={(event) => this.changeCheckboxValue(index, event)} />\r\n                                                            <label className=\"custom-control-label\" htmlFor={ \"customCheck\" + index }></label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>{ product.name }</td>\r\n                                                <td>{ product.code }</td>\r\n                                                <td>{ product.price }</td>\r\n                                                <td>{ product.availableToSell + ' / ' + product.quantity }</td>\r\n                                                <td>\r\n                                                    <button className=\"btn btn-info products__btn\" onClick={() => this.editProduct(product)}>Edit</button>\r\n                                                </td>\r\n                                                <td>\r\n                                                    {\r\n                                                        product.imageName ?\r\n                                                        <button className=\"btn btn-outline-info products__btn product__img\">\r\n                                                            Hover\r\n                                                            <div>\r\n                                                                <img src={ Constants.API_URL + product.imageName } width=\"350\" height=\"350\" />\r\n                                                            </div>\r\n                                                        </button>\r\n                                                        :\r\n                                                        <button>No Image</button>\r\n                                                    }\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    }) \r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <Paginator items={this.state.products} itemsPerPage={this.state.itemsPerPage} handleItems={this.handleProductsShown} />\r\n                    <ProductInsert showModalInsert={this.state.showModalInsert} closeModal={this.closeModal} getProducts={this.getAllProducts}></ProductInsert>\r\n                    <ProductEdit showModalEdit={this.state.showModalEdit} closeEditModal={this.closeEditModal} product={this.state.productToEdit} getProducts={this.getAllProducts}></ProductEdit>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { insertUser } from '../../lib/Api';\r\n\r\nexport default class UserInsert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleName = this.handleName.bind(this);\r\n        this.handleInstagram = this.handleInstagram.bind(this);\r\n        this.handleEmail = this.handleEmail.bind(this);\r\n        this.handlePhone = this.handlePhone.bind(this);\r\n        this.handleAddress = this.handleAddress.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.submitUser = this.submitUser.bind(this);\r\n        this.handleType = this.handleType.bind(this);\r\n        this.state = {\r\n            user: {},\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            type: ''\r\n        }\r\n    }\r\n\r\n    handleName(event) {\r\n        const name = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                name   \r\n            }\r\n        }));\r\n    }\r\n\r\n    handleInstagram(event) {\r\n        const instagramUsername = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                instagramUsername  \r\n            }\r\n        }));\r\n    }\r\n\r\n    handleEmail(event) {\r\n        const email = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                email\r\n            }\r\n        }));\r\n    }\r\n\r\n    handlePhone(event) {\r\n        const phone = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                phone\r\n            }\r\n        }));\r\n    }\r\n\r\n    handleAddress(event) {\r\n        const address = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                address\r\n            }\r\n        }));\r\n    }\r\n\r\n    submitUser() {\r\n        let user = this.state.user;\r\n        if (user.name === '' || user.name === undefined) {\r\n            this.setState({ errMsg: 'Name is required', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        } else {\r\n            user.type = this.state.type;\r\n            let nameSplitted = user.name.split(' ');\r\n            if (user.email === '' || user.email === undefined) {\r\n                user.email = `${nameSplitted[0]}@${nameSplitted[1]}.com`;\r\n            }\r\n            if (user.instagramUsername === '' || user.instagramUsername === undefined) {\r\n                user.instagramUsername = `__${nameSplitted[0]}__${nameSplitted[1]}__`;\r\n            }\r\n            if (user.phone === undefined || user.phone === '' || user.phone.match(/^\\+[0-9]{12,13}$/g) === null) {\r\n                this.setState({ errMsg: 'phone number must start with \"+\", followed by 12-13 digits', hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n            } else {\r\n                if (this.state.hideAlert === true) {\r\n                    insertUser(user).then(res => {\r\n                        this.props.getUsers();\r\n                        this.props.closeModal();\r\n                    }, err => {\r\n                        if (typeof err.response.data == 'object') {\r\n                            this.setState({ errMsg: err.response.data.msg, hideAlert: false }, () => {\r\n                                window.setTimeout(()=>{\r\n                                  this.setState({ errMsg: '', hideAlert: true })\r\n                                }, 4000)\r\n                            });\r\n                            \r\n                        } else {\r\n                            this.setState({ errMsg: err.response.data, hideAlert: false }, () => {\r\n                                window.setTimeout(()=>{\r\n                                  this.setState({ errMsg: '', hideAlert: true })\r\n                                }, 4000)\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ errMsg: '', hideAlert: true });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    handleType(e) {\r\n        this.setState({ type: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showModalInsert}>\r\n                        <ModalHeader>New User</ModalHeader>\r\n                        <ModalBody>\r\n                            <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                                { this.state.errMsg }\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Name:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userName\" placeholder=\"Enter Your Name\" onChange={this.handleName} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Instagram Username:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userInstagram\" placeholder=\"Enter Your Instagram Username\" onChange={this.handleInstagram} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Email:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userEmail\" placeholder=\"Enter Your Email\" onChange={this.handleEmail} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Phone:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userPhone\" placeholder=\"Enter Your Phone\" onChange={this.handlePhone} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Address:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userAddress\" placeholder=\"Enter Your Address\" onChange={this.handleAddress} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Type:</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"custom-control custom-radio\">\r\n                                        <input type=\"radio\" id=\"friendRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"friend\" onChange={this.handleType} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"friendRadio\">Friend</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"custom-control custom-radio\">\r\n                                        <input type=\"radio\" id=\"potentialRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"potential\" onChange={this.handleType} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"potentialRadio\">Potential</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"custom-control custom-radio\">\r\n                                        <input type=\"radio\" id=\"importantRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"important\" onChange={this.handleType} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"importantRadio\">Important</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"custom-control custom-radio\">\r\n                                        <input type=\"radio\" id=\"noneRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"\" onChange={this.handleType} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"noneRadio\">None</label>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <button type=\"submit\" className=\"btn btn-info\" onClick={(event) => this.submitUser(event)}>Add User</button>\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={this.closeModal}>Cancel</button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { editUser } from '../../lib/Api';\r\n\r\nimport './UserEdit.css';\r\n\r\nexport default class UserEdit extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: 'default',\r\n            email: 'default',\r\n            instagramUsername: 'default',\r\n            phone: 'default',\r\n            address: 'default',\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            type: 'default'\r\n        }\r\n    }\r\n\r\n    handleName = (e) => {\r\n        this.setState({ name: e.target.value });\r\n    }\r\n\r\n    handleInstagramUsername = (e) => {\r\n        this.setState({ instagramUsername: e.target.value });\r\n    }\r\n\r\n    handleEmail = (e) => {\r\n        this.setState({ email: e.target.value });\r\n    }\r\n\r\n    handlePhone = (e) => {\r\n        this.setState({ phone: e.target.value });\r\n    }\r\n\r\n    handleAddress = (e) => {\r\n        this.setState({ address: e.target.value });\r\n    }\r\n\r\n    editUser = () => {\r\n        if (this.state.name === '' || this.state.email === '' || this.state.instagramUsername === '' || this.state.phone === '' || this.state.address === '') {\r\n            this.setState({ errMsg: 'all fields should be filled', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        // } else if (!this.state.phone.match(/^\\+[0-9]{12,13}$/g)) {\r\n        //     this.setState({ errMsg: 'phone number must start with \"+\", followed by 12-13 digits', hideAlert: false }, () => {\r\n        //         window.setTimeout(()=>{\r\n        //           this.setState({ errMsg: '', hideAlert: true })\r\n        //         }, 4000)\r\n        //     });\r\n        } else {\r\n            const editUserBody = {\r\n                userId: this.props.user._id,\r\n                name: this.state.name === 'default'? this.props.user.name : this.state.name,\r\n                email: this.state.email === 'default'? this.props.user.email : this.state.email,\r\n                instagramUsername: this.state.instagramUsername === 'default'? this.props.user.instagramUsername : this.state.instagramUsername,\r\n                phone: this.state.phone === 'default'? this.props.user.phone : this.state.phone,\r\n                address: this.state.address === 'default'? this.props.user.address : this.state.address,\r\n                type: this.state.type === 'default'? this.props.user.type : this.state.type\r\n            }\r\n            editUser(editUserBody).then(res => {\r\n                this.props.getUsers();\r\n                this.props.closeEditModal();\r\n            }).catch(err => {\r\n                console.log(err);\r\n                this.setState({ errMsg: err.response.data, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n            })\r\n        }\r\n    }\r\n\r\n    handleType = (e) => {\r\n        this.setState({ type: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n                <Modal isOpen={this.props.showModalEdit}>\r\n                    <ModalHeader>Existing User</ModalHeader>\r\n                    <ModalBody>\r\n                        <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                            { this.state.errMsg }\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Name:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Enter Your Name\" onChange={this.handleName} value={this.state.name === 'default'? this.props.user.name : this.state.name} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Instagram Username:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"instagramUsername\" placeholder=\"Enter Your Instagram Username\" onChange={this.handleInstagramUsername} value={this.state.instagramUsername === 'default'? this.props.user.instagramUsername : this.state.instagramUsername} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Email:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"email\" placeholder=\"Enter Your Email\" onChange={this.handleEmail} value={this.state.email === 'default'? this.props.user.email : this.state.email} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Phone:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"phone\" placeholder=\"Enter Your Phone\" onChange={this.handlePhone} value={this.state.phone === 'default'? this.props.user.phone : this.state.phone} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Address:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"address\" placeholder=\"Enter Your Address\" onChange={this.handleAddress} value={this.state.address === 'default'? this.props.user.address : this.state.address} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Type:</label>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"custom-control custom-radio\">\r\n                                <input type=\"radio\" id=\"friendRadio\" name=\"customRadio\" className=\"custom-control-input\" checked={this.state.type === 'default'? this.props.user.type === 'friend' : this.state.type === 'friend'} value=\"friend\" onChange={this.handleType} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"friendRadio\">Friend</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"custom-control custom-radio\">\r\n                                <input type=\"radio\" id=\"potentialRadio\" name=\"customRadio\" className=\"custom-control-input\" checked={this.state.type === 'default'? this.props.user.type === 'potential' : this.state.type === 'potential'} value=\"potential\" onChange={this.handleType} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"potentialRadio\">Potential</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"custom-control custom-radio\">\r\n                                <input type=\"radio\" id=\"importantRadio\" name=\"customRadio\" className=\"custom-control-input\" checked={this.state.type === 'default'? this.props.user.type === 'important' : this.state.type === 'important'} value=\"important\" onChange={this.handleType} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"importantRadio\">Important</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"custom-control custom-radio\">\r\n                                <input type=\"radio\" id=\"noneRadio\" name=\"customRadio\" className=\"custom-control-input\" checked={this.state.type === 'default'? this.props.user.type === '' : this.state.type === ''} value=\"\" onChange={this.handleType} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"noneRadio\">None</label>\r\n                            </div>\r\n                        </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button type=\"submit\" className=\"btn btn-info\" onClick={this.editUser}>Edit</button>\r\n                        <button className=\"btn btn-danger\" onClick={(event) => this.props.closeEditModal(event)}>Cancel</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport UserInsert from '../UserInsert/UserInsert';\r\nimport Paginator from '../Paginatior/Paginatior';\r\n\r\nimport { getUsers, deleteUsers } from '../../lib/Api';\r\nimport { addDeleteCheckers } from '../../lib/helper_functions';\r\n\r\nimport './User.css';\r\nimport UserEdit from '../UserEdit/UserEdit';\r\n\r\nexport default class User extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.changeCheckboxValue = this.changeCheckboxValue.bind(this);\r\n        this.deleteUsers = this.deleteUsers.bind(this);\r\n        this.filterUsers = this.filterUsers.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.closeEditModal = this.closeEditModal.bind(this);\r\n        this.editUser = this.editUser.bind(this);\r\n        this.insertUser = this.insertUser.bind(this);\r\n        this.getAllUsers = this.getAllUsers.bind(this);\r\n        this.handleUsersShown = this.handleUsersShown.bind(this);\r\n        this.state = {\r\n            users: [],\r\n            showModalInsert: false,\r\n            showModalEdit: false,\r\n            userToEdit: {},\r\n            itemsPerPage: 15,\r\n            activePage: 1,\r\n            usersShown: [],\r\n            checkAll: false,\r\n            hideAlert: true,\r\n            errMsg: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllUsers();\r\n    }\r\n\r\n    getAllUsers() {\r\n        getUsers().then(res => {\r\n            if (res.data != null && res.data.users.length >= 1) {\r\n                this.setState({ users: addDeleteCheckers(res.data.users) });\r\n                const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n                const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n                this.setState({ usersShown: this.state.users.slice(indexOfFirstThing, indexOfLastThing) });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    changeCheckboxValue(index, event) {\r\n        if (index === -1) {\r\n            this.setState(prevState => ({\r\n                users: prevState.users.map((stateUser) => {\r\n                    stateUser['toDelete'] = prevState.checkAll? false : true;\r\n                    return stateUser;\r\n                }), checkAll: !prevState.checkAll\r\n            }));\r\n            \r\n            return;\r\n        } else if (this.state.activePage > 1) {\r\n            index += ((this.state.activePage - 1) * this.state.itemsPerPage);\r\n        }\r\n        let users = this.state.users;\r\n        users[index]['toDelete'] = event.target.checked;\r\n        this.setState({ users });\r\n    }\r\n\r\n    deleteUsers() {\r\n        const idsToDelete = [];\r\n        this.state.users.map((user) => {\r\n            if (user['toDelete']) { \r\n                idsToDelete.push(user.instagramUsername);\r\n            }\r\n        });\r\n        for (let i = 0; i < idsToDelete.length; i++) {\r\n            deleteUsers(idsToDelete[i]).then(res => {\r\n                this.setState({ errMsg: `the user(s) selected are deleted successfully`, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n                this.filterUsers();\r\n            }).catch(err => {\r\n                if(err.response.status === 403) {\r\n                    this.setState({ errMsg: 'this user is already associated with an order', hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    filterUsers() {\r\n        let users = this.state.users;\r\n        let filteredUsers = users.filter(user => {\r\n            return !user['toDelete'];\r\n        });\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ users: filteredUsers, usersShown: filteredUsers.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    insertUser() {\r\n        this.setState({ showModalInsert: true });\r\n    }\r\n\r\n    editUser(user) {\r\n        this.setState({ showModalEdit: true, userToEdit: user });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ showModalInsert: false });\r\n    }\r\n\r\n    closeEditModal() {\r\n        this.setState({ showModalEdit: false });\r\n    }\r\n\r\n    handleUsersShown(users, activePage) {\r\n        this.setState({ usersShown: users, activePage });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"row users__container\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"users__btn-container\">\r\n                        <button className=\"btn btn-info users__btn\" onClick={this.insertUser}>Insert</button>\r\n                        <button className=\"btn btn-danger users__btn\" onClick={this.deleteUsers}>Delete</button>\r\n                    </div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <div>\r\n                        <table className=\"table table-bordered\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr>\r\n                                    <th>\r\n                                        <div className=\"form-group\">\r\n                                            <div className=\"custom-control custom-checkbox\">\r\n                                                <input className=\"custom-control-input\" id={ \"customCheckAll\" } type=\"checkbox\" checked={this.state.checkAll} onChange={(event) => this.changeCheckboxValue(-1, event)} />\r\n                                                <label className=\"custom-control-label\" htmlFor={ \"customCheckAll\" }></label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </th>\r\n                                    <th>Name</th>\r\n                                    <th>Instagram Username</th>\r\n                                    <th>Email</th>\r\n                                    <th>Phone</th>\r\n                                    <th>Address</th>\r\n                                    <th>Edit</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    this.state.usersShown.map((user, index) => {\r\n                                        return(\r\n                                            <tr key={ index } style={{ backgroundColor:  user.type === 'friend'? 'rgb(255, 165, 0)' : user.type === 'important'? 'rgb(144, 238, 144)' : user.type === 'potential'? 'rgb(14, 144, 242)' : 'rgb(255, 255, 255)' }}>\r\n                                                <td>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"custom-control custom-checkbox\">\r\n                                                            <input className=\"custom-control-input\" id={ \"customCheck\" + index } type=\"checkbox\" checked={user['toDelete']} onChange={(event) => this.changeCheckboxValue(index, event)} />\r\n                                                            <label className=\"custom-control-label\" htmlFor={ \"customCheck\" + index }></label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>{ user.name }</td>\r\n                                                <td >\r\n                                                    { user.instagramUsername }\r\n                                                </td>\r\n                                                <td>{ user.email }</td>\r\n                                                <td>{ user.phone }</td>\r\n                                                <td>{ user.address }</td>\r\n                                                <td>\r\n                                                    <button className=\"btn btn-info users__btn\" onClick={() => this.editUser(user)}>Edit</button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    }) \r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <Paginator items={this.state.users} itemsPerPage={this.state.itemsPerPage} handleItems={this.handleUsersShown} />\r\n                    <UserInsert showModalInsert={this.state.showModalInsert} closeModal={this.closeModal} getUsers={this.getAllUsers}></UserInsert>\r\n                    <UserEdit showModalEdit={this.state.showModalEdit} closeEditModal={this.closeEditModal} user={this.state.userToEdit} getUsers={this.getAllUsers}></UserEdit>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { tokenExpired } from './lib/helper_functions';\r\n\r\nconst AuthenticatedRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props => \r\n            localStorage.getItem('token') && !tokenExpired()? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect exact \r\n                    to={{\r\n                        pathname: '/',\r\n                        state: { from: props.location }\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nexport default AuthenticatedRoute;","import React from 'react';\r\nimport { getRevenue } from '../../lib/Api';\r\nimport Header from '../Header/Header';\r\n\r\nimport './Revenue.css';\r\n\r\nexport default class Revenue extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            total: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getRevenue().then(res => {\r\n            this.setState({ total: res.data.result[0].total });\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header></Header>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4 offset-md-4 revenue__container\">\r\n                        <div className=\"revenue__content\">\r\n                            <b>Revenue</b> <br />\r\n                            { this.state.total? this.state.total.toFixed(0) : '' } L.E.\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\n\r\nexport default class AnalyticsSocks extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.modalOpen}>\r\n                    <ModalHeader>Socks Breakdown</ModalHeader>\r\n                    <ModalBody>\r\n                        <div className=\"row\">\r\n                            <div className=\"offset-lg-2 col-lg-8\">\r\n                                <table className=\"analytics__table table\">\r\n                                    <thead className=\"thead-light\">\r\n                                        <tr>\r\n                                            <th>Name (Code)</th>\r\n                                            <th>Count</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    {\r\n                                        this.props.productsCount.map(product => {\r\n                                            return <tr key={product.code}>\r\n                                                <td>\r\n                                                    { `${product.name} (${product.code})` }\r\n                                                </td>\r\n                                                <td>\r\n                                                    { product.count }\r\n                                                </td>\r\n                                            </tr>\r\n                                        })\r\n                                    }\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button className=\"btn btn-danger\" onClick={() => this.props.closeModal()}>Close</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport Header from '../Header/Header';\r\nimport { getOrders, getProducts, getUsers } from '../../lib/Api';\r\n\r\nimport './Analytics.css';\r\nimport AnalyticsSocks from './AnaylticsSocks';\r\n\r\nexport default class Analytics extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.state = {\r\n            usersCount: 0,\r\n            ordersCount: 0,\r\n            productsCount: [],\r\n            totalProducts: 0,\r\n            modalOpen: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getUsers('true').then(res => {\r\n            this.setState({ usersCount: res.data.count });\r\n        });\r\n\r\n        getOrders('true').then(res => {\r\n            this.setState({ ordersCount: res.data.count });\r\n        });\r\n\r\n        getProducts('true').then(res => {\r\n            this.setState({ productsCount: res.data.productsCount });\r\n            let count = 0;\r\n            for (let i = 0; i < res.data.productsCount.length; i++) {\r\n                count += Number(res.data.productsCount[i].count);\r\n            }\r\n            this.setState({ totalProducts: count });\r\n        });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ modalOpen: false });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header></Header>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4 analytics__container\">\r\n                        <div className=\"analytics__content\">\r\n                            <b>Customers</b> <br />\r\n                            {this.state.usersCount}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-4 analytics__container\">\r\n                        <div className=\"analytics__content\">\r\n                            <b>Orders</b> <br />\r\n                            {this.state.ordersCount}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-4 analytics__container\">\r\n                        <div className=\"analytics__content analytics__content--pointer\">\r\n                            <b>Socks</b> <br />\r\n                            <span onClick={() => this.setState({ modalOpen: true })}>\r\n                                {this.state.totalProducts}\r\n                            </span>\r\n                            <div className=\"analytics__content--note\">Click on the number for more details</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <AnalyticsSocks productsCount={this.state.productsCount} modalOpen={this.state.modalOpen} closeModal={this.closeModal} />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { getRankings } from '../../lib/Api';\r\nimport Header from '../Header/Header';\r\n\r\nexport default class Revenue extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleFilter = this.handleFilter.bind(this);\r\n        this.state = {\r\n            rankings: [],\r\n            filter: 'socks'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getRankings().then(res => {\r\n            this.setState({ rankings: res.data.rankings });\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    handleFilter(e) {\r\n        this.setState({ filter: e.target.value });\r\n        getRankings(e.target.value).then(res => {\r\n            this.setState({ rankings: res.data.rankings });\r\n        }).catch(err => {\r\n\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header></Header>\r\n                <div className=\"row\">\r\n                    <div className=\"offset-md-4 col-md-4 text-center\">\r\n                        <div className=\"row\">\r\n                            <div className=\"offset-md-3 col-md-6\">\r\n                                <div className=\"form-group\">\r\n                                    <select className=\"custom-select\" value={this.state.filter} onChange={this.handleFilter}>\r\n                                        <option value=\"orders\"># of orders</option>\r\n                                        <option value=\"socks\"># of socks</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>            \r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4 offset-md-4\">\r\n                        <table class=\"table\">\r\n                            <thead class=\"thead-light\">\r\n                                <tr>\r\n                                <th>#</th>\r\n                                <th>USER</th>\r\n                                <th># OF { this.state.filter.toUpperCase() }</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    this.state.rankings.map((ranking, index) => {\r\n                                        return <tr>\r\n                                            <td>{ index + 1 }</td>\r\n                                            <td>{ ranking._id.customerId }</td>\r\n                                            <td>{ ranking.count }</td>\r\n                                        </tr>\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport Dashboard from './components/Dashboard/Dashboard';\r\nimport Order from './components/Order/Order';\r\nimport Product from './components/Product/Product';\r\nimport User from './components/User/User';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport AuthenticatedRoute from './AuthenticatedRoute';\r\nimport Revenue from './components/Revenue/Revenue';\r\nimport Analytics from './components/Analytics/Analytics';\r\nimport Rankings from './components/Rankings/Rankings';\r\n\r\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\r\n\r\n\r\nconst routing = (\r\n    <div>\r\n        <Router>\r\n        <div>\r\n                <Route exact path=\"/\" component={App} />\r\n                <AuthenticatedRoute path=\"/dashboard\" component={() => <Dashboard first=\"/dashboard/orders\" second=\"/dashboard/products\" third=\"/dashboard/users\" />} />\r\n                <AuthenticatedRoute path=\"/dashboard/orders\" component={Order} />\r\n                <AuthenticatedRoute path=\"/dashboard/products\" component={Product} />\r\n                <AuthenticatedRoute path=\"/dashboard/users\" component={User} />\r\n                <AuthenticatedRoute path=\"/analytics\" component={() => <Dashboard first=\"/analytics/revenue\" second=\"/analytics/totals\" third=\"/analytics/rankings\" />} />\r\n                <AuthenticatedRoute path=\"/analytics/revenue\" component={Revenue} />\r\n                <AuthenticatedRoute path=\"/analytics/totals\" component={Analytics} />\r\n                <AuthenticatedRoute path=\"/analytics/rankings\" component={Rankings} />\r\n            </div>\r\n        </Router>\r\n    </div>\r\n)\r\n\r\nReactDOM.render(routing, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}