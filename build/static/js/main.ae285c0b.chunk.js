(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),l=a.n(r),o=(a(62),a(63),a(4)),c=a(5),i=a(7),u=a(6),d=a(2),m=a(8),h=a(15),p=a(48),b=function(e){for(var t=0;t<e.length;t++)e[t].orderNumber=f(e[t].placingDate),e[t].toDelete=!1;return e},f=function(e){var t=new Date(e).toLocaleDateString().split("/"),a=new Date(e).toLocaleTimeString().split(" ")[0].split(":");return t[0]+t[1]+"-"+t[2]+"-"+a[0]+a[1]+a[2]},v=function(){return null==localStorage.getItem("token")||""===localStorage.getItem("token")||1e3*p(localStorage.getItem("token")).exp<=Date.now()},E=(a(66),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logout=a.logout.bind(Object(d.a)(a)),a.state={redirectToRevenue:!1,redirectToDashboard:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"render",value:function(){return v()||""===localStorage.getItem("token")||null===localStorage.getItem("token")?s.a.createElement("div",{className:"header__main"},s.a.createElement("nav",{className:"navbar fixed-top navbar-light bg-info"},s.a.createElement("div",null,s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(h.b,{to:"/dashboard/orders",style:{color:"#fff",textDecoration:"none"}},"Jawareb")))))):s.a.createElement("div",{className:"header__main"},s.a.createElement("nav",{className:"navbar fixed-top navbar-light bg-info"},s.a.createElement("div",null,s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(h.b,{to:"/dashboard/orders",style:{color:"#fff",textDecoration:"none"}},"Jawareb")),s.a.createElement("li",null,s.a.createElement(h.b,{to:"/dashboard/orders",style:{color:"#fff",textDecoration:"none"}},"Dashboard")),s.a.createElement("li",null,s.a.createElement(h.b,{to:"/analytics/revenue",style:{color:"#fff",textDecoration:"none"}},"Analytics")))),s.a.createElement("div",null,s.a.createElement(h.b,{style:{color:"#fff",textDecoration:"none"},to:"/",onClick:this.logout},"Logout"))))}}]),t}(s.a.Component)),g=a(13),y=a.n(g),N="https://jawareb.herokuapp.com",k=function(){return{headers:{"x-access-token":localStorage.getItem("token")}}},S=function(e){var t=k();return y.a.get(N+"/order".concat("true"===e?"?meta=true":""),t)},O=function(e){var t=k();return y.a.delete(N+"/order/"+e,t)},C=function(e){var t=k();return y.a.get(N+"/product".concat("true"===e?"?meta=true":""),t)},j=function(e){var t=k();return y.a.delete(N+"/product/"+e,t)},M=function(e){var t=k();return y.a.patch(N+"/product",e,t)},P=function(e){var t=k();return y.a.get(N+"/user".concat("true"===e?"?meta=true":""),t)},w=function(e){var t=k();return y.a.delete(N+"/user/"+e,t)},A=function(e){var t=k();return y.a.patch(N+"/user",e,t)},D=a(21),U=(a(87),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleUsername=a.handleUsername.bind(Object(d.a)(a)),a.handlePassword=a.handlePassword.bind(Object(d.a)(a)),a.submitForm=a.submitForm.bind(Object(d.a)(a)),a.state={username:"",password:"",errMsg:"",hideAlert:!0,redirectToDashboard:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"submitForm",value:function(e){var t=this;(e.preventDefault(),""!==this.state.username&&""!==this.state.password)?function(e){return y.a.post(N+"/auth",e)}({username:this.state.username,password:this.state.password}).then(function(e){localStorage.setItem("token",e.data),t.setState({errMsg:"",hideAlert:!0,redirectToDashboard:!0})}).catch(function(e){e.response?"object"==typeof e.response.data?t.setState({errMsg:e.response.data.msg,hideAlert:!1}):t.setState({errMsg:e.response.data,hideAlert:!1}):t.setState({errMsg:e.response,hideAlert:!1})}):this.setState({errMsg:"username and password can't be empty",hideAlert:!1})}},{key:"render",value:function(){return!v()||this.state.redirectToDashboard?s.a.createElement(D.a,{to:"/dashboard"}):s.a.createElement("div",{className:"row auth__main-container"},s.a.createElement("div",{className:"col-md-7 auth__left-container"}),s.a.createElement("div",{className:"col-md-5 auth__right-container"},s.a.createElement("div",{className:"auth__login-form"},s.a.createElement("form",{onSubmit:this.submitForm},s.a.createElement("h4",null,"Jawareb Admin Portal"),s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("div",{className:"auth__login-form-control"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Username",onChange:this.handleUsername,autoComplete:"new-password"})),s.a.createElement("div",{className:"auth__login-form-control"},s.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",onChange:this.handlePassword,autoComplete:"new-password"})),s.a.createElement("div",{className:"auth__login-button"},s.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Login"}))))))}}]),t}(s.a.Component));var T=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(E,null),s.a.createElement(U,null))},_=(a(88),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={activeStyle:{backgroundColor:"#555",color:"#fff"},style:{backgroundColor:"#e9ecef"}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(E,null),s.a.createElement("div",{className:"dashboard__container"},s.a.createElement("div",{className:"btn-group btn-group-lg",role:"group","aria-label":"Basic example"},s.a.createElement(h.c,{className:"btn",to:this.props.first,activeStyle:this.state.activeStyle,style:this.state.style},this.props.first.split("/")[this.props.first.split("/").length-1]),s.a.createElement(h.c,{className:"btn",to:this.props.second,activeStyle:this.state.activeStyle,style:this.state.style},this.props.second.split("/")[this.props.second.split("/").length-1]),s.a.createElement(h.c,{className:"btn",to:this.props.third,activeStyle:this.state.activeStyle,style:this.state.style},this.props.third.split("/")[this.props.third.split("/").length-1]))))}}]),t}(s.a.Component)),R=a(24),x=a(10),I=a(115),F=a(112),q=a(113),Q=a(114),V=(a(89),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).editOrder=a.editOrder.bind(Object(d.a)(a)),a.handleQuantity=a.handleQuantity.bind(Object(d.a)(a)),a.handleCode=a.handleCode.bind(Object(d.a)(a)),a.initOrderDetails=a.initOrderDetails.bind(Object(d.a)(a)),a.handleStatus=a.handleStatus.bind(Object(d.a)(a)),a.handleDiscountChange=a.handleDiscountChange.bind(Object(d.a)(a)),a.handleDiscountAmount=a.handleDiscountAmount.bind(Object(d.a)(a)),a.handleDiscountRemove=a.handleDiscountRemove.bind(Object(d.a)(a)),a.handleSurveySent=a.handleSurveySent.bind(Object(d.a)(a)),a.handleSurveyResponse=a.handleSurveyResponse.bind(Object(d.a)(a)),a.handleType=a.handleType.bind(Object(d.a)(a)),a.handleSpecial=a.handleSpecial.bind(Object(d.a)(a)),a.state={products:[],orderDetails:[],status:"",checked:!1,discountAmount:"0",checkedDiscountRemove:!1,surveySent:"",surveyResponse:"",type:"default",special:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;C().then(function(t){null!=t.data&&t.data.products.length>=1&&e.setState({products:t.data.products})}).catch(function(e){console.log("err: ",e)})}},{key:"editOrder",value:function(){var e,t=this,a=[];if(0===this.state.orderDetails.length)for(var n=0;n<this.props.order.orderDetails.length;n++)a[n]={quantity:this.props.order.orderDetails[n].quantity,code:this.props.order.orderDetails[n].code};else{a=this.state.orderDetails;for(var s=0;s<a.length;s++)""!==a[s].quantity&&null!=a[s].quantity||(a[s].quantity=this.props.order.orderDetails[s].quantity),""!==a[s].code&&null!=a[s].code||(a[s].code=this.props.order.orderDetails[s].code)}e=this.state.checkedDiscountRemove?"0":this.state.checked?this.state.discountAmount:this.props.order.discountPercentage;var r={preOrderDetails:this.props.order.orderDetails,orderDetails:a,status:""===this.state.status?this.props.order.status:this.state.status,orderId:this.props.order._id,discountPercentage:e,surveySent:""===this.state.surveySent?this.props.order.surveySent:this.state.surveySent,surveyResponse:""===this.state.surveyResponse?this.props.order.surveyResponse:this.state.surveyResponse};"delivered"===r.status?r.deliveryDate=this.props.order.deliveryDate?this.props.order.deliveryDate:Date(Date.now):r.deliveryDate="",r.type="default"===this.state.type?this.props.order.type:this.state.type,r.special=""===this.state.special?this.props.order.special:this.state.special,function(e){var t=k();return y.a.patch(N+"/order",e,t)}(r).then(function(e){r.price=e.data.order.price,t.props.updateOrder(r),t.props.closeModal(),t.setState({orderDetails:[],status:"",checked:!1,checkedDiscountRemove:!1,surveySent:"",surveyResponse:"",special:""})},function(e){console.log(e),console.log(e.response)})}},{key:"initOrderDetails",value:function(e,t,a){for(var n=this.props.order.orderDetails.length,s=[],r=0;r<n;r++)s[r]={quantity:this.props.order.orderDetails[r].quantity,code:this.props.order.orderDetails[r].code};if("quantity"===a){var l=Number(t.target.value);this.setState(function(t){return{orderDetails:s.map(function(t,a){return a===e?Object(x.a)({},t,{quantity:l}):t})}})}else{var o=t.target.value;this.setState(function(t){return{orderDetails:s.map(function(t,a){return a===e?Object(x.a)({},t,{code:o}):t})}})}}},{key:"handleQuantity",value:function(e,t){0===this.state.orderDetails.length?this.initOrderDetails(e,t,"quantity"):this.handleQuantityHelper(e,t.target.value)}},{key:"handleQuantityHelper",value:function(e,t){this.setState(function(a){return{orderDetails:a.orderDetails.map(function(a,n){return n===e?Object(x.a)({},a,{quantity:Number(t)}):a})}})}},{key:"handleCode",value:function(e,t){0===this.state.orderDetails.length?this.initOrderDetails(e,t,"code"):this.handleCodeHelper(e,t.target.value)}},{key:"handleCodeHelper",value:function(e,t){this.setState(function(a){return{orderDetails:a.orderDetails.map(function(a,n){return n===e?Object(x.a)({},a,{code:t}):a})}})}},{key:"handleStatus",value:function(e){e.target.value,this.setState({status:e.target.value})}},{key:"handleDiscountChange",value:function(){this.setState({checked:!this.state.checked,checkedDiscountRemove:!1})}},{key:"handleDiscountAmount",value:function(e){this.setState({discountAmount:e.target.value})}},{key:"handleDiscountRemove",value:function(){this.setState({checkedDiscountRemove:!this.state.checkedDiscountRemove,checked:!1})}},{key:"handleSurveySent",value:function(){this.setState({surveySent:!this.state.surveySent})}},{key:"handleSurveyResponse",value:function(){this.setState({surveyResponse:!this.state.surveyResponse})}},{key:"handleType",value:function(e){this.setState({type:e.target.value})}},{key:"handleSpecial",value:function(){this.setState({special:!this.state.special})}},{key:"render",value:function(){var e=this;if(this.props.order.orderDetails){var t=this.state.checked?s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Discount:"),s.a.createElement("input",{type:"number",className:"form-control",id:"discount",placeholder:"Discount Percentage",onChange:this.handleDiscountAmount}))):null,a="0"!==this.props.order.discountPercentage?s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"removeDiscountCheck",type:"checkbox",checked:this.state.checkedDiscountRemove,onChange:this.handleDiscountRemove}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"removeDiscountCheck"},"Remove discount")),s.a.createElement("hr",null)):null;return s.a.createElement("div",null,this.props.showModal?s.a.createElement(I.a,{isOpen:this.props.showModal},s.a.createElement(F.a,null,"Existing Order"),s.a.createElement(q.a,null,s.a.createElement("form",null,this.props.order.orderDetails.map(function(t,a){return s.a.createElement("div",{className:"row",key:a},s.a.createElement("div",{className:"col-md-3"},"Sub-order ",a+1,":"),s.a.createElement("div",{className:"form-group col-md-4"},s.a.createElement("select",{className:"custom-select",value:e.state.orderDetails[a]?e.state.orderDetails[a].quantity:t.quantity,onChange:function(t){return e.handleQuantity(a,t)}},s.a.createElement("option",null,"1"),s.a.createElement("option",null,"2"),s.a.createElement("option",null,"3"),s.a.createElement("option",null,"4"),s.a.createElement("option",null,"5"),s.a.createElement("option",null,"6"),s.a.createElement("option",null,"7"),s.a.createElement("option",null,"8"),s.a.createElement("option",null,"9"))),s.a.createElement("div",{className:"form-group col-md-4"},s.a.createElement("select",{className:"custom-select",value:e.state.orderDetails[a]?e.state.orderDetails[a].code:t.code,onChange:function(t){return e.handleCode(a,t)}},e.state.products.map(function(e,t){return s.a.createElement("option",{key:t},e.code)}))))}),s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-3"},"Status:"),s.a.createElement("div",{className:"col-md-4 form-group"},s.a.createElement("select",{className:"custom-select",value:""===this.state.status?this.props.order.status:this.state.status,onChange:function(t){return e.handleStatus(t)}},s.a.createElement("option",{value:"pending"},"pending"),s.a.createElement("option",{value:"delivered"},"delivered")))),s.a.createElement("hr",null),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"customCheck",type:"checkbox",checked:this.state.checked,onChange:this.handleDiscountChange}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck"},"Apply discount"))),t,s.a.createElement("hr",null),a,s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"surveySent",type:"checkbox",checked:""===this.state.surveySent?this.props.order.surveySent:this.state.surveySent,onChange:this.handleSurveySent}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"surveySent"},"Survey Sent")),s.a.createElement("hr",null),s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"surveyResponse",type:"checkbox",checked:""===this.state.surveyResponse?this.props.order.surveyResponse:this.state.surveyResponse,onChange:this.handleSurveyResponse}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"surveyResponse"},"Survey Response")),s.a.createElement("hr",null),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Special Discount:")),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"special",type:"checkbox",checked:""===this.state.special?this.props.order.special:this.state.special,onChange:this.handleSpecial}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"special"},"Special Discount"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Type:")),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"vooRadio",name:"customRadio",className:"custom-control-input",value:"voo",checked:"default"===this.state.type?"voo"===this.props.order.type:"voo"===this.state.type,onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"vooRadio"},"Voo"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"noneRadio",name:"customRadio",className:"custom-control-input",value:"",checked:"default"===this.state.type?""===this.props.order.type:""===this.state.type,onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"noneRadio"},"None"))))),s.a.createElement(Q.a,null,s.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:this.editOrder},"Edit"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(t){return e.props.closeModal(t)}},"Cancel"))):null)}return null}}]),t}(s.a.Component)),Y=a(23),L=a(52),J=a(53),B=a(25),H=(a(99),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).addOrderDetail=a.addOrderDetail.bind(Object(d.a)(a)),a.removeSelect=a.removeSelect.bind(Object(d.a)(a)),a.handleCode=a.handleCode.bind(Object(d.a)(a)),a.handleQuantity=a.handleQuantity.bind(Object(d.a)(a)),a.handleUser=a.handleUser.bind(Object(d.a)(a)),a.getAllProducts=a.getAllProducts.bind(Object(d.a)(a)),a.getAllUsers=a.getAllUsers.bind(Object(d.a)(a)),a.filterUsernames=a.filterUsernames.bind(Object(d.a)(a)),a.setFilterUsernames=a.setFilterUsernames.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.handleDiscountChange=a.handleDiscountChange.bind(Object(d.a)(a)),a.handleDiscountAmount=a.handleDiscountAmount.bind(Object(d.a)(a)),a.handleType=a.handleType.bind(Object(d.a)(a)),a.handleSpecial=a.handleSpecial.bind(Object(d.a)(a)),a.state={users:[],products:[],order:{},selects:[],filterUsernames:[],selectedUser:null,errMsg:"",hideAlert:!0,checked:!1,discountAmount:"0",type:"",special:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllProducts(),this.getAllUsers()}},{key:"getAllUsers",value:function(){var e=this;P().then(function(t){if(null!=t.data&&t.data.users.length>=1){e.setState({users:t.data.users}),e.setState({selectedUser:t.data.users[0]});for(var a=[],n=0;n<t.data.users.length;n++)a[n]={label:t.data.users[n].instagramUsername,value:t.data.users[n].instagramUsername};e.setFilterUsernames(a)}}).catch(function(e){console.log("err: ",e)})}},{key:"setFilterUsernames",value:function(e){this.setState({filterUsernames:e})}},{key:"getAllProducts",value:function(){var e=this;C().then(function(t){null!=t.data&&t.data.products.length>=1&&e.setState({products:t.data.products,selects:[{quantity:1,code:t.data.products[0].code}]})}).catch(function(e){console.log("err: ",e)})}},{key:"addOrderDetail",value:function(e){e.preventDefault(),this.setState({selects:[].concat(Object(Y.a)(this.state.selects),[{quantity:1,code:this.state.products[0].code}])})}},{key:"removeSelect",value:function(e,t){e.preventDefault();var a=Object(Y.a)(this.state.selects);a.splice(t,1),this.setState({selects:a})}},{key:"handleQuantity",value:function(e,t){var a=t.target.value;this.state.selects[e]?this.setState(function(t){return{selects:t.selects.map(function(t,n){return e===n?Object(x.a)({},t,{quantity:Number(a)}):t})}}):this.setState({selects:[].concat(Object(Y.a)(this.state.selects),[{quantity:Number(a)}])})}},{key:"handleCode",value:function(e,t){var a=t.target.value;this.state.selects[e]?this.setState(function(t){return{selects:t.selects.map(function(t,n){return e===n?Object(x.a)({},t,{code:a}):t})}}):this.setState({selects:[].concat(Object(Y.a)(this.state.selects),[{code:a}])})}},{key:"handleUser",value:function(e){this.setState({order:{customerId:e.value},selectedUser:e.value})}},{key:"submitOrder",value:function(){var e=this,t=this.state.order;t.deliveryDate="",t.orderDetails=this.state.selects,t.discountPercentage=this.state.discountAmount,t.type=this.state.type,t.special=this.state.special,""===t.customerId||null==t.customerId?this.setState({errMsg:"no Instagram username is supplied",hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)}):function(e){var t=k();return y.a.post(N+"/order",e,t)}(t).then(function(t){e.setState({discountAmount:"0",checked:!1}),e.props.getOrders(),e.props.closeModal()},function(t){e.setState({errMsg:t.response.data.msg,hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)})})}},{key:"closeModal",value:function(){this.setState({errMsg:"",hideAlert:!0}),this.props.closeModal()}},{key:"filterUsernames",value:function(e){var t=this,a=e.target.value;this.setState(function(e){return{filterUsernames:t.state.users.filter(function(e,t){return e.instagramUsername.includes(a)})}})}},{key:"handleDiscountChange",value:function(){this.setState({checked:!this.state.checked})}},{key:"handleDiscountAmount",value:function(e){this.setState({discountAmount:e.target.value})}},{key:"handleType",value:function(e){this.setState({type:e.target.value})}},{key:"handleSpecial",value:function(){this.setState({special:!this.state.special})}},{key:"render",value:function(){var e=this,t=this.state.selectedUser;null!==t&&(t=t.instagramUsernamel);var a=null;return this.state.checked&&(a=s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Discount:"),s.a.createElement("input",{type:"number",className:"form-control",id:"discount",placeholder:"Discount Percentage",onChange:this.handleDiscountAmount})))),s.a.createElement("div",null,s.a.createElement(I.a,{isOpen:this.props.showModalInsert},s.a.createElement(F.a,null,"New Order"),s.a.createElement(q.a,null,s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("label",null,"Instagram Username:"),s.a.createElement(B.a,{value:t,onChange:this.handleUser,options:this.state.filterUsernames})),s.a.createElement("hr",null),s.a.createElement("div",{className:"add-btn-container"},s.a.createElement("button",{className:"btn btn-info",onClick:function(t){return e.addOrderDetail(t)}},"Add Suborder")),this.state.selects.map(function(t,a){return s.a.createElement("div",{className:"row",key:a},s.a.createElement("div",{className:"col-md-3"},"Sub-order ",a+1),s.a.createElement("div",{className:"col-md-3 form-group"},s.a.createElement("select",{className:"custom-select",value:e.state.selects[a].quantity,onChange:function(t){return e.handleQuantity(a,t)}},s.a.createElement("option",null,"1"),s.a.createElement("option",null,"2"),s.a.createElement("option",null,"3"),s.a.createElement("option",null,"4"),s.a.createElement("option",null,"5"),s.a.createElement("option",null,"6"),s.a.createElement("option",null,"7"),s.a.createElement("option",null,"8"),s.a.createElement("option",null,"9"))),s.a.createElement("div",{className:"col-md-3 form-group"},s.a.createElement("select",{className:"custom-select",value:e.state.selects[a].code,onChange:function(t){return e.handleCode(a,t)}},e.state.products.map(function(e,t){return s.a.createElement("option",{key:t},e.code)}))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement(L.a,{className:"fa-times-delete",hidden:1===e.state.selects.length,onClick:function(t){return e.removeSelect(t,a)},icon:J.a})))}),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"customCheck",type:"checkbox",checked:this.state.checked,onChange:this.handleDiscountChange}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck"},"Apply discount"))),a,s.a.createElement("hr",null),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Special Discount:")),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"specialCheck",type:"checkbox",onChange:this.handleSpecial}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"specialCheck"},"Special Discount"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Type:")),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"vooRadio",name:"customRadio",className:"custom-control-input",value:"voo",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"vooRadio"},"Voo"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"noneRadio",name:"customRadio",className:"custom-control-input",value:"",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"noneRadio"},"None"))))),s.a.createElement(Q.a,null,s.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:function(t){return e.submitOrder(t)}},"Add Order"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.closeModal},"Cancel"))))}}]),t}(s.a.Component)),W=a(55),$=a.n(W),z=(a(103),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlePageChange=a.handlePageChange.bind(Object(d.a)(a)),a.state={activePage:1,itemsPerPage:a.props.itemsPerPage,items:a.props.items},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handlePageChange",value:function(e){var t=this;this.setState({activePage:e},function(){var a=t.state.activePage*t.state.itemsPerPage,n=a-t.state.itemsPerPage,s=t.props.items.slice(n,a);t.props.handleItems(s,e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"pagination__container"},s.a.createElement($.a,{innerClass:"pagination-overriden",onChange:this.handlePageChange,activePage:this.state.activePage,totalItemsCount:this.props.items.length,itemsCountPerPage:this.state.itemsPerPage,itemClass:"item-page",activeClass:"item-active-page",hideNavigation:!0,linkClass:"link-page",activeLinkClass:"link-active-page"}))}}]),t}(s.a.Component)),G=(a(104),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).sendEmail=a.sendEmail.bind(Object(d.a)(a)),a.handleFees=a.handleFees.bind(Object(d.a)(a)),a.state={deliveryFees:-1,hideAlert:!0,hideInfoAlert:!0,errMsg:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"sendEmail",value:function(){var e=this;if(-1!=this.state.deliveryFees){var t={deliveryFees:Number(this.state.deliveryFees),price:this.props.order.price,orderDetails:this.props.order.orderDetails,username:this.props.order.customerId};this.setState({hideInfoAlert:!1}),function(e){var t=k();return y.a.post(N+"/email",e,t)}(t).then(function(t){e.props.closeModal(),e.setState({deliveryFees:-1,hideAlert:!0,errMsg:"",hideInfoAlert:!0})}).catch(function(t){e.setState({hideAlert:!1,errMsg:t,hideInfoAlert:!0})})}else this.setState({hideAlert:!1,errMsg:"All fields should be filled"})}},{key:"handleFees",value:function(e){this.setState({deliveryFees:e.target.value})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(I.a,{isOpen:this.props.showEmailModal},s.a.createElement(F.a,null,"Receipt via email"),s.a.createElement(q.a,null,s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("div",{className:"alert alert-info",role:"alert",hidden:this.state.hideInfoAlert},"Sending..."),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Delivery Fees:"),s.a.createElement("input",{type:"number",className:"form-control",id:"deliveryFees",placeholder:"Delivery Fees",onChange:this.handleFees})))),s.a.createElement(Q.a,null,s.a.createElement("button",{className:"btn btn-info",onClick:function(){return e.sendEmail()}},"Send"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.closeModal()}},"Cancel"))))}}]),t}(s.a.Component)),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeCheckboxValue=a.changeCheckboxValue.bind(Object(d.a)(a)),a.deleteOrders=a.deleteOrders.bind(Object(d.a)(a)),a.filterOrders=a.filterOrders.bind(Object(d.a)(a)),a.editOrder=a.editOrder.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.insertOrder=a.insertOrder.bind(Object(d.a)(a)),a.getAllOrders=a.getAllOrders.bind(Object(d.a)(a)),a.handleOrdersShown=a.handleOrdersShown.bind(Object(d.a)(a)),a.updateOrder=a.updateOrder.bind(Object(d.a)(a)),a.checkAllDelete=a.checkAllDelete.bind(Object(d.a)(a)),a.setOrdersShown=a.setOrdersShown.bind(Object(d.a)(a)),a.sortOrders=a.sortOrders.bind(Object(d.a)(a)),a.handleFilter=a.handleFilter.bind(Object(d.a)(a)),a.handleFilterAttribute=a.handleFilterAttribute.bind(Object(d.a)(a)),a.sendEmail=a.sendEmail.bind(Object(d.a)(a)),a.closeEmailModal=a.closeEmailModal.bind(Object(d.a)(a)),a.state={orders:[],filteredOrders:[],showModal:!1,showModalInsert:!1,showEmailModal:!1,orderToEdit:{},orderToSend:{},itemsPerPage:7,activePage:1,ordersShown:[],checkAll:!1,sortType:!1,hideAlert:!0,errMsg:"",sortingDates:{placingDate:!1,deliveryDate:!1},filterValue:"",filterAttribute:"price",filterAttributeOptions:[{label:"Price",value:"price"},{label:"Status",value:"status"},{label:"Discount",value:"discountPercentage"},{label:"Customer",value:"customerId"}]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getAllOrders",value:function(){var e=this;S().then(function(t){null!=t.data&&t.data.orders.length>=1&&(e.setState({orders:b(t.data.orders),filterOrders:b(t.data.orders)}),e.setOrdersShown())}).catch(function(e){console.log("err: ",e)})}},{key:"sortOrders",value:function(e,t,a){this.setState(function(e){return{sortingDates:Object(x.a)({},e.sortingDates,Object(R.a)({},a,t))}}),e.sort(function(e,n){return t?new Date(n[a])-new Date(e[a]):new Date(e[a])-new Date(n[a])}),this.setState({orders:e}),this.setOrdersShown()}},{key:"componentDidMount",value:function(){this.getAllOrders()}},{key:"setOrdersShown",value:function(e){var t=this.state.activePage*this.state.itemsPerPage,a=t-this.state.itemsPerPage;void 0===e?this.setState({ordersShown:this.state.orders.slice(a,t)}):this.setState({ordersShown:e.slice(a,t)})}},{key:"filterOrders",value:function(){var e=this.state.orders.filter(function(e){return!e.toDelete}),t=this.state.activePage*this.state.itemsPerPage,a=t-this.state.itemsPerPage;this.setState({orders:e,ordersShown:e.slice(a,t)})}},{key:"insertOrder",value:function(){this.setState({showModalInsert:!0})}},{key:"deleteOrders",value:function(){var e=this,t=[];this.state.orders.map(function(e){e.toDelete&&t.push(e._id)});for(var a=0;a<t.length;a++)O(t[a]).then(function(t){e.setState({errMsg:"the order(s) selected are deleted successfully",hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)}),e.filterOrders()}).catch(function(e){console.log(e)})}},{key:"editOrder",value:function(e){this.setState({orderToEdit:e,showModal:!0})}},{key:"updateOrder",value:function(e){var t=this;this.setState(function(t){return{orders:t.orders.map(function(t){return e.orderId===t._id?Object(x.a)({},t,{orderDetails:e.orderDetails,price:e.price,status:e.status,deliveryDate:e.deliveryDate,discountPercentage:e.discountPercentage,surveyResponse:e.surveyResponse,surveySent:e.surveySent,type:e.type,special:e.special}):t})}},function(){t.setOrdersShown()})}},{key:"changeCheckboxValue",value:function(e,t){if(-1!==e){this.state.activePage>1&&(e+=(this.state.activePage-1)*this.state.itemsPerPage);var a=this.state.orders;a[e].toDelete=t.target.checked,this.setState({orders:a})}else this.setState(function(e){return{orders:e.orders.map(function(t){return t.toDelete=!e.checkAll,t}),checkAll:!e.checkAll}})}},{key:"closeModal",value:function(){this.setState({showModal:!1,showModalInsert:!1})}},{key:"handleOrdersShown",value:function(e,t){this.setState({ordersShown:e,activePage:t})}},{key:"checkAllDelete",value:function(){for(var e=this.state.orders,t=0;t<e;t++)if(!e[t].toDelete)return!1;return!0}},{key:"handleFilter",value:function(e){var t=this;this.setState({filterValue:e.target.value});var a=[];switch(this.state.filterAttribute){case"price":case"discountPercentage":a=this.state.orders.filter(function(a,n){return a[t.state.filterAttribute]>e.target.value});break;case"customerId":case"status":a=this.state.orders.filter(function(a){return a[t.state.filterAttribute].includes(e.target.value)})}this.setState({filteredOrders:a}),this.setOrdersShown(a)}},{key:"handleFilterAttribute",value:function(e){this.setState({filterAttribute:e.value,filterValue:""}),this.handleFilter({target:{value:""}}),this.setOrdersShown()}},{key:"sendEmail",value:function(e){this.setState({orderToSend:e,showEmailModal:!0})}},{key:"closeEmailModal",value:function(){this.setState({showEmailModal:!1})}},{key:"render",value:function(){var e=this,t=this.state.filterAttribute;return t=t.label,s.a.createElement("div",{className:"row orders__container"},s.a.createElement("div",{className:"col-md-10 offset-md-1"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"orders__filters-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-5"},s.a.createElement(B.a,{defaultValue:t,value:t,onChange:this.handleFilterAttribute,options:this.state.filterAttributeOptions,placeholder:"Select filter ..."})),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("input",{type:"text",className:"form-control",id:"filter",placeholder:"Filter by ".concat(this.state.filterAttribute),onChange:this.handleFilter,value:this.state.filterValue}))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"orders__btn-container"},s.a.createElement("button",{className:"btn btn-info orders__btn",onClick:this.insertOrder},"Insert"),s.a.createElement("button",{className:"btn btn-danger orders__btn",onClick:this.deleteOrders},"Delete")))),s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"customCheckAll",type:"checkbox",checked:this.state.checkAll,onChange:function(t){return e.changeCheckboxValue(-1,t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckAll"})))),s.a.createElement("th",null,"Customer"),s.a.createElement("th",null,"Order #"),s.a.createElement("th",null,"Order"),s.a.createElement("th",null,"Price"),s.a.createElement("th",{className:"sorting-columns",onClick:function(){return e.sortOrders(e.state.orders,!e.state.sortingDates.placingDate,"placingDate")}},"Placement Date"),s.a.createElement("th",{className:"sorting-columns",onClick:function(){return e.sortOrders(e.state.orders,!e.state.sortingDates.deliveryDate,"deliveryDate")}},"Delivery Date"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Survey Sent"),s.a.createElement("th",null,"Survey Response"),s.a.createElement("th",null,"Edit"),s.a.createElement("th",null,"Receipt"))),s.a.createElement("tbody",null,this.state.ordersShown.map(function(t,a){return s.a.createElement("tr",{key:a,style:{backgroundColor:"voo"===t.type?"rgb(246, 138, 33)":"rgb(255, 255, 255)"}},s.a.createElement("td",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"customCheck"+a,type:"checkbox",checked:t.toDelete,onChange:function(t){return e.changeCheckboxValue(a,t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck"+a})))),s.a.createElement("td",null,t.customerId),s.a.createElement("td",null,t.orderNumber),s.a.createElement("td",null,t.orderDetails.map(function(e,t){return s.a.createElement("div",{key:t},e.quantity," x ",e.code)})),s.a.createElement("td",{style:{backgroundColor:t.special?"rgb(255, 81, 66)":"voo"===t.type?"rgb(246, 138, 33)":"rgb(255, 255, 255)"}},t.price," ",0!==Number(t.discountPercentage)?"("+t.discountPercentage+"%)":""),s.a.createElement("td",null,new Date(t.placingDate).toLocaleString()),s.a.createElement("td",null,null===t.deliveryDate||""===t.deliveryDate?"":new Date(t.deliveryDate).toLocaleString()),s.a.createElement("td",null,t.status),s.a.createElement("td",null,t.surveySent?"yes":"no"),s.a.createElement("td",null,t.surveyResponse?"yes":"no"),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-info",onClick:function(){return e.editOrder(t)}},"Edit")),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-info",onClick:function(){return e.sendEmail(t)}},"Send")))}))),s.a.createElement(z,{items:this.state.filteredOrders.length>0?this.state.filteredOrders:this.state.orders,itemsPerPage:this.state.itemsPerPage,handleItems:this.handleOrdersShown}),s.a.createElement(V,{showModal:this.state.showModal,order:this.state.orderToEdit,closeModal:this.closeModal,updateOrder:this.updateOrder}),s.a.createElement(H,{showModalInsert:this.state.showModalInsert,closeModal:this.closeModal,getOrders:this.getAllOrders}),s.a.createElement(G,{showEmailModal:this.state.showEmailModal,order:this.state.orderToSend,closeModal:this.closeEmailModal})))}}]),t}(s.a.Component),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleName=a.handleName.bind(Object(d.a)(a)),a.handleCode=a.handleCode.bind(Object(d.a)(a)),a.handlePrice=a.handlePrice.bind(Object(d.a)(a)),a.handleQuantity=a.handleQuantity.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.submitProduct=a.submitProduct.bind(Object(d.a)(a)),a.state={product:{},errMsg:"",hideAlert:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleName",value:function(e){var t=e.target.value;this.setState(function(e){return{product:Object(x.a)({},e.product,{name:t})}})}},{key:"handleCode",value:function(e){var t=e.target.value;this.setState(function(e){return{product:Object(x.a)({},e.product,{code:t})}})}},{key:"handlePrice",value:function(e){var t=e.target.value;t>0&&this.setState(function(e){return{product:Object(x.a)({},e.product,{price:t})}})}},{key:"handleQuantity",value:function(e){var t=e.target.value;t>0&&this.setState(function(e){return{product:Object(x.a)({},e.product,{quantity:t})}})}},{key:"submitProduct",value:function(){var e=this,t=this.state.product;null==t.name||null==t.code||null==t.price||null==t.quantity?this.setState({errMsg:"please fill all fields with valid values",hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)}):function(e){var t=k();return y.a.post(N+"/product",e,t)}(t).then(function(t){e.props.getProducts(),e.props.closeModal()},function(t){t.response.data&&!t.response.data.msg?e.setState({errMsg:"The code should be in the form of one capital letter, one number, a dot then a series of numbers (A1.1)",hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},7e3)}):e.setState({errMsg:t.response.data.msg,hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)})})}},{key:"closeModal",value:function(){this.setState({errMsg:"",hideAlert:!0}),this.props.closeModal()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(I.a,{isOpen:this.props.showModalInsert},s.a.createElement(F.a,null,"New Product"),s.a.createElement(q.a,null,s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Name:"),s.a.createElement("input",{type:"text",className:"form-control",id:"productName",placeholder:"Name",onChange:this.handleName}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Code:"),s.a.createElement("input",{type:"text",className:"form-control",id:"productCode",placeholder:"Code",onChange:this.handleCode}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Price:"),s.a.createElement("input",{type:"number",className:"form-control",id:"productPrice",placeholder:"Price",onChange:this.handlePrice}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Quantity:"),s.a.createElement("input",{type:"number",className:"form-control",id:"productQuantity",placeholder:"Quantity",onChange:this.handleQuantity}))))),s.a.createElement(Q.a,null,s.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:function(t){return e.submitProduct(t)}},"Add Product"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.closeModal},"Cancel"))))}}]),t}(s.a.Component),Z=(a(105),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleName=function(e){a.setState({name:e.target.value})},a.handlePrice=function(e){a.setState({price:e.target.value})},a.handleQuantity=function(e){a.setState({quantity:e.target.value})},a.handleAvailableToSell=function(e){a.setState({availableToSell:e.target.value})},a.editProduct=function(){if(""===a.state.name||""===a.state.price||""===a.state.quantity||""===a.state.availableToSell)a.setState({errMsg:"all fields should be filled",hideAlert:!1},function(){window.setTimeout(function(){a.setState({errMsg:"",hideAlert:!0})},4e3)});else{var e={code:a.props.product.code,name:"default"===a.state.name?a.props.product.name:a.state.name,price:"default"===a.state.price?a.props.product.price:a.state.price,quantity:"default"===a.state.quantity?a.props.product.quantity:a.state.quantity,availableToSell:"default"===a.state.availableToSell?a.props.product.availableToSell:a.state.availableToSell};M(e).then(function(e){a.props.getProducts(),a.props.closeEditModal()}).catch(function(e){a.setState({errMsg:e.response.data,hideAlert:!1},function(){window.setTimeout(function(){a.setState({errMsg:"",hideAlert:!0})},4e3)})})}},a.state={name:"default",price:"default",quantity:"default",availableToSell:"default",hideAlert:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(I.a,{isOpen:this.props.showModalEdit},s.a.createElement(F.a,null,"Existing Product"),s.a.createElement(q.a,null,s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Name:"),s.a.createElement("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter Your Name",onChange:this.handleName,value:"default"===this.state.name?this.props.product.name:this.state.name}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Price:"),s.a.createElement("input",{type:"number",className:"form-control",id:"price",placeholder:"Enter Your Price",onChange:this.handlePrice,value:"default"===this.state.price?this.props.product.price:this.state.price}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Quantity:"),s.a.createElement("input",{type:"number",className:"form-control",id:"quantity",placeholder:"Enter Your Quantity",onChange:this.handleQuantity,value:"default"===this.state.quantity?this.props.product.quantity:this.state.quantity}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Available To Sell:"),s.a.createElement("input",{type:"number",className:"form-control",id:"availableToSell",placeholder:"Enter Your Available To Sell",onChange:this.handleAvailableToSell,value:"default"===this.state.availableToSell?this.props.product.availableToSell:this.state.availableToSell})))),s.a.createElement(Q.a,null,s.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:this.editProduct},"Edit"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(t){return e.props.closeEditModal(t)}},"Cancel")))}}]),t}(s.a.Component)),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeCheckboxValue=a.changeCheckboxValue.bind(Object(d.a)(a)),a.deleteProducts=a.deleteProducts.bind(Object(d.a)(a)),a.filterProducts=a.filterProducts.bind(Object(d.a)(a)),a.closeEditModal=a.closeEditModal.bind(Object(d.a)(a)),a.editProduct=a.editProduct.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.insertProduct=a.insertProduct.bind(Object(d.a)(a)),a.getAllProducts=a.getAllProducts.bind(Object(d.a)(a)),a.handleProductsShown=a.handleProductsShown.bind(Object(d.a)(a)),a.state={products:[],showModal:!1,showModalInsert:!1,showModalEdit:!1,productToEdit:{},productsShown:[],itemsPerPage:7,activePage:1,checkAll:!1,hideAlert:!0,errMsg:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllProducts()}},{key:"insertProduct",value:function(){this.setState({showModalInsert:!0})}},{key:"editProduct",value:function(e){this.setState({showModalEdit:!0,productToEdit:e})}},{key:"closeEditModal",value:function(){this.setState({showModalEdit:!1})}},{key:"getAllProducts",value:function(){var e=this;C().then(function(t){if(null!=t.data&&t.data.products.length>=1){e.setState({products:b(t.data.products)});var a=e.state.activePage*e.state.itemsPerPage,n=a-e.state.itemsPerPage;e.setState({productsShown:e.state.products.slice(n,a)})}}).catch(function(e){console.log("err: ",e)})}},{key:"deleteProducts",value:function(){var e=this,t=[];this.state.products.map(function(e){e.toDelete&&t.push(e.code)});for(var a=0;a<t.length;a++)j(t[a]).then(function(t){e.setState({errMsg:"the product(s) selected are deleted successfully",hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)}),e.filterProducts()}).catch(function(t){403===t.response.status&&e.setState({errMsg:"this product is already associated with an order",hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)})})}},{key:"filterProducts",value:function(){var e=this.state.products.filter(function(e){return!e.toDelete}),t=this.state.activePage*this.state.itemsPerPage,a=t-this.state.itemsPerPage;this.setState({products:e,productsShown:e.slice(a,t)})}},{key:"changeCheckboxValue",value:function(e,t){if(-1!==e){this.state.activePage>1&&(e+=(this.state.activePage-1)*this.state.itemsPerPage);var a=this.state.products;a[e].toDelete=t.target.checked,this.setState({products:a})}else this.setState(function(e){return{products:e.products.map(function(t){return t.toDelete=!e.checkAll,t}),checkAll:!e.checkAll}})}},{key:"closeModal",value:function(){this.setState({showModal:!1,showModalInsert:!1})}},{key:"handleProductsShown",value:function(e,t){this.setState({productsShown:e,activePage:t})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row products__container"},s.a.createElement("div",{className:"col-md-10 offset-md-1"},s.a.createElement("div",{className:"products__btn-container"},s.a.createElement("button",{className:"btn btn-info products__btn",onClick:this.insertProduct},"Insert"),s.a.createElement("button",{className:"btn btn-danger products__btn",onClick:this.deleteProducts},"Delete")),s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("div",null,s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"customCheckAll",type:"checkbox",checked:this.state.checkAll,onChange:function(t){return e.changeCheckboxValue(-1,t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckAll"})))),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Code"),s.a.createElement("th",null,"Price"),s.a.createElement("th",null,"Quantity"),s.a.createElement("th",null,"Edit"))),s.a.createElement("tbody",null,this.state.productsShown.map(function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"customCheck"+a,type:"checkbox",checked:t.toDelete,onChange:function(t){return e.changeCheckboxValue(a,t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck"+a})))),s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.code),s.a.createElement("td",null,t.price),s.a.createElement("td",null,t.availableToSell+" / "+t.quantity),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-info products__btn",onClick:function(){return e.editProduct(t)}},"Edit")))})))),s.a.createElement(z,{items:this.state.products,itemsPerPage:this.state.itemsPerPage,handleItems:this.handleProductsShown}),s.a.createElement(X,{showModalInsert:this.state.showModalInsert,closeModal:this.closeModal,getProducts:this.getAllProducts}),s.a.createElement(Z,{showModalEdit:this.state.showModalEdit,closeEditModal:this.closeEditModal,product:this.state.productToEdit,getProducts:this.getAllProducts})))}}]),t}(s.a.Component),te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleName=a.handleName.bind(Object(d.a)(a)),a.handleInstagram=a.handleInstagram.bind(Object(d.a)(a)),a.handleEmail=a.handleEmail.bind(Object(d.a)(a)),a.handlePhone=a.handlePhone.bind(Object(d.a)(a)),a.handleAddress=a.handleAddress.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.submitUser=a.submitUser.bind(Object(d.a)(a)),a.handleType=a.handleType.bind(Object(d.a)(a)),a.state={user:{},errMsg:"",hideAlert:!0,type:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleName",value:function(e){var t=e.target.value;this.setState(function(e){return{user:Object(x.a)({},e.user,{name:t})}})}},{key:"handleInstagram",value:function(e){var t=e.target.value;this.setState(function(e){return{user:Object(x.a)({},e.user,{instagramUsername:t})}})}},{key:"handleEmail",value:function(e){var t=e.target.value;this.setState(function(e){return{user:Object(x.a)({},e.user,{email:t})}})}},{key:"handlePhone",value:function(e){var t=this,a=e.target.value;null!=a.match(/^\+[0-9]{12,13}$/g)?this.setState(function(e){return{user:Object(x.a)({},e.user,{phone:a})}}):this.setState({errMsg:'phone number must start with "+", followed by 12-13 digits',hideAlert:!1},function(){window.setTimeout(function(){t.setState({errMsg:"",hideAlert:!0})},4e3)})}},{key:"handleAddress",value:function(e){var t=e.target.value;this.setState(function(e){return{user:Object(x.a)({},e.user,{address:t})}})}},{key:"submitUser",value:function(){var e=this,t=this.state.user;t.type=this.state.type,console.log(t),!0===this.state.hideAlert&&function(e){var t=k();return y.a.post(N+"/user",e,t)}(t).then(function(t){e.props.getUsers(),e.props.closeModal()},function(t){"object"==typeof t.response.data?e.setState({errMsg:t.response.data.msg,hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)}):e.setState({errMsg:t.response.data,hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)})})}},{key:"closeModal",value:function(){this.setState({errMsg:"",hideAlert:!0}),this.props.closeModal()}},{key:"handleType",value:function(e){this.setState({type:e.target.value})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(I.a,{isOpen:this.props.showModalInsert},s.a.createElement(F.a,null,"New User"),s.a.createElement(q.a,null,s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Name:"),s.a.createElement("input",{type:"text",className:"form-control",id:"userName",placeholder:"Enter Your Name",onChange:this.handleName}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Instagram Username:"),s.a.createElement("input",{type:"text",className:"form-control",id:"userInstagram",placeholder:"Enter Your Instagram Username",onChange:this.handleInstagram}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Email:"),s.a.createElement("input",{type:"text",className:"form-control",id:"userEmail",placeholder:"Enter Your Email",onChange:this.handleEmail}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Phone:"),s.a.createElement("input",{type:"text",className:"form-control",id:"userPhone",placeholder:"Enter Your Phone",onChange:this.handlePhone}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Address:"),s.a.createElement("input",{type:"text",className:"form-control",id:"userAddress",placeholder:"Enter Your Address",onChange:this.handleAddress}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Type:")),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"friendRadio",name:"customRadio",className:"custom-control-input",value:"friend",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"friendRadio"},"Friend"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"potentialRadio",name:"customRadio",className:"custom-control-input",value:"potential",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"potentialRadio"},"Potential"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"importantRadio",name:"customRadio",className:"custom-control-input",value:"important",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"importantRadio"},"Important"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"noneRadio",name:"customRadio",className:"custom-control-input",value:"",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"noneRadio"},"None"))))),s.a.createElement(Q.a,null,s.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:function(t){return e.submitUser(t)}},"Add User"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.closeModal},"Cancel"))))}}]),t}(s.a.Component),ae=(a(106),a(107),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleName=function(e){a.setState({name:e.target.value})},a.handleInstagramUsername=function(e){a.setState({instagramUsername:e.target.value})},a.handleEmail=function(e){a.setState({email:e.target.value})},a.handlePhone=function(e){a.setState({phone:e.target.value})},a.handleAddress=function(e){a.setState({address:e.target.value})},a.editUser=function(){if(""===a.state.name||""===a.state.email||""===a.state.instagramUsername||""===a.state.phone||""===a.state.address)a.setState({errMsg:"all fields should be filled",hideAlert:!1},function(){window.setTimeout(function(){a.setState({errMsg:"",hideAlert:!0})},4e3)});else{var e={userId:a.props.user._id,name:"default"===a.state.name?a.props.user.name:a.state.name,email:"default"===a.state.email?a.props.user.email:a.state.email,instagramUsername:"default"===a.state.instagramUsername?a.props.user.instagramUsername:a.state.instagramUsername,phone:"default"===a.state.phone?a.props.user.phone:a.state.phone,address:"default"===a.state.address?a.props.user.address:a.state.address,type:"default"===a.state.type?a.props.user.type:a.state.type};A(e).then(function(e){a.props.getUsers(),a.props.closeEditModal()}).catch(function(e){console.log(e),a.setState({errMsg:e.response.data,hideAlert:!1},function(){window.setTimeout(function(){a.setState({errMsg:"",hideAlert:!0})},4e3)})})}},a.handleType=function(e){a.setState({type:e.target.value})},a.state={name:"default",email:"default",instagramUsername:"default",phone:"default",address:"default",errMsg:"",hideAlert:!0,type:"default"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(I.a,{isOpen:this.props.showModalEdit},s.a.createElement(F.a,null,"Existing User"),s.a.createElement(q.a,null,s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Name:"),s.a.createElement("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter Your Name",onChange:this.handleName,value:"default"===this.state.name?this.props.user.name:this.state.name}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Instagram Username:"),s.a.createElement("input",{type:"text",className:"form-control",id:"instagramUsername",placeholder:"Enter Your Instagram Username",onChange:this.handleInstagramUsername,value:"default"===this.state.instagramUsername?this.props.user.instagramUsername:this.state.instagramUsername}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Email:"),s.a.createElement("input",{type:"text",className:"form-control",id:"email",placeholder:"Enter Your Email",onChange:this.handleEmail,value:"default"===this.state.email?this.props.user.email:this.state.email}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Phone:"),s.a.createElement("input",{type:"text",className:"form-control",id:"phone",placeholder:"Enter Your Phone",onChange:this.handlePhone,value:"default"===this.state.phone?this.props.user.phone:this.state.phone}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Address:"),s.a.createElement("input",{type:"text",className:"form-control",id:"address",placeholder:"Enter Your Address",onChange:this.handleAddress,value:"default"===this.state.address?this.props.user.address:this.state.address}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Type:")),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"friendRadio",name:"customRadio",className:"custom-control-input",checked:"default"===this.state.type?"friend"===this.props.user.type:"friend"===this.state.type,value:"friend",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"friendRadio"},"Friend"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"potentialRadio",name:"customRadio",className:"custom-control-input",checked:"default"===this.state.type?"potential"===this.props.user.type:"potential"===this.state.type,value:"potential",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"potentialRadio"},"Potential"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"importantRadio",name:"customRadio",className:"custom-control-input",checked:"default"===this.state.type?"important"===this.props.user.type:"important"===this.state.type,value:"important",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"importantRadio"},"Important"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-radio"},s.a.createElement("input",{type:"radio",id:"noneRadio",name:"customRadio",className:"custom-control-input",checked:"default"===this.state.type?""===this.props.user.type:""===this.state.type,value:"",onChange:this.handleType}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"noneRadio"},"None")))),s.a.createElement(Q.a,null,s.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:this.editUser},"Edit"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(t){return e.props.closeEditModal(t)}},"Cancel")))}}]),t}(s.a.Component)),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeCheckboxValue=a.changeCheckboxValue.bind(Object(d.a)(a)),a.deleteUsers=a.deleteUsers.bind(Object(d.a)(a)),a.filterUsers=a.filterUsers.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.closeEditModal=a.closeEditModal.bind(Object(d.a)(a)),a.editUser=a.editUser.bind(Object(d.a)(a)),a.insertUser=a.insertUser.bind(Object(d.a)(a)),a.getAllUsers=a.getAllUsers.bind(Object(d.a)(a)),a.handleUsersShown=a.handleUsersShown.bind(Object(d.a)(a)),a.state={users:[],showModalInsert:!1,showModalEdit:!1,userToEdit:{},itemsPerPage:7,activePage:1,usersShown:[],checkAll:!1,hideAlert:!0,errMsg:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllUsers()}},{key:"getAllUsers",value:function(){var e=this;P().then(function(t){if(null!=t.data&&t.data.users.length>=1){e.setState({users:b(t.data.users)});var a=e.state.activePage*e.state.itemsPerPage,n=a-e.state.itemsPerPage;e.setState({usersShown:e.state.users.slice(n,a)})}}).catch(function(e){console.log("err: ",e)})}},{key:"changeCheckboxValue",value:function(e,t){if(-1!==e){this.state.activePage>1&&(e+=(this.state.activePage-1)*this.state.itemsPerPage);var a=this.state.users;a[e].toDelete=t.target.checked,this.setState({users:a})}else this.setState(function(e){return{users:e.users.map(function(t){return t.toDelete=!e.checkAll,t}),checkAll:!e.checkAll}})}},{key:"deleteUsers",value:function(){var e=this,t=[];this.state.users.map(function(e){e.toDelete&&t.push(e.instagramUsername)});for(var a=0;a<t.length;a++)w(t[a]).then(function(t){e.setState({errMsg:"the user(s) selected are deleted successfully",hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)}),e.filterUsers()}).catch(function(t){403===t.response.status&&e.setState({errMsg:"this user is already associated with an order",hideAlert:!1},function(){window.setTimeout(function(){e.setState({errMsg:"",hideAlert:!0})},4e3)})})}},{key:"filterUsers",value:function(){var e=this.state.users.filter(function(e){return!e.toDelete}),t=this.state.activePage*this.state.itemsPerPage,a=t-this.state.itemsPerPage;this.setState({users:e,usersShown:e.slice(a,t)})}},{key:"insertUser",value:function(){this.setState({showModalInsert:!0})}},{key:"editUser",value:function(e){this.setState({showModalEdit:!0,userToEdit:e})}},{key:"closeModal",value:function(){this.setState({showModalInsert:!1})}},{key:"closeEditModal",value:function(){this.setState({showModalEdit:!1})}},{key:"handleUsersShown",value:function(e,t){this.setState({usersShown:e,activePage:t})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row users__container"},s.a.createElement("div",{className:"col-md-10 offset-md-1"},s.a.createElement("div",{className:"users__btn-container"},s.a.createElement("button",{className:"btn btn-info users__btn",onClick:this.insertUser},"Insert"),s.a.createElement("button",{className:"btn btn-danger users__btn",onClick:this.deleteUsers},"Delete")),s.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),s.a.createElement("div",null,s.a.createElement("table",{className:"table table-bordered"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"customCheckAll",type:"checkbox",checked:this.state.checkAll,onChange:function(t){return e.changeCheckboxValue(-1,t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckAll"})))),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Instagram Username"),s.a.createElement("th",null,"Email"),s.a.createElement("th",null,"Phone"),s.a.createElement("th",null,"Address"),s.a.createElement("th",null,"Edit"))),s.a.createElement("tbody",null,this.state.usersShown.map(function(t,a){return s.a.createElement("tr",{key:a,style:{backgroundColor:"friend"===t.type?"rgb(255, 165, 0)":"important"===t.type?"rgb(144, 238, 144)":"potential"===t.type?"rgb(14, 144, 242)":"rgb(255, 255, 255)"}},s.a.createElement("td",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"customCheck"+a,type:"checkbox",checked:t.toDelete,onChange:function(t){return e.changeCheckboxValue(a,t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck"+a})))),s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.instagramUsername),s.a.createElement("td",null,t.email),s.a.createElement("td",null,t.phone),s.a.createElement("td",null,t.address),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-info users__btn",onClick:function(){return e.editUser(t)}},"Edit")))})))),s.a.createElement(z,{items:this.state.users,itemsPerPage:this.state.itemsPerPage,handleItems:this.handleUsersShown}),s.a.createElement(te,{showModalInsert:this.state.showModalInsert,closeModal:this.closeModal,getUsers:this.getAllUsers}),s.a.createElement(ae,{showModalEdit:this.state.showModalEdit,closeEditModal:this.closeEditModal,user:this.state.userToEdit,getUsers:this.getAllUsers})))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(108);var se=a(56),re=function(e){var t=e.component,a=Object(se.a)(e,["component"]);return s.a.createElement(D.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")&&!v()?s.a.createElement(t,e):s.a.createElement(D.a,{exact:!0,to:{pathname:"/",state:{from:e.location}}})}}))},le=(a(109),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={total:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var e=k();return y.a.get(N+"/order/revenue",e)})().then(function(t){e.setState({total:t.data.result[0].total})}).catch(function(e){console.log("err: ",e)})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(E,null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 offset-md-4 revenue__container"},s.a.createElement("div",{className:"revenue__content"},s.a.createElement("b",null,"Revenue")," ",s.a.createElement("br",null),this.state.total," L.E."))))}}]),t}(s.a.Component)),oe=(a(110),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(I.a,{isOpen:this.props.modalOpen},s.a.createElement(F.a,null,"Socks Breakdown"),s.a.createElement(q.a,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"offset-lg-2 col-lg-8"},s.a.createElement("table",{className:"analytics__table table"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Name (Code)"),s.a.createElement("th",null,"Count"))),this.props.productsCount.map(function(e){return s.a.createElement("tr",{key:e.code},s.a.createElement("td",null,"".concat(e.name," (").concat(e.code,")")),s.a.createElement("td",null,e.count))}))))),s.a.createElement(Q.a,null,s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.closeModal()}},"Close"))))}}]),t}(s.a.Component)),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).closeModal=a.closeModal.bind(Object(d.a)(a)),a.state={usersCount:0,ordersCount:0,productsCount:[],totalProducts:0,modalOpen:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P("true").then(function(t){e.setState({usersCount:t.data.count})}),S("true").then(function(t){e.setState({ordersCount:t.data.count})}),C("true").then(function(t){e.setState({productsCount:t.data.productsCount});for(var a=0,n=0;n<t.data.productsCount.length;n++)a+=Number(t.data.productsCount[n].count);e.setState({totalProducts:a})})}},{key:"closeModal",value:function(){this.setState({modalOpen:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(E,null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 analytics__container"},s.a.createElement("div",{className:"analytics__content"},s.a.createElement("b",null,"Customers")," ",s.a.createElement("br",null),this.state.usersCount)),s.a.createElement("div",{className:"col-md-4 analytics__container"},s.a.createElement("div",{className:"analytics__content"},s.a.createElement("b",null,"Orders")," ",s.a.createElement("br",null),this.state.ordersCount)),s.a.createElement("div",{className:"col-md-4 analytics__container"},s.a.createElement("div",{className:"analytics__content analytics__content--pointer"},s.a.createElement("b",null,"Socks")," ",s.a.createElement("br",null),s.a.createElement("span",{onClick:function(){return e.setState({modalOpen:!0})}},this.state.totalProducts),s.a.createElement("div",{className:"analytics__content--note"},"Click on the number for more details")))),s.a.createElement(oe,{productsCount:this.state.productsCount,modalOpen:this.state.modalOpen,closeModal:this.closeModal}))}}]),t}(s.a.Component),ie=s.a.createElement("div",null,s.a.createElement(h.a,null,s.a.createElement("div",null,s.a.createElement(D.b,{exact:!0,path:"/",component:T}),s.a.createElement(re,{path:"/dashboard",component:function(){return s.a.createElement(_,{first:"/dashboard/orders",second:"/dashboard/products",third:"/dashboard/users"})}}),s.a.createElement(re,{path:"/dashboard/orders",component:K}),s.a.createElement(re,{path:"/dashboard/products",component:ee}),s.a.createElement(re,{path:"/dashboard/users",component:ne}),s.a.createElement(re,{path:"/analytics",component:function(){return s.a.createElement(_,{first:"/analytics/revenue",second:"/analytics/totals",third:"/analytics/placeholder"})}}),s.a.createElement(re,{path:"/analytics/revenue",component:le}),s.a.createElement(re,{path:"/analytics/totals",component:ce}))));l.a.render(ie,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,a){e.exports=a(111)},62:function(e,t,a){},63:function(e,t,a){},66:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},99:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.ae285c0b.chunk.js.map