(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(18),l=a.n(s),c=(a(60),a(61),a(6)),o=a(7),i=a(10),u=a(8),d=a(2),m=a(9),h=a(19),b=(a(62),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logout=a.logout.bind(Object(d.a)(a)),a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"render",value:function(){return""===localStorage.getItem("token")||null===localStorage.getItem("token")?n.a.createElement("div",{className:"header__main"},n.a.createElement("nav",{className:"navbar fixed-top navbar-light bg-info"},n.a.createElement("a",{className:"navbar-brand",href:"#!",style:{color:"#fff"}},"Jawareb"))):n.a.createElement("div",{className:"header__main"},n.a.createElement("nav",{className:"navbar fixed-top navbar-light bg-info"},n.a.createElement("a",{className:"navbar-brand",href:"#!",style:{color:"#fff"}},"Jawareb"),n.a.createElement(h.b,{style:{color:"#fff",textDecoration:"none"},to:"/",onClick:this.logout},"Logout")))}}]),t}(n.a.Component)),p=a(17),f=a.n(p),v="https://jawareb.herokuapp.com",g=function(){return{headers:{"x-access-token":localStorage.getItem("token")}}},E=function(e){var t=g();return f.a.delete(v+"/order/"+e,t)},O=function(){var e=g();return f.a.get(v+"/product",e)},k=function(e){var t=g();return f.a.delete(v+"/product/"+e,t)},y=function(){var e=g();return f.a.get(v+"/user",e)},N=function(e){var t=g();return f.a.delete(v+"/user/"+e,t)},P=a(21),S=(a(83),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleUsername=a.handleUsername.bind(Object(d.a)(a)),a.handlePassword=a.handlePassword.bind(Object(d.a)(a)),a.submitForm=a.submitForm.bind(Object(d.a)(a)),a.state={username:"",password:"",errMsg:"",hideAlert:!0,redirectToDashboard:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"submitForm",value:function(e){var t=this;(e.preventDefault(),""!==this.state.username&&""!==this.state.password)?function(e){return f.a.post(v+"/auth",e)}({username:this.state.username,password:this.state.password}).then(function(e){localStorage.setItem("token",e.data),t.setState({errMsg:"",hideAlert:!0,redirectToDashboard:!0})}).catch(function(e){e.response?"object"==typeof e.response.data?t.setState({errMsg:e.response.data.msg,hideAlert:!1}):t.setState({errMsg:e.response.data,hideAlert:!1}):t.setState({errMsg:e.response,hideAlert:!1})}):this.setState({errMsg:"username and password can't be empty",hideAlert:!1})}},{key:"render",value:function(){return this.state.redirectToDashboard?n.a.createElement(P.a,{to:"/dashboard"}):n.a.createElement("div",{className:"row auth__main-container"},n.a.createElement("div",{className:"col-md-8 auth__left-container"}),n.a.createElement("div",{className:"col-md-4 auth__right-container"},n.a.createElement("div",{className:"auth__login-form"},n.a.createElement("form",{onSubmit:this.submitForm},n.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),n.a.createElement("div",{className:"auth__login-form-control"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Username",onChange:this.handleUsername,autoComplete:"new-password"})),n.a.createElement("div",{className:"auth__login-form-control"},n.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",onChange:this.handlePassword,autoComplete:"new-password"})),n.a.createElement("div",{className:"auth__login-button"},n.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Login"}))))))}}]),t}(n.a.Component));var j=function(){return localStorage.getItem("token")?n.a.createElement(P.a,{to:"/dashboard"}):n.a.createElement("div",{className:"App"},n.a.createElement(b,null),n.a.createElement(S,null))},C=(a(84),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={activeStyle:{backgroundColor:"#555",color:"#fff"},style:{backgroundColor:"#e9ecef"}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(b,null),n.a.createElement("div",{className:"dashboard__container"},n.a.createElement("div",{className:"btn-group btn-group-lg",role:"group","aria-label":"Basic example"},n.a.createElement(h.c,{className:"btn",to:"/dashboard/orders",activeStyle:this.state.activeStyle,style:this.state.style},"Orders"),n.a.createElement(h.c,{className:"btn",to:"/dashboard/products",activeStyle:this.state.activeStyle,style:this.state.style},"Products"),n.a.createElement(h.c,{className:"btn",to:"/dashboard/users",activeStyle:this.state.activeStyle,style:this.state.style},"Users"))))}}]),t}(n.a.Component)),w=a(5),M=a(108),D=a(105),A=a(106),U=a(107),I=(a(85),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).editOrder=a.editOrder.bind(Object(d.a)(a)),a.handleQuantity=a.handleQuantity.bind(Object(d.a)(a)),a.handleCode=a.handleCode.bind(Object(d.a)(a)),a.initOrderDetails=a.initOrderDetails.bind(Object(d.a)(a)),a.handleStatus=a.handleStatus.bind(Object(d.a)(a)),a.state={products:[],orderDetails:[],status:"",deliveryDate:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;O().then(function(t){null!=t.data&&t.data.products.length>=1&&e.setState({products:t.data.products})}).catch(function(e){console.log("err: ",e)})}},{key:"editOrder",value:function(){var e=this,t=[];if(0===this.state.orderDetails.length)for(var a=0;a<this.props.order.orderDetails.length;a++)t[a]={quantity:this.props.order.orderDetails[a].quantity,code:this.props.order.orderDetails[a].code};else{t=this.state.orderDetails;for(var r=0;r<t.length;r++)""!==t[r].quantity&&null!=t[r].quantity||(t[r].quantity=this.props.order.orderDetails[r].quantity),""!==t[r].code&&null!=t[r].code||(t[r].code=this.props.order.orderDetails[r].code)}var n={orderDetails:t,status:""===this.state.status?this.props.order.status:this.state.status,orderId:this.props.order._id,deliveryDate:this.state.deliveryDate};(function(e){var t=g();return f.a.patch(v+"/order",e,t)})(n).then(function(t){n.price=t.data.order.price,e.props.updateOrder(n),e.props.closeModal(),e.setState({orderDetails:[],status:"",deliveryDate:""})},function(e){console.log(e)})}},{key:"initOrderDetails",value:function(e,t,a){for(var r=this.props.order.orderDetails.length,n=[],s=0;s<r;s++)n[s]={quantity:this.props.order.orderDetails[s].quantity,code:this.props.order.orderDetails[s].code};if("quantity"===a){var l=Number(t.target.value);this.setState(function(t){return{orderDetails:n.map(function(t,a){return a===e?Object(w.a)({},t,{quantity:l}):t})}})}else{var c=t.target.value;this.setState(function(t){return{orderDetails:n.map(function(t,a){return a===e?Object(w.a)({},t,{code:c}):t})}})}}},{key:"handleQuantity",value:function(e,t){0===this.state.orderDetails.length?this.initOrderDetails(e,t,"quantity"):this.handleQuantityHelper(e,t.target.value)}},{key:"handleQuantityHelper",value:function(e,t){this.setState(function(a){return{orderDetails:a.orderDetails.map(function(a,r){return r===e?Object(w.a)({},a,{quantity:Number(t)}):a})}})}},{key:"handleCode",value:function(e,t){0===this.state.orderDetails.length?this.initOrderDetails(e,t,"code"):this.handleCodeHelper(e,t.target.value)}},{key:"handleCodeHelper",value:function(e,t){this.setState(function(a){return{orderDetails:a.orderDetails.map(function(a,r){return r===e?Object(w.a)({},a,{code:t}):a})}})}},{key:"handleStatus",value:function(e){"pending"===this.state.status&&"done"===e.target.value?this.setState({status:e.target.value,deliveryDate:Date(Date.now)}):""===this.state.status&&"pending"===this.props.order.status&&"done"===e.target.value?this.setState({status:e.target.value,deliveryDate:Date(Date.now)}):this.setState({status:e.target.value})}},{key:"render",value:function(){var e=this;return this.props.order.orderDetails?n.a.createElement("div",null,this.props.showModal?n.a.createElement(M.a,{isOpen:this.props.showModal},n.a.createElement(D.a,null,"Existing Order"),n.a.createElement(A.a,null,n.a.createElement("form",null,this.props.order.orderDetails.map(function(t,a){return n.a.createElement("div",{className:"row",key:a},n.a.createElement("div",{className:"col-md-3"},"Sub-order ",a+1,":"),n.a.createElement("div",{className:"form-group col-md-4"},n.a.createElement("select",{className:"custom-select",value:e.state.orderDetails[a]?e.state.orderDetails[a].quantity:t.quantity,onChange:function(t){return e.handleQuantity(a,t)}},n.a.createElement("option",null,"1"),n.a.createElement("option",null,"2"),n.a.createElement("option",null,"3"),n.a.createElement("option",null,"4"),n.a.createElement("option",null,"5"))),n.a.createElement("div",{className:"form-group col-md-4"},n.a.createElement("select",{className:"custom-select",value:e.state.orderDetails[a]?e.state.orderDetails[a].code:t.code,onChange:function(t){return e.handleCode(a,t)}},e.state.products.map(function(e,t){return n.a.createElement("option",{key:t},e.code)}))))}),n.a.createElement("hr",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-3"},"Status:"),n.a.createElement("div",{className:"col-md-4 form-group"},n.a.createElement("select",{className:"custom-select",value:""===this.state.status?this.props.order.status:this.state.status,onChange:function(t){return e.handleStatus(t)}},n.a.createElement("option",{value:"pending"},"pending"),n.a.createElement("option",{value:"done"},"done")))))),n.a.createElement(U.a,null,n.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:this.editOrder},"Edit"),n.a.createElement("button",{className:"btn btn-danger",onClick:function(t){return e.props.closeModal(t)}},"Cancel"))):null):null}}]),t}(n.a.Component)),_=a(22),x=a(49),q=a(50),V=a(54),F=(a(95),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).addOrderDetail=a.addOrderDetail.bind(Object(d.a)(a)),a.removeSelect=a.removeSelect.bind(Object(d.a)(a)),a.handleCode=a.handleCode.bind(Object(d.a)(a)),a.handleQuantity=a.handleQuantity.bind(Object(d.a)(a)),a.handleUser=a.handleUser.bind(Object(d.a)(a)),a.getAllProducts=a.getAllProducts.bind(Object(d.a)(a)),a.getAllUsers=a.getAllUsers.bind(Object(d.a)(a)),a.filterUsernames=a.filterUsernames.bind(Object(d.a)(a)),a.setFilterUsernames=a.setFilterUsernames.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.state={users:[],products:[],order:{},selects:[],filterUsernames:[],selectedUser:null,errMsg:"",hideAlert:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllProducts(),this.getAllUsers()}},{key:"getAllUsers",value:function(){var e=this;y().then(function(t){if(null!=t.data&&t.data.users.length>=1){e.setState({users:t.data.users}),e.setState({selectedUser:t.data.users[0]});for(var a=[],r=0;r<t.data.users.length;r++)a[r]={label:t.data.users[r].instagramUsername,value:t.data.users[r].instagramUsername};e.setFilterUsernames(a)}}).catch(function(e){console.log("err: ",e)})}},{key:"setFilterUsernames",value:function(e){this.setState({filterUsernames:e})}},{key:"getAllProducts",value:function(){var e=this;O().then(function(t){null!=t.data&&t.data.products.length>=1&&e.setState({products:t.data.products,selects:[{quantity:1,code:t.data.products[0].code}]})}).catch(function(e){console.log("err: ",e)})}},{key:"addOrderDetail",value:function(e){e.preventDefault(),this.setState({selects:[].concat(Object(_.a)(this.state.selects),[{quantity:1,code:this.state.products[0].code}])})}},{key:"removeSelect",value:function(e,t){e.preventDefault();var a=Object(_.a)(this.state.selects);a.splice(t,1),this.setState({selects:a})}},{key:"handleQuantity",value:function(e,t){var a=t.target.value;this.state.selects[e]?this.setState(function(t){return{selects:t.selects.map(function(t,r){return e===r?Object(w.a)({},t,{quantity:Number(a)}):t})}}):this.setState({selects:[].concat(Object(_.a)(this.state.selects),[{quantity:Number(a)}])})}},{key:"handleCode",value:function(e,t){var a=t.target.value;this.state.selects[e]?this.setState(function(t){return{selects:t.selects.map(function(t,r){return e===r?Object(w.a)({},t,{code:a}):t})}}):this.setState({selects:[].concat(Object(_.a)(this.state.selects),[{code:a}])})}},{key:"handleUser",value:function(e){this.setState({order:{customerId:e.value},selectedUser:e.value})}},{key:"submitOrder",value:function(){var e=this,t=this.state.order;t.deliveryDate="",t.orderDetails=this.state.selects,""===t.customerId||null==t.customerId?this.setState({errMsg:"no Instagram username is supplied",hideAlert:!1}):function(e){var t=g();return f.a.post(v+"/order",e,t)}(t).then(function(t){e.setState({errMsg:"",hideAlert:!0}),e.props.getOrders(),e.props.closeModal()},function(t){e.setState({errMsg:t.response.data.msg,hideAlert:!1})})}},{key:"closeModal",value:function(){this.setState({errMsg:"",hideAlert:!0}),this.props.closeModal()}},{key:"filterUsernames",value:function(e){var t=this,a=e.target.value;this.setState(function(e){return{filterUsernames:t.state.users.filter(function(e,t){return e.instagramUsername.includes(a)})}})}},{key:"render",value:function(){var e=this,t=this.state.selectedUser;return null!==t&&(t=t.instagramUsernamel),n.a.createElement("div",null,n.a.createElement(M.a,{isOpen:this.props.showModalInsert},n.a.createElement(D.a,null,"New Order"),n.a.createElement(A.a,null,n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),n.a.createElement("label",null,"Instagram Username:"),n.a.createElement(V.a,{value:t,onChange:this.handleUser,options:this.state.filterUsernames})),n.a.createElement("hr",null),n.a.createElement("div",{className:"add-btn-container"},n.a.createElement("button",{className:"btn btn-info",onClick:function(t){return e.addOrderDetail(t)}},"Add Suborder")),this.state.selects.map(function(t,a){return n.a.createElement("div",{className:"row",key:a},n.a.createElement("div",{className:"col-md-3"},"Sub-order ",a+1),n.a.createElement("div",{className:"col-md-3 form-group"},n.a.createElement("select",{className:"custom-select",value:e.state.selects[a].quantity,onChange:function(t){return e.handleQuantity(a,t)}},n.a.createElement("option",null,"1"),n.a.createElement("option",null,"2"),n.a.createElement("option",null,"3"),n.a.createElement("option",null,"4"),n.a.createElement("option",null,"5"))),n.a.createElement("div",{className:"col-md-3 form-group"},n.a.createElement("select",{className:"custom-select",value:e.state.selects[a].code,onChange:function(t){return e.handleCode(a,t)}},e.state.products.map(function(e,t){return n.a.createElement("option",{key:t},e.code)}))),n.a.createElement("div",{className:"col-md-3"},n.a.createElement(x.a,{className:"fa-times-delete",hidden:1===e.state.selects.length,onClick:function(t){return e.removeSelect(t,a)},icon:q.a})))}))),n.a.createElement(U.a,null,n.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:function(t){return e.submitOrder(t)}},"Add Order"),n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.closeModal},"Cancel"))))}}]),t}(n.a.Component)),Q=a(52),T=a.n(Q),L=(a(99),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlePageChange=a.handlePageChange.bind(Object(d.a)(a)),a.state={activePage:1,itemsPerPage:a.props.itemsPerPage,items:a.props.items},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handlePageChange",value:function(e){var t=this;this.setState({activePage:e},function(){var a=t.state.activePage*t.state.itemsPerPage,r=a-t.state.itemsPerPage,n=t.props.items.slice(r,a);t.props.handleItems(n,e)})}},{key:"render",value:function(){return n.a.createElement("div",{className:"pagination__container"},n.a.createElement(T.a,{innerClass:"pagination-overriden",onChange:this.handlePageChange,activePage:this.state.activePage,totalItemsCount:this.props.items.length,itemsCountPerPage:this.state.itemsPerPage,itemClass:"item-page",activeClass:"item-active-page",hideNavigation:!0,linkClass:"link-page",activeLinkClass:"link-active-page"}))}}]),t}(n.a.Component)),Y=function(e){for(var t=0;t<e.length;t++)e[t].toDelete=!1;return e},H=(a(100),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeCheckboxValue=a.changeCheckboxValue.bind(Object(d.a)(a)),a.deleteOrders=a.deleteOrders.bind(Object(d.a)(a)),a.filterOrders=a.filterOrders.bind(Object(d.a)(a)),a.editOrder=a.editOrder.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.insertOrder=a.insertOrder.bind(Object(d.a)(a)),a.getAllOrders=a.getAllOrders.bind(Object(d.a)(a)),a.handleOrdersShown=a.handleOrdersShown.bind(Object(d.a)(a)),a.updateOrder=a.updateOrder.bind(Object(d.a)(a)),a.checkAllDelete=a.checkAllDelete.bind(Object(d.a)(a)),a.setOrdersShown=a.setOrdersShown.bind(Object(d.a)(a)),a.state={orders:[],showModal:!1,showModalInsert:!1,orderToEdit:{},itemsPerPage:7,activePage:1,ordersShown:[],checkAll:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getAllOrders",value:function(){var e=this;(function(){var e=g();return f.a.get(v+"/order",e)})().then(function(t){null!=t.data&&t.data.orders.length>=1&&(e.setState({orders:Y(t.data.orders)}),e.setOrdersShown())}).catch(function(e){console.log("err: ",e)})}},{key:"componentDidMount",value:function(){this.getAllOrders()}},{key:"setOrdersShown",value:function(){var e=this.state.activePage*this.state.itemsPerPage,t=e-this.state.itemsPerPage;this.setState({ordersShown:this.state.orders.slice(t,e)})}},{key:"filterOrders",value:function(){var e=this.state.orders.filter(function(e){return!e.toDelete}),t=this.state.activePage*this.state.itemsPerPage,a=t-this.state.itemsPerPage;this.setState({orders:e,ordersShown:e.slice(a,t)})}},{key:"insertOrder",value:function(){this.setState({showModalInsert:!0})}},{key:"deleteOrders",value:function(){var e=this,t=[];this.state.orders.map(function(e){e.toDelete&&t.push(e._id)});for(var a=0;a<t.length;a++)E(t[a]).then(function(t){e.filterOrders()}).catch(function(e){console.log(e)})}},{key:"editOrder",value:function(e){this.setState({orderToEdit:e,showModal:!0})}},{key:"updateOrder",value:function(e){var t=this;this.setState(function(t){return{orders:t.orders.map(function(t){return e.orderId===t._id?Object(w.a)({},t,{orderDetails:e.orderDetails,price:e.price,status:e.status,deliveryDate:e.deliveryDate}):t})}},function(){t.setOrdersShown()})}},{key:"changeCheckboxValue",value:function(e,t){if(-1!==e){this.state.activePage>1&&(e+=(this.state.activePage-1)*this.state.itemsPerPage);var a=this.state.orders;a[e].toDelete=t.target.checked,this.setState({orders:a})}else this.setState(function(e){return{orders:e.orders.map(function(t){return t.toDelete=!e.checkAll,t}),checkAll:!e.checkAll}})}},{key:"closeModal",value:function(){this.setState({showModal:!1,showModalInsert:!1})}},{key:"handleOrdersShown",value:function(e,t){this.setState({ordersShown:e,activePage:t})}},{key:"checkAllDelete",value:function(){for(var e=this.state.orders,t=0;t<e;t++)if(!e[t].toDelete)return!1;return!0}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"row orders__container"},n.a.createElement("div",{className:"col-md-10 offset-md-1"},n.a.createElement("div",{className:"orders__btn-container"},n.a.createElement("button",{className:"btn btn-info orders__btn",onClick:this.insertOrder},"Insert"),n.a.createElement("button",{className:"btn btn-danger orders__btn",onClick:this.deleteOrders},"Delete")),n.a.createElement("table",{className:"table table-bordered"},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"custom-control custom-checkbox"},n.a.createElement("input",{className:"custom-control-input",id:"customCheckAll",type:"checkbox",checked:this.state.checkAll,onChange:function(t){return e.changeCheckboxValue(-1,t)}}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckAll"})))),n.a.createElement("th",null,"Customer"),n.a.createElement("th",null,"Order"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Placement Date"),n.a.createElement("th",null,"Delivery Date"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Edit"))),n.a.createElement("tbody",null,this.state.ordersShown.map(function(t,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"custom-control custom-checkbox"},n.a.createElement("input",{className:"custom-control-input",id:"customCheck"+a,type:"checkbox",checked:t.toDelete,onChange:function(t){return e.changeCheckboxValue(a,t)}}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck"+a})))),n.a.createElement("td",null,t.customerId),n.a.createElement("td",null,t.orderDetails.map(function(e,t){return n.a.createElement("div",{key:t},e.quantity," x ",e.code)})),n.a.createElement("td",null,t.price),n.a.createElement("td",null,new Date(t.placingDate).toLocaleString()),n.a.createElement("td",null,null===t.deliveryDate||""===t.deliveryDate?"":new Date(t.deliveryDate).toLocaleString()),n.a.createElement("td",null,t.status),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-info",onClick:function(){return e.editOrder(t)}},"Edit")))}))),n.a.createElement(L,{items:this.state.orders,itemsPerPage:this.state.itemsPerPage,handleItems:this.handleOrdersShown}),n.a.createElement(I,{showModal:this.state.showModal,order:this.state.orderToEdit,closeModal:this.closeModal,updateOrder:this.updateOrder}),n.a.createElement(F,{showModalInsert:this.state.showModalInsert,closeModal:this.closeModal,getOrders:this.getAllOrders})))}}]),t}(n.a.Component)),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleName=a.handleName.bind(Object(d.a)(a)),a.handleCode=a.handleCode.bind(Object(d.a)(a)),a.handlePrice=a.handlePrice.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.submitProduct=a.submitProduct.bind(Object(d.a)(a)),a.state={product:{},errMsg:"",hideAlert:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleName",value:function(e){var t=e.target.value;this.setState(function(e){return{product:Object(w.a)({},e.product,{name:t})}})}},{key:"handleCode",value:function(e){var t=e.target.value;this.setState(function(e){return{product:Object(w.a)({},e.product,{code:t})}})}},{key:"handlePrice",value:function(e){var t=e.target.value;this.setState(function(e){return{product:Object(w.a)({},e.product,{price:t})}})}},{key:"submitProduct",value:function(){var e=this,t=this.state.product;null==t.name||null==t.code||null==t.price?this.setState({errMsg:"please fill all fields",hideAlert:!1}):function(e){var t=g();return f.a.post(v+"/product",e,t)}(t).then(function(t){e.setState({errMsg:"please fill all fields",hideAlert:!0}),e.props.getProducts(),e.props.closeModal()},function(t){e.setState({errMsg:t.response.data.msg,hideAlert:!1})})}},{key:"closeModal",value:function(){this.setState({errMsg:"",hideAlert:!0}),this.props.closeModal()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(M.a,{isOpen:this.props.showModalInsert},n.a.createElement(D.a,null,"New Product"),n.a.createElement(A.a,null,n.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Name:"),n.a.createElement("input",{type:"text",className:"form-control",id:"productName",placeholder:"Name",onChange:this.handleName}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Code:"),n.a.createElement("input",{type:"text",className:"form-control",id:"productCode",placeholder:"Code",onChange:this.handleCode}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Price:"),n.a.createElement("input",{type:"text",className:"form-control",id:"productPrice",placeholder:"Price",onChange:this.handlePrice}))))),n.a.createElement(U.a,null,n.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:function(t){return e.submitProduct(t)}},"Add Product"),n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.closeModal},"Cancel"))))}}]),t}(n.a.Component),B=(a(101),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeCheckboxValue=a.changeCheckboxValue.bind(Object(d.a)(a)),a.deleteProducts=a.deleteProducts.bind(Object(d.a)(a)),a.filterProducts=a.filterProducts.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.insertProduct=a.insertProduct.bind(Object(d.a)(a)),a.getAllProducts=a.getAllProducts.bind(Object(d.a)(a)),a.handleProductsShown=a.handleProductsShown.bind(Object(d.a)(a)),a.state={products:[],showModal:!1,showModalInsert:!1,productsShown:[],itemsPerPage:7,activePage:1,checkAll:!1,hideAlert:!0,errMsg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllProducts()}},{key:"insertProduct",value:function(){this.setState({showModalInsert:!0})}},{key:"getAllProducts",value:function(){var e=this;O().then(function(t){if(null!=t.data&&t.data.products.length>=1){e.setState({products:Y(t.data.products)});var a=e.state.activePage*e.state.itemsPerPage,r=a-e.state.itemsPerPage;e.setState({productsShown:e.state.products.slice(r,a)})}}).catch(function(e){console.log("err: ",e)})}},{key:"deleteProducts",value:function(){var e=this,t=[];this.state.products.map(function(e){e.toDelete&&t.push(e.code)});for(var a=0;a<t.length;a++)k(t[a]).then(function(t){e.setState({errMsg:"",hideAlert:!0}),e.filterProducts()}).catch(function(t){403===t.response.status&&e.setState({errMsg:"this product is already associated with an order",hideAlert:!1})})}},{key:"filterProducts",value:function(){var e=this.state.products.filter(function(e){return!e.toDelete}),t=this.state.activePage*this.state.itemsPerPage,a=t-this.state.itemsPerPage;this.setState({products:e,productsShown:e.slice(a,t)})}},{key:"changeCheckboxValue",value:function(e,t){if(-1!==e){this.state.activePage>1&&(e+=(this.state.activePage-1)*this.state.itemsPerPage);var a=this.state.products;a[e].toDelete=t.target.checked,this.setState({products:a})}else this.setState(function(e){return{products:e.products.map(function(t){return t.toDelete=!e.checkAll,t}),checkAll:!e.checkAll}})}},{key:"closeModal",value:function(){this.setState({showModal:!1,showModalInsert:!1})}},{key:"handleProductsShown",value:function(e,t){this.setState({productsShown:e,activePage:t})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"row products__container"},n.a.createElement("div",{className:"col-md-10 offset-md-1"},n.a.createElement("div",{className:"products__btn-container"},n.a.createElement("button",{className:"btn btn-info products__btn",onClick:this.insertProduct},"Insert"),n.a.createElement("button",{className:"btn btn-danger products__btn",onClick:this.deleteProducts},"Delete")),n.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),n.a.createElement("div",null,n.a.createElement("table",{className:"table table-bordered"},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"custom-control custom-checkbox"},n.a.createElement("input",{className:"custom-control-input",id:"customCheckAll",type:"checkbox",checked:this.state.checkAll,onChange:function(t){return e.changeCheckboxValue(-1,t)}}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckAll"})))),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Price"))),n.a.createElement("tbody",null,this.state.productsShown.map(function(t,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"custom-control custom-checkbox"},n.a.createElement("input",{className:"custom-control-input",id:"customCheck"+a,type:"checkbox",checked:t.toDelete,onChange:function(t){return e.changeCheckboxValue(a,t)}}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck"+a})))),n.a.createElement("td",null,t.name),n.a.createElement("td",null,t.code),n.a.createElement("td",null,t.price))})))),n.a.createElement(L,{items:this.state.products,itemsPerPage:this.state.itemsPerPage,handleItems:this.handleProductsShown}),n.a.createElement(J,{showModalInsert:this.state.showModalInsert,closeModal:this.closeModal,getProducts:this.getAllProducts})))}}]),t}(n.a.Component)),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleName=a.handleName.bind(Object(d.a)(a)),a.handleInstagram=a.handleInstagram.bind(Object(d.a)(a)),a.handleEmail=a.handleEmail.bind(Object(d.a)(a)),a.handlePhone=a.handlePhone.bind(Object(d.a)(a)),a.handleAddress=a.handleAddress.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.submitUser=a.submitUser.bind(Object(d.a)(a)),a.state={user:{},errMsg:"",hideAlert:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleName",value:function(e){var t=e.target.value;this.setState(function(e){return{user:Object(w.a)({},e.user,{name:t})}})}},{key:"handleInstagram",value:function(e){var t=e.target.value;this.setState(function(e){return{user:Object(w.a)({},e.user,{instagramUsername:t})}})}},{key:"handleEmail",value:function(e){var t=e.target.value;this.setState(function(e){return{user:Object(w.a)({},e.user,{email:t})}})}},{key:"handlePhone",value:function(e){var t=e.target.value;this.setState(function(e){return{user:Object(w.a)({},e.user,{phone:t})}})}},{key:"handleAddress",value:function(e){var t=e.target.value;this.setState(function(e){return{user:Object(w.a)({},e.user,{address:t})}})}},{key:"submitUser",value:function(){var e=this;(function(e){var t=g();return f.a.post(v+"/user",e,t)})(this.state.user).then(function(t){e.setState({errMsg:"",hideAlert:!0}),e.props.getUsers(),e.props.closeModal()},function(t){"object"==typeof t.response.data?e.setState({errMsg:t.response.data.msg,hideAlert:!1}):e.setState({errMsg:t.response.data,hideAlert:!1})})}},{key:"closeModal",value:function(){this.setState({errMsg:"",hideAlert:!0}),this.props.closeModal()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(M.a,{isOpen:this.props.showModalInsert},n.a.createElement(D.a,null,"New User"),n.a.createElement(A.a,null,n.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Name:"),n.a.createElement("input",{type:"text",className:"form-control",id:"userName",placeholder:"Enter Your Name",onChange:this.handleName}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Instagram Username:"),n.a.createElement("input",{type:"text",className:"form-control",id:"userInstagram",placeholder:"Enter Your Instagram Username",onChange:this.handleInstagram}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Email:"),n.a.createElement("input",{type:"text",className:"form-control",id:"userEmail",placeholder:"Enter Your Email",onChange:this.handleEmail}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Phone:"),n.a.createElement("input",{type:"text",className:"form-control",id:"userPhone",placeholder:"Enter Your Phone",onChange:this.handlePhone}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Address:"),n.a.createElement("input",{type:"text",className:"form-control",id:"userAddress",placeholder:"Enter Your Address",onChange:this.handleAddress}))))),n.a.createElement(U.a,null,n.a.createElement("button",{type:"submit",className:"btn btn-info",onClick:function(t){return e.submitUser(t)}},"Add User"),n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.closeModal},"Cancel"))))}}]),t}(n.a.Component),$=(a(102),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeCheckboxValue=a.changeCheckboxValue.bind(Object(d.a)(a)),a.deleteUsers=a.deleteUsers.bind(Object(d.a)(a)),a.filterUsers=a.filterUsers.bind(Object(d.a)(a)),a.closeModal=a.closeModal.bind(Object(d.a)(a)),a.insertUser=a.insertUser.bind(Object(d.a)(a)),a.getAllUsers=a.getAllUsers.bind(Object(d.a)(a)),a.handleUsersShown=a.handleUsersShown.bind(Object(d.a)(a)),a.state={users:[],showModalInsert:!1,itemsPerPage:7,activePage:1,usersShown:[],checkAll:!1,hideAlert:!0,errMsg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllUsers()}},{key:"getAllUsers",value:function(){var e=this;y().then(function(t){if(null!=t.data&&t.data.users.length>=1){e.setState({users:Y(t.data.users)});var a=e.state.activePage*e.state.itemsPerPage,r=a-e.state.itemsPerPage;e.setState({usersShown:e.state.users.slice(r,a)})}}).catch(function(e){console.log("err: ",e)})}},{key:"changeCheckboxValue",value:function(e,t){if(-1!==e){this.state.activePage>1&&(e+=(this.state.activePage-1)*this.state.itemsPerPage);var a=this.state.users;a[e].toDelete=t.target.checked,this.setState({users:a})}else this.setState(function(e){return{users:e.users.map(function(t){return t.toDelete=!e.checkAll,t}),checkAll:!e.checkAll}})}},{key:"deleteUsers",value:function(){var e=this,t=[];this.state.users.map(function(e){e.toDelete&&t.push(e.instagramUsername)});for(var a=0;a<t.length;a++)N(t[a]).then(function(t){e.setState({errMsg:"",hideAlert:!0}),e.filterUsers()}).catch(function(t){403===t.response.status&&e.setState({errMsg:"this user is already associated with an order",hideAlert:!1})})}},{key:"filterUsers",value:function(){var e=this.state.users.filter(function(e){return!e.toDelete}),t=this.state.activePage*this.state.itemsPerPage,a=t-this.state.itemsPerPage;this.setState({users:e,usersShown:e.slice(a,t)})}},{key:"insertUser",value:function(){this.setState({showModalInsert:!0})}},{key:"closeModal",value:function(){this.setState({showModalInsert:!1})}},{key:"handleUsersShown",value:function(e,t){this.setState({usersShown:e,activePage:t})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"row users__container"},n.a.createElement("div",{className:"col-md-10 offset-md-1"},n.a.createElement("div",{className:"users__btn-container"},n.a.createElement("button",{className:"btn btn-info users__btn",onClick:this.insertUser},"Insert"),n.a.createElement("button",{className:"btn btn-danger users__btn",onClick:this.deleteUsers},"Delete")),n.a.createElement("div",{className:"alert alert-danger",role:"alert",hidden:this.state.hideAlert},this.state.errMsg),n.a.createElement("div",null,n.a.createElement("table",{className:"table table-bordered"},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"custom-control custom-checkbox"},n.a.createElement("input",{className:"custom-control-input",id:"customCheckAll",type:"checkbox",checked:this.state.checkAll,onChange:function(t){return e.changeCheckboxValue(-1,t)}}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckAll"})))),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Instagram Username"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"Phone"),n.a.createElement("th",null,"Address"))),n.a.createElement("tbody",null,this.state.usersShown.map(function(t,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"custom-control custom-checkbox"},n.a.createElement("input",{className:"custom-control-input",id:"customCheck"+a,type:"checkbox",checked:t.toDelete,onChange:function(t){return e.changeCheckboxValue(a,t)}}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck"+a})))),n.a.createElement("td",null,t.name),n.a.createElement("td",null,t.instagramUsername),n.a.createElement("td",null,t.email),n.a.createElement("td",null,t.phone),n.a.createElement("td",null,t.address))})))),n.a.createElement(L,{items:this.state.users,itemsPerPage:this.state.itemsPerPage,handleItems:this.handleUsersShown}),n.a.createElement(W,{showModalInsert:this.state.showModalInsert,closeModal:this.closeModal,getUsers:this.getAllUsers})))}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(103);var z=a(53),G=function(e){var t=e.component,a=Object(z.a)(e,["component"]);return n.a.createElement(P.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?n.a.createElement(t,e):n.a.createElement(P.a,{to:{pathname:"/",state:{from:e.location}}})}}))},K=n.a.createElement("div",null,n.a.createElement(h.a,null,n.a.createElement("div",null,n.a.createElement(P.b,{exact:!0,path:"/",component:j}),n.a.createElement(G,{path:"/dashboard",component:C}),n.a.createElement(G,{path:"/dashboard/orders",component:H}),n.a.createElement(G,{path:"/dashboard/products",component:B}),n.a.createElement(G,{path:"/dashboard/users",component:$}))));l.a.render(K,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,a){e.exports=a(104)},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},95:function(e,t,a){},99:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.d022dfd6.chunk.js.map