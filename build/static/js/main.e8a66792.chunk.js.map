{"version":3,"sources":["components/Header/Header.js","constants.js","lib/Api.js","components/Authentication/Authentication.js","App.js","components/Dashboard/Dashboard.js","components/OrderEdit/OrderEdit.js","components/OrderInsert/OrderInsert.js","components/Paginatior/Paginatior.js","lib/helper_functions.js","components/Order/Order.js","components/ProductInsert/ProductInsert.js","components/Product/Product.js","components/UserInsert/UserInsert.js","components/User/User.js","serviceWorker.js","AuthenticatedRoute.js","components/Revenue/Revenue.js","index.js"],"names":["Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","logout","bind","assertThisInitialized","state","redirectToRevenue","redirectToDashboard","localStorage","removeItem","getItem","react_default","a","createElement","className","react_router_dom","to","style","color","textDecoration","onClick","React","Component","API_URL","getHeaders","headers","x-access-token","deleteOrders","idToDelete","axios","delete","Constants","getProducts","get","deleteProducts","getUsers","deleteUsers","Authentication","handleUsername","handlePassword","submitForm","username","password","errMsg","hideAlert","event","setState","target","value","_this2","preventDefault","authBody","post","authenticateAdmin","then","res","setItem","data","catch","err","response","msg","react_router","onSubmit","role","hidden","type","placeholder","onChange","autoComplete","App","Header_Header_Header","Authentication_Authentication_Authentication","Dashboard","activeStyle","backgroundColor","aria-label","first","split","length","second","third","OrderEdit","editOrder","handleQuantity","handleCode","initOrderDetails","handleStatus","handleDiscountChange","handleDiscountAmount","handleDiscountRemove","products","orderDetails","status","deliveryDate","dispatchingDate","checked","discountAmount","checkedDiscountRemove","console","log","discountPercentage","_this3","editedOrderDetails","i","order","quantity","code","editOrderBody","preOrderDetails","orderId","_id","patch","price","updateOrder","closeModal","index","id","ordersSize","newOrderDetails","newQuantity","Number","prevState","map","orderDetail","pointer","objectSpread","newCode","handleQuantityHelper","handleCodeHelper","Date","now","_this4","applyDiscount","removeDiscount","htmlFor","showModal","Modal","isOpen","ModalHeader","ModalBody","key","product","ModalFooter","OrderInsert","addOrderDetail","removeSelect","handleUser","getAllProducts","getAllUsers","filterUsernames","setFilterUsernames","users","selects","selectedUser","usernames","label","instagramUsername","concat","toConsumableArray","newSelects","splice","select","selectedOption","customerId","window","setTimeout","insertOrder","getOrders","_this5","filterUsername","filter","user","includes","_this6","instagramUsernamel","showModalInsert","react_select_browser_esm","options","index_es","icon","faTimes","submitOrder","Paginatior","handlePageChange","activePage","itemsPerPage","items","pageNumber","indexOfLastThing","indexOfFirstThing","itemsShown","slice","handleItems","Pagination_default","innerClass","totalItemsCount","itemsCountPerPage","itemClass","activeClass","hideNavigation","linkClass","activeLinkClass","addDeleteCheckers","formulateOrderNumber","date","dateSpliited","toLocaleDateString","timeSpliited","toLocaleTimeString","Order","changeCheckboxValue","filterOrders","getAllOrders","handleOrdersShown","checkAllDelete","setOrdersShown","sortOrders","orders","orderToEdit","ordersShown","checkAll","sortType","sortingDates","placingDate","sortFieldFlag","field","defineProperty","sort","b","filteredOrders","idsToDelete","push","stateOrder","orderNumber","toLocaleString","Paginatior_Paginatior_Paginatior","OrderEdit_OrderEdit_OrderEdit","OrderInsert_OrderInsert_OrderInsert","ProductInsert","handleName","handlePrice","submitProduct","name","insertProduct","Product","filterProducts","handleProductsShown","productsShown","filteredProducts","stateProduct","availableToSell","ProductInsert_ProductInsert","UserInsert","handleInstagram","handleEmail","handlePhone","handleAddress","submitUser","email","phone","match","address","insertUser","User","filterUsers","handleUsersShown","usersShown","stateUser","filteredUsers","UserInsert_UserInsert","Boolean","location","hostname","AuthenticatedRoute","_ref","component","rest","objectWithoutProperties","assign","render","JWT","exp","exact","pathname","from","Revenue","total","getRevenue","result","routing","path","src_AuthenticatedRoute","Dashboard_Dashboard_Dashboard","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e8a66792.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Header.css';\r\n\r\nexport default class Header extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.logout = this.logout.bind(this);\r\n        this.state = {\r\n            redirectToRevenue: false,\r\n            redirectToDashboard: false\r\n        };\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n    }\r\n\r\n    render() {\r\n        if (localStorage.getItem('token') === '' || localStorage.getItem('token') === null) {\r\n            return (\r\n                <div className=\"header__main\">\r\n                    <nav className=\"navbar fixed-top navbar-light bg-info\">\r\n                        {/* <span className=\"navbar-brand\" href=\"#!\" style={{ color: '#fff' }}>Jawareb</span> */}\r\n                        <div>\r\n                            <ul>\r\n                                <li>\r\n                                    <Link to=\"/dashboard/orders\" style={{ color: '#fff', textDecoration: 'none' }}>Jawareb</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n                \r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"header__main\">\r\n                    <nav className=\"navbar fixed-top navbar-light bg-info\">\r\n                        <div>\r\n                            <ul>\r\n                                <li>\r\n                                    <Link to=\"/dashboard/orders\" style={{ color: '#fff', textDecoration: 'none' }}>Jawareb</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/dashboard/orders\" style={{ color: '#fff', textDecoration: 'none' }}>Dashboard</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/analytics/revenue\" style={{ color: '#fff', textDecoration: 'none' }}>Revenue</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div>\r\n                            <Link style={{ color: '#fff', textDecoration: 'none' }} to=\"/\" onClick={this.logout}>Logout</Link>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n                \r\n            )\r\n        }\r\n    }\r\n}","// const PORT = process.env.PORT || 3001;\r\n// export const API_URL='http://localhost:3001';\r\nexport const API_URL= 'https://jawareb.herokuapp.com';","import axios from 'axios';\r\nimport * as Constants from '../constants';\r\n\r\nconst getHeaders = () => {\r\n    const headers = {\r\n        headers: {\r\n            'x-access-token': localStorage.getItem('token')\r\n        }\r\n    };\r\n    return headers;  \r\n}\r\n\r\nexport const getOrders = () => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + '/order', headers);\r\n};\r\n\r\nexport const insertOrder = (order) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/order', order, headers)\r\n};\r\n\r\nexport const deleteOrders = (idToDelete) => {\r\n    const headers = getHeaders();\r\n    return axios.delete(Constants.API_URL + '/order/' + idToDelete, headers);\r\n}\r\n\r\nexport const editOrder = (editOrderBody) => {\r\n    const headers = getHeaders();\r\n    return axios.patch(Constants.API_URL + '/order', editOrderBody, headers);\r\n}\r\n\r\nexport const getProducts = () => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + '/product', headers);\r\n}\r\n\r\nexport const insertProduct = (product) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/product', product, headers)\r\n};\r\n\r\nexport const deleteProducts = (idToDelete) => {\r\n    const headers = getHeaders();\r\n    return axios.delete(Constants.API_URL + '/product/' + idToDelete, headers);\r\n}\r\n\r\nexport const getUsers = () => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + '/user', headers);\r\n}\r\n\r\nexport const insertUser = (user) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/user', user, headers)\r\n};\r\n\r\nexport const deleteUsers = (idToDelete) => {\r\n    const headers = getHeaders();\r\n    return axios.delete(Constants.API_URL + '/user/' + idToDelete, headers);\r\n}\r\n\r\nexport const getRevenue = () => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + '/order/revenue', headers);\r\n}\r\n\r\nexport const authenticateAdmin = (authBody) => {\r\n    return  axios.post(Constants.API_URL + '/auth', authBody);\r\n}","import React from 'react';\r\nimport { authenticateAdmin } from '../../lib/Api';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport './Authentication.css';\r\n\r\nexport default class Authentication extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleUsername = this.handleUsername.bind(this);\r\n        this.handlePassword = this.handlePassword.bind(this);\r\n        this.submitForm = this.submitForm.bind(this);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            redirectToDashboard: false\r\n        };\r\n    }\r\n\r\n    handleUsername(event) {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handlePassword(event) {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    submitForm(event) {\r\n        event.preventDefault();\r\n        if (this.state.username !== '' && this.state.password !== '') {\r\n            let authBody = {\r\n                username: this.state.username,\r\n                password: this.state.password\r\n            }\r\n            authenticateAdmin(authBody).then(res => {\r\n                localStorage.setItem('token', res.data);\r\n                this.setState({ errMsg: '', hideAlert: true, redirectToDashboard: true });\r\n            }).catch(err => {\r\n                if (err.response) {\r\n                    if (typeof err.response.data == 'object') {\r\n                        this.setState({ errMsg: err.response.data.msg, hideAlert: false });\r\n                    } else {\r\n                        this.setState({ errMsg: err.response.data, hideAlert: false });\r\n                    }\r\n                } else {\r\n                    this.setState({ errMsg: err.response, hideAlert: false });\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({ errMsg: 'username and password can\\'t be empty', hideAlert: false });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirectToDashboard) {\r\n            return <Redirect to=\"/dashboard\" />\r\n        }\r\n        return(\r\n            <div className=\"row auth__main-container\">\r\n                <div className=\"col-md-8 auth__left-container\"></div>\r\n                <div className=\"col-md-4 auth__right-container\">\r\n                    <div className=\"auth__login-form\">\r\n                        <form onSubmit={this.submitForm}>\r\n                            <h4>Jawareb Admin Portal</h4>\r\n                            <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                                { this.state.errMsg }\r\n                            </div>\r\n                            <div className=\"auth__login-form-control\">\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Username\" onChange={this.handleUsername} autoComplete=\"new-password\" />\r\n                            </div>\r\n                            <div className=\"auth__login-form-control\">\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Password\" onChange={this.handlePassword} autoComplete=\"new-password\" />\r\n                            </div>\r\n                            <div className=\"auth__login-button\">\r\n                                <input type=\"submit\" className=\"btn btn-info\" value=\"Login\" />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport './App.css';\nimport Header from './components/Header/Header';\nimport Authentication from './components/Authentication/Authentication';\n\nfunction App() {\n\n  return (\n      <div className=\"App\">\n        <Header></Header>\n        <Authentication></Authentication>\n      </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Header from '../Header/Header';\r\n\r\nimport './Dashboard.css';\r\n\r\nexport default class Dashboard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeStyle: { backgroundColor: '#555', color: '#fff' },\r\n            style: { backgroundColor: '#e9ecef' }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header></Header>\r\n                <div className=\"dashboard__container\">\r\n                    <div className=\"btn-group btn-group-lg\" role=\"group\" aria-label=\"Basic example\">\r\n                        <NavLink className=\"btn\" to={this.props.first} activeStyle={ this.state.activeStyle } style={ this.state.style }>\r\n                            {this.props.first.split('/')[this.props.first.split('/').length - 1]}\r\n                        </NavLink>\r\n                        <NavLink className=\"btn\" to={this.props.second} activeStyle={this.state.activeStyle} style={ this.state.style }>\r\n                            {this.props.second.split('/')[this.props.second.split('/').length - 1]}\r\n                        </NavLink>\r\n                        <NavLink className=\"btn\" to={this.props.third} activeStyle={this.state.activeStyle} style={ this.state.style }>\r\n                            {this.props.third.split('/')[this.props.third.split('/').length - 1]}\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { getProducts, editOrder } from '../../lib/Api';\r\n\r\nimport './OrderEdit.css';\r\n\r\nexport default class OrderEdit extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.editOrder = this.editOrder.bind(this);\r\n        this.handleQuantity = this.handleQuantity.bind(this);\r\n        this.handleCode = this.handleCode.bind(this);\r\n        this.initOrderDetails = this.initOrderDetails.bind(this);\r\n        this.handleStatus = this.handleStatus.bind(this);\r\n        this.handleDiscountChange = this.handleDiscountChange.bind(this);\r\n        this.handleDiscountAmount = this.handleDiscountAmount.bind(this);\r\n        this.handleDiscountRemove = this.handleDiscountRemove.bind(this);\r\n        this.state = {\r\n            products: [],\r\n            orderDetails: [],\r\n            status: '',\r\n            deliveryDate: '',\r\n            dispatchingDate: '',\r\n            checked: false,\r\n            discountAmount: '0',\r\n            checkedDiscountRemove: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getProducts().then(res => {\r\n            if (res.data != null && res.data.products.length >= 1) {\r\n                this.setState({ products: res.data.products });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    editOrder() {\r\n        let editedOrderDetails = [];\r\n        if (this.state.orderDetails.length === 0) {\r\n            for (let i = 0; i < this.props.order.orderDetails.length; i++) {\r\n                editedOrderDetails[i] = { quantity: this.props.order.orderDetails[i].quantity, code: this.props.order.orderDetails[i].code }\r\n            }\r\n        } else {\r\n            editedOrderDetails = this.state.orderDetails;\r\n            for (let i = 0; i < editedOrderDetails.length; i++) {\r\n                if (editedOrderDetails[i].quantity === '' || editedOrderDetails[i].quantity == null) {\r\n                    editedOrderDetails[i].quantity = this.props.order.orderDetails[i].quantity;\r\n                }\r\n                if (editedOrderDetails[i].code === '' || editedOrderDetails[i].code == null) {\r\n                    editedOrderDetails[i].code = this.props.order.orderDetails[i].code;\r\n                }\r\n            }\r\n        }\r\n\r\n        let discountPercentage;\r\n        if (this.state.checkedDiscountRemove) {\r\n            discountPercentage = '0';\r\n        } else if (this.state.checked) {\r\n            discountPercentage = this.state.discountAmount;\r\n        } else {\r\n            discountPercentage = this.props.order.discountPercentage;\r\n        }\r\n\r\n        let editOrderBody = {\r\n            preOrderDetails: this.props.order.orderDetails,\r\n            orderDetails: editedOrderDetails,\r\n            status: this.state.status === ''? this.props.order.status : this.state.status,\r\n            orderId: this.props.order._id,\r\n            deliveryDate: this.state.deliveryDate,\r\n            dispatchingDate: this.state.dispatchingDate,\r\n            discountPercentage\r\n        }\r\n\r\n        editOrder(editOrderBody).then(res => {\r\n            editOrderBody['price'] = res.data.order.price;\r\n            this.props.updateOrder(editOrderBody);\r\n            this.props.closeModal();\r\n            this.setState({\r\n                orderDetails: [],\r\n                status: '',\r\n                checked: false,\r\n                checkedDiscountRemove: false\r\n            });\r\n        }, err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    initOrderDetails(index, event, id) {\r\n        let ordersSize = this.props.order.orderDetails.length;\r\n        let newOrderDetails = []\r\n        for (let i = 0; i < ordersSize; i++) {\r\n            newOrderDetails[i] = { quantity: this.props.order.orderDetails[i].quantity, code: this.props.order.orderDetails[i].code }\r\n        };\r\n        if (id === 'quantity') {\r\n            let newQuantity = Number(event.target.value);\r\n            this.setState(prevState => ({\r\n                orderDetails: newOrderDetails.map((orderDetail, pointer) => {\r\n                    return pointer === index? {...orderDetail, quantity: newQuantity} : orderDetail;\r\n                })\r\n            }));\r\n        } else {\r\n            let newCode = event.target.value;\r\n            this.setState(prevState => ({\r\n                orderDetails: newOrderDetails.map((orderDetail, pointer) => {\r\n                    return pointer === index? {...orderDetail, code: newCode} : orderDetail;\r\n                })\r\n            }));\r\n        }\r\n    }\r\n\r\n    handleQuantity(i, event) {\r\n        if (this.state.orderDetails.length === 0) {\r\n            this.initOrderDetails(i, event, 'quantity');\r\n        } else {\r\n            this.handleQuantityHelper(i, event.target.value);\r\n        }\r\n    }\r\n\r\n    handleQuantityHelper(i, newQuantity) {\r\n        this.setState(prevState => ({\r\n            orderDetails: prevState.orderDetails.map((orderDetail, index) => {\r\n                return index === i? { ...orderDetail, quantity: Number(newQuantity) } : orderDetail;\r\n            })\r\n        }));\r\n    }\r\n\r\n    handleCode(i, event) {\r\n        if (this.state.orderDetails.length === 0) {\r\n            this.initOrderDetails(i, event, 'code');\r\n        } else {\r\n            this.handleCodeHelper(i, event.target.value);\r\n        }\r\n    }\r\n\r\n    handleCodeHelper(i, newCode) {\r\n        this.setState(prevState => ({\r\n            orderDetails: prevState.orderDetails.map((orderDetail, index) => {\r\n                return index === i? { ...orderDetail, code: newCode } : orderDetail;\r\n            })\r\n        }));\r\n    }\r\n\r\n    handleStatus(event) {\r\n        if (event.target.value === 'delivered') {\r\n            this.setState({ status: event.target.value, deliveryDate: Date(Date.now) });\r\n        } else if (event.target.value === 'dispatched') {\r\n            this.setState({ status: event.target.value, dispatchingDate: Date(Date.now), deliveryDate: '' });\r\n        } else {\r\n            this.setState({ status: event.target.value, dispatchingDate: '', deliveryDate: '' });\r\n        }\r\n    }\r\n\r\n    handleDiscountChange() {\r\n        this.setState({ checked: !this.state.checked, checkedDiscountRemove: false });\r\n    }\r\n\r\n    handleDiscountAmount(event) {\r\n        this.setState({ discountAmount: event.target.value });\r\n    }\r\n\r\n    handleDiscountRemove() {\r\n        this.setState({ checkedDiscountRemove: !this.state.checkedDiscountRemove, checked: false });\r\n    }\r\n\r\n    render() {\r\n        if (this.props.order.orderDetails) {\r\n            const applyDiscount = this.state.checked \r\n                ? <div className=\"form-group\">\r\n                    <div className=\"form-group\">\r\n                        <label>Discount:</label>\r\n                        <input type=\"number\" className=\"form-control\" id=\"discount\" placeholder=\"Discount Percentage\" onChange={this.handleDiscountAmount} />\r\n                    </div>\r\n                  </div>\r\n                : null;\r\n            const removeDiscount = this.props.order.discountPercentage !== \"0\"\r\n                ? <div className=\"form-group\">\r\n                    <div className=\"custom-control custom-checkbox\">\r\n                        <input className=\"custom-control-input\" id=\"removeDiscountCheck\" type=\"checkbox\" checked={ this.state.checkedDiscountRemove } onChange={ this.handleDiscountRemove } />\r\n                        <label className=\"custom-control-label\" htmlFor=\"removeDiscountCheck\">Remove discount</label>\r\n                    </div>\r\n                </div>\r\n                : null;\r\n            return(\r\n                <div>\r\n                    { (this.props.showModal) ? \r\n                        <Modal isOpen={this.props.showModal}>\r\n                            <ModalHeader>Existing Order</ModalHeader>\r\n                            <ModalBody>\r\n                                <form>\r\n                                    {\r\n                                        this.props.order.orderDetails.map((orderDetail, index) => {\r\n                                            return(\r\n                                                <div className=\"row\" key={index}>\r\n                                                    <div className=\"col-md-3\">Sub-order { index + 1 }:</div>\r\n                                                    <div className=\"form-group col-md-4\">\r\n                                                        <select className=\"custom-select\" value={this.state.orderDetails[index]? this.state.orderDetails[index].quantity : orderDetail.quantity} onChange={(event) => this.handleQuantity(index, event)}>\r\n                                                            <option>1</option>\r\n                                                            <option>2</option>\r\n                                                            <option>3</option>\r\n                                                            <option>4</option>\r\n                                                            <option>5</option>\r\n                                                            <option>6</option>\r\n                                                            <option>7</option>\r\n                                                            <option>8</option>\r\n                                                            <option>9</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div className=\"form-group col-md-4\">\r\n                                                        <select className=\"custom-select\" value={this.state.orderDetails[index]? this.state.orderDetails[index].code : orderDetail.code} onChange={(event) => this.handleCode(index, event)}>\r\n                                                            {\r\n                                                                this.state.products.map((product, i) => {\r\n                                                                    return <option key={i}>{product.code}</option>\r\n                                                                })\r\n                                                            }\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                    <hr />\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-md-3\">Status:</div>\r\n                                        <div className=\"col-md-4 form-group\">\r\n                                            <select className=\"custom-select\" value={this.state.status === ''? this.props.order.status : this.state.status} onChange={(event) => this.handleStatus(event)}>\r\n                                                <option value=\"pending\">pending</option>\r\n                                                <option value=\"dispatched\">dispatched</option>\r\n                                                <option value=\"delivered\">delivered</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-checkbox\">\r\n                                            <input className=\"custom-control-input\" id=\"customCheck\" type=\"checkbox\" checked={ this.state.checked } onChange={ this.handleDiscountChange } />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"customCheck\">Apply discount</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    { applyDiscount }\r\n                                    <hr />\r\n                                    { removeDiscount }\r\n                                </form>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                                <button type=\"submit\" className=\"btn btn-info\" onClick={this.editOrder}>Edit</button>\r\n                                <button className=\"btn btn-danger\" onClick={(event) => this.props.closeModal(event)}>Cancel</button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n                    : null }\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n       \r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { getProducts, getUsers, insertOrder } from '../../lib/Api';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport Select from 'react-select';\r\n\r\nimport './OrderInsert.css';\r\n\r\nexport default class OrderInsert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.addOrderDetail = this.addOrderDetail.bind(this);\r\n        this.removeSelect = this.removeSelect.bind(this);\r\n        this.handleCode = this.handleCode.bind(this);\r\n        this.handleQuantity = this.handleQuantity.bind(this);\r\n        this.handleUser = this.handleUser.bind(this);\r\n        this.getAllProducts = this.getAllProducts.bind(this);\r\n        this.getAllUsers = this.getAllUsers.bind(this);\r\n        this.filterUsernames = this.filterUsernames.bind(this);\r\n        this.setFilterUsernames = this.setFilterUsernames.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.handleDiscountChange = this.handleDiscountChange.bind(this);\r\n        this.handleDiscountAmount = this.handleDiscountAmount.bind(this);\r\n        this.state = {\r\n            users: [],\r\n            products: [],\r\n            order: {},\r\n            selects: [],\r\n            filterUsernames: [],\r\n            selectedUser: null,\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            checked: false,\r\n            discountAmount: '0'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllProducts();\r\n        this.getAllUsers();\r\n    }\r\n\r\n    getAllUsers() {\r\n        getUsers().then(res => {\r\n            if (res.data != null && res.data.users.length >= 1) {\r\n                this.setState({ users: res.data.users });\r\n                this.setState({ selectedUser: res.data.users[0] })\r\n                let usernames = [];\r\n                for (let i = 0; i < res.data.users.length; i++) {\r\n                    usernames[i] = {\r\n                        label: res.data.users[i].instagramUsername,\r\n                        value: res.data.users[i].instagramUsername\r\n                    }\r\n                }\r\n                this.setFilterUsernames(usernames);\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    setFilterUsernames(users) {\r\n        this.setState({ filterUsernames: users });\r\n    }\r\n\r\n    getAllProducts() {\r\n        getProducts().then(res => {\r\n            if (res.data != null && res.data.products.length >= 1) {\r\n                this.setState({ products: res.data.products, selects: [{ quantity: 1, code: res.data.products[0].code }] });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    addOrderDetail(event) {\r\n        event.preventDefault();\r\n        this.setState({ selects: [...this.state.selects, { quantity: 1, code: this.state.products[0].code }] });\r\n    }\r\n\r\n    removeSelect(event, index) {\r\n        event.preventDefault();\r\n        let newSelects = [...this.state.selects];\r\n        newSelects.splice(index, 1);\r\n        this.setState({ selects: newSelects });\r\n    }\r\n\r\n    handleQuantity(index, event) {\r\n        let newQuantity = event.target.value;\r\n        if (this.state.selects[index]) {\r\n            this.setState(prevState => ({\r\n                selects: prevState.selects.map((select, i) => {\r\n                    return index === i? { ...select, quantity: Number(newQuantity) } : select;\r\n                })\r\n            }));\r\n        } else {\r\n            this.setState({ selects: [...this.state.selects, { quantity: Number(newQuantity) } ] });\r\n        }\r\n    }\r\n\r\n    handleCode(index, event) {\r\n        let newCode = event.target.value;\r\n        if (this.state.selects[index]) {\r\n            this.setState(prevState => ({\r\n                selects: prevState.selects.map((select, i) => {\r\n                    return index === i? { ...select, code: newCode } : select;\r\n                })\r\n            }));\r\n        } else {\r\n            this.setState({ selects: [...this.state.selects, { code: newCode } ] });\r\n        }\r\n    }\r\n\r\n    handleUser(selectedOption) {\r\n        this.setState({ order: { customerId: selectedOption.value }, selectedUser: selectedOption.value });\r\n    }\r\n\r\n    submitOrder() {\r\n        let order = this.state.order;\r\n        order['deliveryDate'] = '';\r\n        order['dispatchingDate'] = '';\r\n        order['orderDetails'] = this.state.selects;\r\n        order['discountPercentage'] = this.state.discountAmount;\r\n        if (order.customerId === '' || order.customerId == null) {\r\n            this.setState({ errMsg: 'no Instagram username is supplied', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        } else {\r\n            insertOrder(order).then(res => {\r\n                this.setState({ discountAmount: '0', checked: false });\r\n                this.props.getOrders();\r\n                this.props.closeModal();\r\n            }, err => {\r\n                this.setState({ errMsg: err.response.data.msg, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ errMsg: '', hideAlert: true });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    filterUsernames(event) {\r\n        const filterUsername = event.target.value;\r\n        this.setState(prevState => ({\r\n            filterUsernames: this.state.users.filter((user, i) => {\r\n                return user.instagramUsername.includes(filterUsername);\r\n            })\r\n        }));\r\n    }\r\n\r\n    handleDiscountChange() {\r\n        this.setState({ checked: !this.state.checked })\r\n    }\r\n\r\n    handleDiscountAmount(event) {\r\n        this.setState({ discountAmount: event.target.value });\r\n    }\r\n\r\n    render() {\r\n        let { selectedUser } = this.state;\r\n        if (selectedUser !== null) {\r\n            selectedUser = selectedUser.instagramUsernamel;\r\n        }\r\n        let applyDiscount = null;\r\n        if (this.state.checked) {\r\n            applyDiscount = <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Discount:</label>\r\n                                    <input type=\"number\" className=\"form-control\" id=\"discount\" placeholder=\"Discount Percentage\" onChange={this.handleDiscountAmount} />\r\n                                </div>\r\n                            </div>\r\n        }\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showModalInsert}>\r\n                        <ModalHeader>New Order</ModalHeader>\r\n                        <ModalBody>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                                    { this.state.errMsg }\r\n                                </div>\r\n                                <label>Instagram Username:</label>\r\n                                <Select\r\n                                    value={selectedUser}\r\n                                    onChange={this.handleUser}\r\n                                    options={this.state.filterUsernames}\r\n                                />\r\n                            </div>\r\n                            <hr />\r\n                            <div className=\"add-btn-container\">\r\n                                <button className=\"btn btn-info\" onClick={ (event) => this.addOrderDetail(event) }>Add Suborder</button>\r\n                            </div>\r\n\r\n                            {\r\n                                this.state.selects.map((select, index) => {\r\n                                    return(\r\n                                        <div className=\"row\" key={ index }>\r\n                                            <div className=\"col-md-3\">Sub-order {index + 1}</div>\r\n                                            <div className=\"col-md-3 form-group\">\r\n                                                <select className=\"custom-select\" value={this.state.selects[index].quantity} onChange={(event) => this.handleQuantity(index, event)}>\r\n                                                    <option>1</option>\r\n                                                    <option>2</option>\r\n                                                    <option>3</option>\r\n                                                    <option>4</option>\r\n                                                    <option>5</option>\r\n                                                    <option>6</option>\r\n                                                    <option>7</option>\r\n                                                    <option>8</option>\r\n                                                    <option>9</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"col-md-3 form-group\">\r\n                                                <select className=\"custom-select\" value={this.state.selects[index].code} onChange={(event) => this.handleCode(index, event)}>\r\n                                                    {\r\n                                                        this.state.products.map((product, index) => {\r\n                                                            return <option key={ index }>{ product.code }</option>\r\n                                                        })\r\n                                                    }\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"col-md-3\">\r\n                                                <FontAwesomeIcon className=\"fa-times-delete\" hidden={ this.state.selects.length === 1 } onClick={ (event) => this.removeSelect(event, index) } icon={faTimes} />\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-control custom-checkbox\">\r\n                                    <input className=\"custom-control-input\" id=\"customCheck\" type=\"checkbox\" checked={ this.state.checked } onChange={ this.handleDiscountChange } />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"customCheck\">Apply discount</label>\r\n                                </div>\r\n                            </div>\r\n                            { applyDiscount }\r\n                        </form>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <button type=\"submit\" className=\"btn btn-info\" onClick={(event) => this.submitOrder(event)}>Add Order</button>\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={this.closeModal}>Cancel</button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nimport './Paginatior.css';\r\n\r\nexport default class Paginatior extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        this.state = {\r\n            activePage: 1,\r\n            itemsPerPage: this.props.itemsPerPage,\r\n            items: this.props.items\r\n        }\r\n    }\r\n    \r\n    handlePageChange(pageNumber) {\r\n        this.setState({ activePage: pageNumber }, () => {\r\n            const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n            const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n            const itemsShown = this.props.items.slice(indexOfFirstThing, indexOfLastThing);\r\n            this.props.handleItems(itemsShown, pageNumber);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"pagination__container\">\r\n                <Pagination\r\n                innerClass=\"pagination-overriden\"\r\n                onChange={this.handlePageChange}\r\n                activePage={this.state.activePage}\r\n                totalItemsCount={this.props.items.length}\r\n                itemsCountPerPage={this.state.itemsPerPage}\r\n                itemClass=\"item-page\"\r\n                activeClass=\"item-active-page\"\r\n                hideNavigation={true}\r\n                linkClass=\"link-page\"\r\n                activeLinkClass=\"link-active-page\"\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}","export const addDeleteCheckers = (items) => {\r\n    for (let i = 0; i < items.length; i++) {\r\n        items[i]['orderNumber'] = formulateOrderNumber(items[i]['placingDate']);\r\n        items[i]['toDelete'] = false;\r\n    }\r\n    return items;\r\n}\r\n\r\nconst formulateOrderNumber = (date) => {\r\n    const dateSpliited = new Date(date).toLocaleDateString().split('/');\r\n    const timeSpliited = new Date(date).toLocaleTimeString().split(' ')[0].split(\":\");\r\n    let orderNumber = dateSpliited[0] + dateSpliited[1] + \"-\" + dateSpliited[2] + \"-\" + timeSpliited[0] + timeSpliited[1] + timeSpliited[2];\r\n    return orderNumber;\r\n}","import React from 'react';\r\nimport OrderEdit from '../OrderEdit/OrderEdit';\r\nimport OrderInsert from '../OrderInsert/OrderInsert';\r\nimport Paginator from '../Paginatior/Paginatior';\r\n\r\nimport { getOrders, deleteOrders } from '../../lib/Api';\r\nimport { addDeleteCheckers } from '../../lib/helper_functions';\r\n\r\nimport './Order.css';\r\n\r\nexport default class Order extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.changeCheckboxValue = this.changeCheckboxValue.bind(this);\r\n        this.deleteOrders = this.deleteOrders.bind(this);\r\n        this.filterOrders = this.filterOrders.bind(this);\r\n        this.editOrder = this.editOrder.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.insertOrder = this.insertOrder.bind(this);\r\n        this.getAllOrders = this.getAllOrders.bind(this);\r\n        this.handleOrdersShown = this.handleOrdersShown.bind(this);\r\n        this.updateOrder = this.updateOrder.bind(this);\r\n        this.checkAllDelete = this.checkAllDelete.bind(this);\r\n        this.setOrdersShown = this.setOrdersShown.bind(this);\r\n        this.sortOrders = this.sortOrders.bind(this);\r\n        this.state = {\r\n            orders: [],\r\n            showModal: false,\r\n            showModalInsert: false,\r\n            orderToEdit: {},\r\n            itemsPerPage: 7,\r\n            activePage: 1,\r\n            ordersShown: [],\r\n            checkAll: false,\r\n            sortType: false,\r\n            hideAlert: true,\r\n            errMsg: '',\r\n            sortingDates: {\r\n                placingDate: false,\r\n                dispatchingDate: false,\r\n                deliveryDate: false\r\n            }\r\n        }\r\n    }\r\n\r\n    getAllOrders() {\r\n        getOrders().then(res => {\r\n            if (res.data != null && res.data.orders.length >= 1) {\r\n                this.setState({ orders: addDeleteCheckers(res.data.orders) });\r\n                this.setOrdersShown();\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    sortOrders(orders, sortFieldFlag, field) {\r\n        this.setState(prevState => ({\r\n            sortingDates: {\r\n                ...prevState.sortingDates,\r\n                [field]: sortFieldFlag\r\n            }\r\n        }));\r\n        orders.sort(function(a,b){\r\n            return sortFieldFlag? new Date(b[field]) - new Date(a[field]) : new Date(a[field]) - new Date(b[field]);\r\n        });\r\n        this.setState({ orders });\r\n        this.setOrdersShown();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllOrders();\r\n    }\r\n\r\n    setOrdersShown() {\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ ordersShown: this.state.orders.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    filterOrders() {\r\n        let orders = this.state.orders;\r\n        let filteredOrders = orders.filter(order => {\r\n            return !order['toDelete'];\r\n        });\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ orders: filteredOrders, ordersShown: filteredOrders.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    insertOrder() {\r\n        this.setState({ showModalInsert: true });\r\n    }\r\n\r\n    deleteOrders() {\r\n        const idsToDelete = [];\r\n        this.state.orders.map((order) => {\r\n            if (order['toDelete']) { \r\n                idsToDelete.push(order._id);\r\n            }\r\n        });\r\n        for (let i = 0; i < idsToDelete.length; i++) {\r\n            deleteOrders(idsToDelete[i]).then(res => {\r\n                this.setState({ errMsg: `the order(s) selected are deleted successfully`, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n                this.filterOrders();\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    }\r\n\r\n    editOrder(order) {\r\n        this.setState({ orderToEdit: order, showModal: true});\r\n    }\r\n\r\n    updateOrder(order) {\r\n        this.setState(prevState => ({\r\n            orders: prevState.orders.map((stateOrder) => {\r\n                return order.orderId === stateOrder._id? {...stateOrder, orderDetails: order.orderDetails, price: order.price, status: order.status, deliveryDate: order.deliveryDate, dispatchingDate: order.dispatchingDate, discountPercentage: order.discountPercentage} : stateOrder;\r\n            })\r\n        }), () => {\r\n            this.setOrdersShown()\r\n        });\r\n    }\r\n\r\n    changeCheckboxValue(index, event) {\r\n        if (index === -1) {\r\n            this.setState(prevState => ({\r\n                orders: prevState.orders.map((stateOrder) => {\r\n                    stateOrder['toDelete'] = prevState.checkAll? false : true;\r\n                    return stateOrder;\r\n                }), checkAll: !prevState.checkAll\r\n            }));\r\n            \r\n            return;\r\n        } else if (this.state.activePage > 1) {\r\n            index += ((this.state.activePage - 1) * this.state.itemsPerPage);\r\n        }\r\n        let orders = this.state.orders;\r\n        orders[index]['toDelete'] = event.target.checked;\r\n        this.setState({ orders });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ showModal: false, showModalInsert: false });\r\n    }\r\n\r\n    handleOrdersShown(orders, activePage) {\r\n        this.setState({ ordersShown: orders, activePage });\r\n    }\r\n\r\n    checkAllDelete() {\r\n        let orders = this.state.orders;\r\n        for (let i = 0; i < orders; i++) {\r\n            if (!orders[i]['toDelete']) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"row orders__container\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"orders__btn-container\">\r\n                        <button className=\"btn btn-info orders__btn\" onClick={this.insertOrder}>Insert</button>\r\n                        <button className=\"btn btn-danger orders__btn\" onClick={this.deleteOrders}>Delete</button>\r\n                    </div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <table className=\"table table-bordered\">\r\n                        <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th>\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-checkbox\">\r\n                                            <input className=\"custom-control-input\" id={ \"customCheckAll\" } type=\"checkbox\" checked={this.state.checkAll} onChange={(event) => this.changeCheckboxValue(-1, event)} />\r\n                                            <label className=\"custom-control-label\" htmlFor={ \"customCheckAll\" }></label>\r\n                                        </div>\r\n                                    </div>\r\n                                </th>\r\n                                <th>Customer</th>\r\n                                <th>Order #</th>\r\n                                <th>Order</th>\r\n                                <th>Price</th>\r\n                                <th className='sorting-columns' onClick={() => this.sortOrders(this.state.orders, !this.state.sortingDates.placingDate, 'placingDate')}>Placement Date</th>\r\n                                <th className='sorting-columns' onClick={() => this.sortOrders(this.state.orders, !this.state.sortingDates.dispatchingDate, 'dispatchingDate')}>Dispatching Date</th>\r\n                                <th className='sorting-columns' onClick={() => this.sortOrders(this.state.orders, !this.state.sortingDates.deliveryDate, 'deliveryDate')}>Delivery Date</th>\r\n                                <th>Status</th>\r\n                                <th>Edit</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                this.state.ordersShown.map((order, index) => {\r\n                                    return(\r\n                                        <tr key={ index } style={{ backgroundColor:  Number(order.discountPercentage) !== 0? '#dc3545' : \"#fff\", color: Number(order.discountPercentage) !== 0? '#fff' : '#000' }}>\r\n                                            <td>\r\n                                                <div className=\"form-group\">\r\n                                                    <div className=\"custom-control custom-checkbox\">\r\n                                                        <input className=\"custom-control-input\" id={ \"customCheck\" + index } type=\"checkbox\" checked={order['toDelete']} onChange={(event) => this.changeCheckboxValue(index, event)} />\r\n                                                        <label className=\"custom-control-label\" htmlFor={ \"customCheck\" + index }></label>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td>{ order.customerId }</td>\r\n                                            <td>{ order.orderNumber }</td>\r\n                                            <td>\r\n                                                {\r\n                                                    order.orderDetails.map((orderDetail, i) => {\r\n                                                        return(\r\n                                                            <div key={ i }>{ orderDetail.quantity } x { orderDetail.code }</div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </td>\r\n                                            <td>{ order.price } { Number(order.discountPercentage) !== 0? '(' + (order.discountPercentage) + '%)' : '' }</td>\r\n                                            <td>{ new Date(order.placingDate).toLocaleString() }</td>\r\n                                            <td>{ order.dispatchingDate === null || order.dispatchingDate === ''? '' : new Date(order.dispatchingDate).toLocaleString() }</td>\r\n                                            <td>{ order.deliveryDate === null || order.deliveryDate === ''? '' : new Date(order.deliveryDate).toLocaleString() }</td>\r\n                                            <td>{ order.status }</td>\r\n                                            <td>\r\n                                                <button className=\"btn btn-info\"  onClick={() => this.editOrder(order)}>Edit</button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                }) \r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    {/* <button >Placement Date</button> */}\r\n                    <Paginator items={this.state.orders} itemsPerPage={this.state.itemsPerPage} handleItems={this.handleOrdersShown} />\r\n                    <OrderEdit showModal={this.state.showModal} order={this.state.orderToEdit} closeModal={this.closeModal} updateOrder={this.updateOrder}></OrderEdit>\r\n                    <OrderInsert showModalInsert={this.state.showModalInsert} closeModal={this.closeModal} getOrders={this.getAllOrders}></OrderInsert>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { insertProduct } from '../../lib/Api';\r\n\r\nexport default class ProductInsert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleName = this.handleName.bind(this);\r\n        this.handleCode = this.handleCode.bind(this);\r\n        this.handlePrice = this.handlePrice.bind(this);\r\n        this.handleQuantity = this.handleQuantity.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.submitProduct = this.submitProduct.bind(this);\r\n        this.state = {\r\n            product: {},\r\n            errMsg: '',\r\n            hideAlert: true\r\n        }\r\n    }\r\n\r\n    handleName(event) {\r\n        const name = event.target.value;\r\n        this.setState(prevState => ({\r\n            product: {\r\n                ...prevState.product,\r\n                name   \r\n            }\r\n        }));\r\n    }\r\n\r\n    handleCode(event) {\r\n        const code = event.target.value;\r\n        this.setState(prevState => ({\r\n            product: {\r\n                ...prevState.product,\r\n                code  \r\n            }\r\n        }));\r\n    }\r\n\r\n    handlePrice(event) {\r\n        const price = event.target.value;\r\n        if (price > 0) {\r\n            this.setState(prevState => ({\r\n                product: {\r\n                    ...prevState.product,\r\n                    price\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n    handleQuantity(event) {\r\n        const quantity = event.target.value;\r\n        if (quantity > 0) {\r\n            this.setState(prevState => ({\r\n                product: {\r\n                    ...prevState.product,\r\n                    quantity\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n    submitProduct() {\r\n        let product = this.state.product;\r\n        if (product.name == null || product.code == null || product.price == null || product.quantity == null) {\r\n            this.setState({ errMsg: 'please fill all fields with valid values', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        } else {\r\n            insertProduct(product).then(res => {\r\n                this.props.getProducts();\r\n                this.props.closeModal();\r\n            }, err => {\r\n                if (err.response.data && !err.response.data.msg) {\r\n                    this.setState({ errMsg: 'The code should be in the form of one capital letter, one number, a dot then a series of numbers (A1.1)', hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 7000)\r\n                    });\r\n                } else {\r\n                    this.setState({ errMsg: err.response.data.msg, hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ errMsg: '', hideAlert: true });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showModalInsert}>\r\n                        <ModalHeader>New Product</ModalHeader>\r\n                        <ModalBody>\r\n                        <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                            { this.state.errMsg }\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Name:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"productName\" placeholder=\"Name\" onChange={this.handleName} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Code:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"productCode\" placeholder=\"Code\" onChange={this.handleCode} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Price:</label>\r\n                                    <input type=\"number\" className=\"form-control\" id=\"productPrice\" placeholder=\"Price\" onChange={this.handlePrice} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Quantity:</label>\r\n                                    <input type=\"number\" className=\"form-control\" id=\"productQuantity\" placeholder=\"Quantity\" onChange={this.handleQuantity} />\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <button type=\"submit\" className=\"btn btn-info\" onClick={(event) => this.submitProduct(event)}>Add Product</button>\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={this.closeModal}>Cancel</button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport ProductInsert from '../ProductInsert/ProductInsert';\r\nimport Paginator from '../Paginatior/Paginatior';\r\n\r\nimport { getProducts, deleteProducts } from '../../lib/Api';\r\nimport { addDeleteCheckers } from '../../lib/helper_functions';\r\nimport './Product.css';\r\n\r\nexport default class Product extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.changeCheckboxValue = this.changeCheckboxValue.bind(this);\r\n        this.deleteProducts = this.deleteProducts.bind(this);\r\n        this.filterProducts = this.filterProducts.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.insertProduct = this.insertProduct.bind(this);\r\n        this.getAllProducts = this.getAllProducts.bind(this);\r\n        this.handleProductsShown = this.handleProductsShown.bind(this);\r\n        this.state = {\r\n            products: [],\r\n            showModal: false,\r\n            showModalInsert: false,\r\n            productsShown: [],\r\n            itemsPerPage: 7,\r\n            activePage: 1,\r\n            checkAll: false,\r\n            hideAlert: true,\r\n            errMsg: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllProducts();\r\n    }\r\n\r\n    insertProduct() {\r\n        this.setState({ showModalInsert: true });\r\n    }\r\n\r\n    getAllProducts() {\r\n        getProducts().then(res => {\r\n            if (res.data != null && res.data.products.length >= 1) {\r\n                this.setState({ products: addDeleteCheckers(res.data.products) });\r\n                const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n                const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n                this.setState({ productsShown: this.state.products.slice(indexOfFirstThing, indexOfLastThing) });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    deleteProducts() {\r\n        const idsToDelete = [];\r\n        this.state.products.map((product) => {\r\n            if (product['toDelete']) { \r\n                idsToDelete.push(product.code);\r\n            }\r\n        });\r\n        for (let i = 0; i < idsToDelete.length; i++) {\r\n            deleteProducts(idsToDelete[i]).then(res => {\r\n                this.setState({ errMsg: `the product(s) selected are deleted successfully`, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n                this.filterProducts();\r\n            }).catch(err => {\r\n                if(err.response.status === 403) {\r\n                    this.setState({ errMsg: 'this product is already associated with an order', hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    filterProducts() {\r\n        let products = this.state.products;\r\n        let filteredProducts = products.filter(product => {\r\n            return !product['toDelete'];\r\n        });\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ products: filteredProducts, productsShown: filteredProducts.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    changeCheckboxValue(index, event) {\r\n        if (index === -1) {\r\n            this.setState(prevState => ({\r\n                products: prevState.products.map((stateProduct) => {\r\n                    stateProduct['toDelete'] = prevState.checkAll? false : true;\r\n                    return stateProduct;\r\n                }), checkAll: !prevState.checkAll\r\n            }));\r\n            \r\n            return;\r\n        } else if (this.state.activePage > 1) {\r\n            index += ((this.state.activePage - 1) * this.state.itemsPerPage);\r\n        }\r\n        let products = this.state.products;\r\n        products[index]['toDelete'] = event.target.checked;\r\n        this.setState({ products });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ showModal: false, showModalInsert: false });\r\n    }\r\n\r\n    handleProductsShown(products, activePage) {\r\n        this.setState({ productsShown: products, activePage });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"row products__container\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"products__btn-container\">\r\n                        <button className=\"btn btn-info products__btn\" onClick={this.insertProduct}>Insert</button>\r\n                        <button className=\"btn btn-danger products__btn\" onClick={this.deleteProducts}>Delete</button>\r\n                    </div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <div>\r\n                        <table className=\"table table-bordered\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr>\r\n                                    <th>\r\n                                        <div className=\"form-group\">\r\n                                            <div className=\"custom-control custom-checkbox\">\r\n                                                <input className=\"custom-control-input\" id={ \"customCheckAll\" } type=\"checkbox\" checked={this.state.checkAll} onChange={(event) => this.changeCheckboxValue(-1, event)} />\r\n                                                <label className=\"custom-control-label\" htmlFor={ \"customCheckAll\" }></label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </th>\r\n                                    <th>Name</th>\r\n                                    <th>Code</th>\r\n                                    <th>Price</th>\r\n                                    <th>Quantity</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    this.state.productsShown.map((product, index) => {\r\n                                        return(\r\n                                            <tr key={ index }>\r\n                                                <td>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"custom-control custom-checkbox\">\r\n                                                            <input className=\"custom-control-input\" id={ \"customCheck\" + index } type=\"checkbox\" checked={product['toDelete']} onChange={(event) => this.changeCheckboxValue(index, event)} />\r\n                                                            <label className=\"custom-control-label\" htmlFor={ \"customCheck\" + index }></label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>{ product.name }</td>\r\n                                                <td>{ product.code }</td>\r\n                                                <td>{ product.price }</td>\r\n                                                <td>{ product.availableToSell + ' / ' + product.quantity }</td>\r\n                                            </tr>\r\n                                        )\r\n                                    }) \r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <Paginator items={this.state.products} itemsPerPage={this.state.itemsPerPage} handleItems={this.handleProductsShown} />\r\n\r\n                    <ProductInsert showModalInsert={this.state.showModalInsert} closeModal={this.closeModal} getProducts={this.getAllProducts}></ProductInsert>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { insertUser } from '../../lib/Api';\r\n\r\nexport default class UserInsert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleName = this.handleName.bind(this);\r\n        this.handleInstagram = this.handleInstagram.bind(this);\r\n        this.handleEmail = this.handleEmail.bind(this);\r\n        this.handlePhone = this.handlePhone.bind(this);\r\n        this.handleAddress = this.handleAddress.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.submitUser = this.submitUser.bind(this);\r\n        this.state = {\r\n            user: {},\r\n            errMsg: '',\r\n            hideAlert: true\r\n        }\r\n    }\r\n\r\n    handleName(event) {\r\n        const name = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                name   \r\n            }\r\n        }));\r\n    }\r\n\r\n    handleInstagram(event) {\r\n        const instagramUsername = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                instagramUsername  \r\n            }\r\n        }));\r\n    }\r\n\r\n    handleEmail(event) {\r\n        const email = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                email\r\n            }\r\n        }));\r\n    }\r\n\r\n    handlePhone(event) {\r\n        const phone = event.target.value;\r\n        if (phone.match(/^\\+[0-9]{12,13}$/g) != null) {\r\n            this.setState(prevState => ({\r\n                user: {\r\n                    ...prevState.user,\r\n                    phone\r\n                }\r\n            }));\r\n        } else {\r\n            this.setState({ errMsg: 'phone number must start with \"+\", followed by 12-13 digits', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        }\r\n    }\r\n\r\n    handleAddress(event) {\r\n        const address = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                address\r\n            }\r\n        }));\r\n    }\r\n\r\n    submitUser() {\r\n        let user = this.state.user;\r\n        if (this.state.hideAlert === true) {\r\n            insertUser(user).then(res => {\r\n                this.props.getUsers();\r\n                this.props.closeModal();\r\n            }, err => {\r\n                if (typeof err.response.data == 'object') {\r\n                    this.setState({ errMsg: err.response.data.msg, hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                    \r\n                } else {\r\n                    this.setState({ errMsg: err.response.data, hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ errMsg: '', hideAlert: true });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showModalInsert}>\r\n                        <ModalHeader>New User</ModalHeader>\r\n                        <ModalBody>\r\n                        <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                            { this.state.errMsg }\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Name:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"userName\" placeholder=\"Enter Your Name\" onChange={this.handleName} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Instagram Username:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"userInstagram\" placeholder=\"Enter Your Instagram Username\" onChange={this.handleInstagram} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Email:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"userEmail\" placeholder=\"Enter Your Email\" onChange={this.handleEmail} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Phone:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"userPhone\" placeholder=\"Enter Your Phone\" onChange={this.handlePhone} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Address:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"userAddress\" placeholder=\"Enter Your Address\" onChange={this.handleAddress} />\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <button type=\"submit\" className=\"btn btn-info\" onClick={(event) => this.submitUser(event)}>Add User</button>\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={this.closeModal}>Cancel</button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport UserInsert from '../UserInsert/UserInsert';\r\nimport Paginator from '../Paginatior/Paginatior';\r\n\r\nimport { getUsers, deleteUsers } from '../../lib/Api';\r\nimport { addDeleteCheckers } from '../../lib/helper_functions';\r\n\r\nimport './User.css';\r\n\r\nexport default class User extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.changeCheckboxValue = this.changeCheckboxValue.bind(this);\r\n        this.deleteUsers = this.deleteUsers.bind(this);\r\n        this.filterUsers = this.filterUsers.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.insertUser = this.insertUser.bind(this);\r\n        this.getAllUsers = this.getAllUsers.bind(this);\r\n        this.handleUsersShown = this.handleUsersShown.bind(this);\r\n        this.state = {\r\n            users: [],\r\n            showModalInsert: false,\r\n            itemsPerPage: 7,\r\n            activePage: 1,\r\n            usersShown: [],\r\n            checkAll: false,\r\n            hideAlert: true,\r\n            errMsg: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllUsers();\r\n    }\r\n\r\n    getAllUsers() {\r\n        getUsers().then(res => {\r\n            if (res.data != null && res.data.users.length >= 1) {\r\n                this.setState({ users: addDeleteCheckers(res.data.users) });\r\n                const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n                const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n                this.setState({ usersShown: this.state.users.slice(indexOfFirstThing, indexOfLastThing) });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    changeCheckboxValue(index, event) {\r\n        if (index === -1) {\r\n            this.setState(prevState => ({\r\n                users: prevState.users.map((stateUser) => {\r\n                    stateUser['toDelete'] = prevState.checkAll? false : true;\r\n                    return stateUser;\r\n                }), checkAll: !prevState.checkAll\r\n            }));\r\n            \r\n            return;\r\n        } else if (this.state.activePage > 1) {\r\n            index += ((this.state.activePage - 1) * this.state.itemsPerPage);\r\n        }\r\n        let users = this.state.users;\r\n        users[index]['toDelete'] = event.target.checked;\r\n        this.setState({ users });\r\n    }\r\n\r\n    deleteUsers() {\r\n        const idsToDelete = [];\r\n        this.state.users.map((user) => {\r\n            if (user['toDelete']) { \r\n                idsToDelete.push(user.instagramUsername);\r\n            }\r\n        });\r\n        for (let i = 0; i < idsToDelete.length; i++) {\r\n            deleteUsers(idsToDelete[i]).then(res => {\r\n                this.setState({ errMsg: `the user(s) selected are deleted successfully`, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n                this.filterUsers();\r\n            }).catch(err => {\r\n                if(err.response.status === 403) {\r\n                    this.setState({ errMsg: 'this user is already associated with an order', hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    filterUsers() {\r\n        let users = this.state.users;\r\n        let filteredUsers = users.filter(user => {\r\n            return !user['toDelete'];\r\n        });\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ users: filteredUsers, usersShown: filteredUsers.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    insertUser() {\r\n        this.setState({ showModalInsert: true });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ showModalInsert: false });\r\n    }\r\n\r\n    handleUsersShown(users, activePage) {\r\n        this.setState({ usersShown: users, activePage });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"row users__container\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"users__btn-container\">\r\n                        <button className=\"btn btn-info users__btn\" onClick={this.insertUser}>Insert</button>\r\n                        <button className=\"btn btn-danger users__btn\" onClick={this.deleteUsers}>Delete</button>\r\n                    </div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <div>\r\n                        <table className=\"table table-bordered\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr>\r\n                                    <th>\r\n                                        <div className=\"form-group\">\r\n                                            <div className=\"custom-control custom-checkbox\">\r\n                                                <input className=\"custom-control-input\" id={ \"customCheckAll\" } type=\"checkbox\" checked={this.state.checkAll} onChange={(event) => this.changeCheckboxValue(-1, event)} />\r\n                                                <label className=\"custom-control-label\" htmlFor={ \"customCheckAll\" }></label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </th>\r\n                                    <th>Name</th>\r\n                                    <th>Instagram Username</th>\r\n                                    <th>Email</th>\r\n                                    <th>Phone</th>\r\n                                    <th>Address</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    this.state.usersShown.map((user, index) => {\r\n                                        return(\r\n                                            <tr key={ index }>\r\n                                                <td>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"custom-control custom-checkbox\">\r\n                                                            <input className=\"custom-control-input\" id={ \"customCheck\" + index } type=\"checkbox\" checked={user['toDelete']} onChange={(event) => this.changeCheckboxValue(index, event)} />\r\n                                                            <label className=\"custom-control-label\" htmlFor={ \"customCheck\" + index }></label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>{ user.name }</td>\r\n                                                <td>{ user.instagramUsername }</td>\r\n                                                <td>{ user.email }</td>\r\n                                                <td>{ user.phone }</td>\r\n                                                <td>{ user.address }</td>\r\n                                            </tr>\r\n                                        )\r\n                                    }) \r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <Paginator items={this.state.users} itemsPerPage={this.state.itemsPerPage} handleItems={this.handleUsersShown} />\r\n                    <UserInsert showModalInsert={this.state.showModalInsert} closeModal={this.closeModal} getUsers={this.getAllUsers}></UserInsert>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport * as JWT from 'jwt-decode';\r\n\r\nconst AuthenticatedRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props => \r\n            localStorage.getItem('token') && !verifyTokenExpiration()? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect exact \r\n                    to={{\r\n                        pathname: '/',\r\n                        state: { from: props.location }\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nfunction verifyTokenExpiration() {\r\n    let decoded = JWT(localStorage.getItem('token'));\r\n    if (decoded.exp * 1000 <= Date.now()) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport default AuthenticatedRoute;","import React from 'react';\r\nimport { getRevenue } from '../../lib/Api';\r\nimport Header from '../Header/Header';\r\n\r\nimport './Revenue.css';\r\n\r\nexport default class Revenue extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            total: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getRevenue().then(res => {\r\n            console.log(res);\r\n            this.setState({ total: res.data.result[0].total });\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header></Header>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4 offset-md-4 revenue__container\">\r\n                        <div className=\"revenue__content\">\r\n                            Revenue <br/ >\r\n                            {this.state.total} L.E.\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport Order from './components/Order/Order';\nimport Product from './components/Product/Product';\nimport User from './components/User/User';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport AuthenticatedRoute from './AuthenticatedRoute';\nimport Revenue from './components/Revenue/Revenue';\n\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\n\n\nconst routing = (\n    <div>\n        <Router>\n            <div>\n                <Route exact path=\"/\" component={App} />\n                <AuthenticatedRoute path=\"/dashboard\" component={() => <Dashboard first=\"/dashboard/orders\" second=\"/dashboard/products\" third=\"/dashboard/users\" />} />\n                <AuthenticatedRoute path=\"/dashboard/orders\" component={Order} />\n                <AuthenticatedRoute path=\"/dashboard/products\" component={Product} />\n                <AuthenticatedRoute path=\"/dashboard/users\" component={User} />\n                {/* <AuthenticatedRoute path=\"/analytics\" component={() => <Dashboard first=\"/analytics/revenue\" second=\"/\" third=\"/\" />} /> */}\n                <AuthenticatedRoute path=\"/analytics/revenue\" component={Revenue} />\n            </div>\n        </Router>\n    </div>\n)\n\nReactDOM.render(routing, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}