{"version":3,"sources":["lib/helper_functions.js","components/Header/Header.js","constants.js","lib/Api.js","components/Authentication/Authentication.js","App.js","components/Dashboard/Dashboard.js","components/OrderEdit/OrderEdit.js","components/OrderInsert/OrderInsert.js","components/Paginatior/Paginatior.js","components/Receipt/Receipt.js","components/Order/Order.js","components/ProductInsert/ProductInsert.js","components/ProductEdit/ProductEdit.js","components/Product/Product.js","components/UserInsert/UserInsert.js","components/UserEdit/UserEdit.js","components/User/User.js","serviceWorker.js","AuthenticatedRoute.js","components/Revenue/Revenue.js","components/Analytics/AnaylticsSocks.js","components/Analytics/Analytics.js","index.js"],"names":["addDeleteCheckers","items","i","length","formulateOrderNumber","date","dateSpliited","Date","toLocaleDateString","split","timeSpliited","toLocaleTimeString","tokenExpired","localStorage","getItem","JWT","exp","now","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","logout","bind","assertThisInitialized","state","redirectToRevenue","redirectToDashboard","removeItem","react_default","a","createElement","className","react_router_dom","to","style","color","textDecoration","onClick","React","Component","API_URL","getHeaders","headers","x-access-token","getOrders","meta","axios","get","Constants","concat","deleteOrders","idToDelete","delete","getProducts","deleteProducts","editProduct","editProductBody","patch","getUsers","deleteUsers","editUser","editUserBody","Authentication","handleUsername","handlePassword","submitForm","username","password","errMsg","hideAlert","event","setState","target","value","_this2","preventDefault","authBody","post","authenticateAdmin","then","res","setItem","data","catch","err","response","msg","react_router","onSubmit","role","hidden","type","placeholder","onChange","autoComplete","App","Header_Header_Header","Authentication_Authentication_Authentication","Dashboard","activeStyle","backgroundColor","aria-label","first","second","third","OrderEdit","editOrder","handleQuantity","handleCode","initOrderDetails","handleStatus","handleDiscountChange","handleDiscountAmount","handleDiscountRemove","handleSurveySent","handleSurveyResponse","handleType","handleSpecial","products","orderDetails","status","checked","discountAmount","checkedDiscountRemove","surveySent","surveyResponse","special","console","log","discountPercentage","_this3","editedOrderDetails","order","quantity","code","editOrderBody","preOrderDetails","orderId","_id","deliveryDate","price","updateOrder","closeModal","index","id","ordersSize","newOrderDetails","newQuantity","Number","prevState","map","orderDetail","pointer","objectSpread","newCode","handleQuantityHelper","handleCodeHelper","e","_this4","applyDiscount","removeDiscount","htmlFor","showModal","Modal","isOpen","ModalHeader","ModalBody","key","product","name","ModalFooter","OrderInsert","addOrderDetail","removeSelect","handleUser","getAllProducts","getAllUsers","filterUsernames","setFilterUsernames","users","selects","selectedUser","usernames","label","instagramUsername","toConsumableArray","newSelects","splice","select","selectedOption","customerId","window","setTimeout","insertOrder","_this5","filterUsername","filter","user","includes","_this6","instagramUsernamel","showModalInsert","react_select_browser_esm","options","index_es","icon","faTimes","submitOrder","Paginatior","handlePageChange","activePage","itemsPerPage","pageNumber","indexOfLastThing","indexOfFirstThing","itemsShown","slice","handleItems","Pagination_default","innerClass","totalItemsCount","itemsCountPerPage","itemClass","activeClass","hideNavigation","linkClass","activeLinkClass","Receipt","sendEmail","handleFees","deliveryFees","hideInfoAlert","emailBody","sendReceipt","showEmailModal","Order","changeCheckboxValue","filterOrders","getAllOrders","handleOrdersShown","checkAllDelete","setOrdersShown","sortOrders","handleFilter","handleFilterAttribute","closeEmailModal","orders","filteredOrders","orderToEdit","orderToSend","ordersShown","checkAll","sortType","sortingDates","placingDate","filterValue","filterAttribute","filterAttributeOptions","sortFieldFlag","field","defineProperty","sort","b","undefined","idsToDelete","push","stateOrder","newOrders","defaultValue","orderNumber","toLocaleString","Paginatior_Paginatior_Paginatior","OrderEdit_OrderEdit_OrderEdit","OrderInsert_OrderInsert_OrderInsert","Receipt_Receipt","ProductInsert","handleName","handlePrice","submitProduct","insertProduct","ProductEdit","handleAvailableToSell","availableToSell","closeEditModal","showModalEdit","Product","filterProducts","handleProductsShown","productToEdit","productsShown","filteredProducts","stateProduct","ProductInsert_ProductInsert","ProductEdit_ProductEdit","UserInsert","handleInstagram","handleEmail","handlePhone","handleAddress","submitUser","email","phone","match","address","insertUser","UserEdit","handleInstagramUsername","userId","User","filterUsers","handleUsersShown","userToEdit","usersShown","stateUser","filteredUsers","UserInsert_UserInsert","UserEdit_UserEdit_UserEdit","Boolean","location","hostname","AuthenticatedRoute","_ref","component","rest","objectWithoutProperties","assign","render","exact","pathname","from","Revenue","total","getRevenue","result","AnalyticsSocks","modalOpen","productsCount","count","Analytics","usersCount","ordersCount","totalProducts","AnaylticsSocks_AnalyticsSocks","routing","path","src_AuthenticatedRoute","Dashboard_Dashboard_Dashboard","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ae285c0b.chunk.js","sourcesContent":["import * as JWT from 'jwt-decode';\r\n\r\nexport const addDeleteCheckers = (items) => {\r\n    for (let i = 0; i < items.length; i++) {\r\n        items[i]['orderNumber'] = formulateOrderNumber(items[i]['placingDate']);\r\n        items[i]['toDelete'] = false;\r\n    }\r\n    return items;\r\n}\r\n\r\nconst formulateOrderNumber = (date) => {\r\n    const dateSpliited = new Date(date).toLocaleDateString().split('/');\r\n    const timeSpliited = new Date(date).toLocaleTimeString().split(' ')[0].split(\":\");\r\n    let orderNumber = dateSpliited[0] + dateSpliited[1] + \"-\" + dateSpliited[2] + \"-\" + timeSpliited[0] + timeSpliited[1] + timeSpliited[2];\r\n    return orderNumber;\r\n}\r\n\r\nexport const tokenExpired = () => {\r\n    if (localStorage.getItem('token') == null || localStorage.getItem('token') === '') {\r\n        return true;\r\n    }\r\n    let decoded = JWT(localStorage.getItem('token'));\r\n    if (decoded.exp * 1000 <= Date.now()) {\r\n        return true;\r\n    }\r\n    return false;\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { tokenExpired } from '../../lib/helper_functions';\r\n\r\nimport './Header.css';\r\n\r\nexport default class Header extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.logout = this.logout.bind(this);\r\n        this.state = {\r\n            redirectToRevenue: false,\r\n            redirectToDashboard: false\r\n        };\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n    }\r\n\r\n    render() {\r\n        if (tokenExpired() || localStorage.getItem('token') === '' || localStorage.getItem('token') === null) {\r\n            return (\r\n                <div className=\"header__main\">\r\n                    <nav className=\"navbar fixed-top navbar-light bg-info\">\r\n                        {/* <span className=\"navbar-brand\" href=\"#!\" style={{ color: '#fff' }}>Jawareb</span> */}\r\n                        <div>\r\n                            <ul>\r\n                                <li>\r\n                                    <Link to=\"/dashboard/orders\" style={{ color: '#fff', textDecoration: 'none' }}>Jawareb</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n                \r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"header__main\">\r\n                    <nav className=\"navbar fixed-top navbar-light bg-info\">\r\n                        <div>\r\n                            <ul>\r\n                                <li>\r\n                                    <Link to=\"/dashboard/orders\" style={{ color: '#fff', textDecoration: 'none' }}>Jawareb</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/dashboard/orders\" style={{ color: '#fff', textDecoration: 'none' }}>Dashboard</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/analytics/revenue\" style={{ color: '#fff', textDecoration: 'none' }}>Analytics</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div>\r\n                            <Link style={{ color: '#fff', textDecoration: 'none' }} to=\"/\" onClick={this.logout}>Logout</Link>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n                \r\n            )\r\n        }\r\n    }\r\n}","// const PORT = process.env.PORT || 3001;\r\n// export const API_URL='http://localhost:3001';\r\nexport const API_URL= 'https://jawareb.herokuapp.com';","import axios from 'axios';\r\nimport * as Constants from '../constants';\r\n\r\nconst getHeaders = () => {\r\n    const headers = {\r\n        headers: {\r\n            'x-access-token': localStorage.getItem('token')\r\n        }\r\n    };\r\n    return headers;  \r\n}\r\n\r\nexport const getOrders = (meta) => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + `/order${meta === 'true' ? '?meta=true' : '' }`, headers);\r\n};\r\n\r\nexport const insertOrder = (order) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/order', order, headers)\r\n};\r\n\r\nexport const deleteOrders = (idToDelete) => {\r\n    const headers = getHeaders();\r\n    return axios.delete(Constants.API_URL + '/order/' + idToDelete, headers);\r\n}\r\n\r\nexport const editOrder = (editOrderBody) => {\r\n    const headers = getHeaders();\r\n    return axios.patch(Constants.API_URL + '/order', editOrderBody, headers);\r\n}\r\n\r\nexport const getProducts = (meta) => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + `/product${meta === 'true' ? '?meta=true' : '' }`, headers);\r\n}\r\n\r\nexport const insertProduct = (product) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/product', product, headers)\r\n};\r\n\r\nexport const deleteProducts = (idToDelete) => {\r\n    const headers = getHeaders();\r\n    return axios.delete(Constants.API_URL + '/product/' + idToDelete, headers);\r\n}\r\n\r\nexport const editProduct = (editProductBody) => {\r\n    const headers = getHeaders();\r\n    return axios.patch(Constants.API_URL + '/product', editProductBody, headers);\r\n}\r\n\r\nexport const getUsers = (meta) => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + `/user${meta === 'true' ? '?meta=true' : '' }`, headers);\r\n}\r\n\r\nexport const insertUser = (user) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/user', user, headers)\r\n};\r\n\r\nexport const deleteUsers = (idToDelete) => {\r\n    const headers = getHeaders();\r\n    return axios.delete(Constants.API_URL + '/user/' + idToDelete, headers);\r\n}\r\n\r\nexport const editUser = (editUserBody) => {\r\n    const headers = getHeaders();\r\n    return axios.patch(Constants.API_URL + '/user', editUserBody, headers);\r\n}\r\n\r\nexport const getRevenue = () => {\r\n    const headers = getHeaders();\r\n    return axios.get(Constants.API_URL + '/order/revenue', headers);\r\n}\r\n\r\nexport const authenticateAdmin = (authBody) => {\r\n    return axios.post(Constants.API_URL + '/auth', authBody);\r\n}\r\n\r\nexport const sendReceipt = (emailBody) => {\r\n    const headers = getHeaders();\r\n    return axios.post(Constants.API_URL + '/email', emailBody, headers);\r\n}","import React from 'react';\r\nimport { authenticateAdmin } from '../../lib/Api';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport './Authentication.css';\r\nimport { tokenExpired } from '../../lib/helper_functions';\r\n\r\nexport default class Authentication extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleUsername = this.handleUsername.bind(this);\r\n        this.handlePassword = this.handlePassword.bind(this);\r\n        this.submitForm = this.submitForm.bind(this);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            redirectToDashboard: false\r\n        };\r\n    }\r\n\r\n    handleUsername(event) {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handlePassword(event) {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    submitForm(event) {\r\n        event.preventDefault();\r\n        if (this.state.username !== '' && this.state.password !== '') {\r\n            let authBody = {\r\n                username: this.state.username,\r\n                password: this.state.password\r\n            }\r\n            authenticateAdmin(authBody).then(res => {\r\n                localStorage.setItem('token', res.data);\r\n                this.setState({ errMsg: '', hideAlert: true, redirectToDashboard: true });\r\n            }).catch(err => {\r\n                if (err.response) {\r\n                    if (typeof err.response.data == 'object') {\r\n                        this.setState({ errMsg: err.response.data.msg, hideAlert: false });\r\n                    } else {\r\n                        this.setState({ errMsg: err.response.data, hideAlert: false });\r\n                    }\r\n                } else {\r\n                    this.setState({ errMsg: err.response, hideAlert: false });\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({ errMsg: 'username and password can\\'t be empty', hideAlert: false });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!tokenExpired() || this.state.redirectToDashboard) {\r\n            return <Redirect to=\"/dashboard\" />\r\n        }\r\n        return(\r\n            <div className=\"row auth__main-container\">\r\n                <div className=\"col-md-7 auth__left-container\"></div>\r\n                <div className=\"col-md-5 auth__right-container\">\r\n                    <div className=\"auth__login-form\">\r\n                        <form onSubmit={this.submitForm}>\r\n                            <h4>Jawareb Admin Portal</h4>\r\n                            <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                                { this.state.errMsg }\r\n                            </div>\r\n                            <div className=\"auth__login-form-control\">\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Username\" onChange={this.handleUsername} autoComplete=\"new-password\" />\r\n                            </div>\r\n                            <div className=\"auth__login-form-control\">\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Password\" onChange={this.handlePassword} autoComplete=\"new-password\" />\r\n                            </div>\r\n                            <div className=\"auth__login-button\">\r\n                                <input type=\"submit\" className=\"btn btn-info\" value=\"Login\" />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Header from './components/Header/Header';\r\nimport Authentication from './components/Authentication/Authentication';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n      <div className=\"App\">\r\n        <Header></Header>\r\n        <Authentication></Authentication>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Header from '../Header/Header';\r\n\r\nimport './Dashboard.css';\r\n\r\nexport default class Dashboard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeStyle: { backgroundColor: '#555', color: '#fff' },\r\n            style: { backgroundColor: '#e9ecef' }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header></Header>\r\n                <div className=\"dashboard__container\">\r\n                    <div className=\"btn-group btn-group-lg\" role=\"group\" aria-label=\"Basic example\">\r\n                        <NavLink className=\"btn\" to={this.props.first} activeStyle={ this.state.activeStyle } style={ this.state.style }>\r\n                            {this.props.first.split('/')[this.props.first.split('/').length - 1]}\r\n                        </NavLink>\r\n                        <NavLink className=\"btn\" to={this.props.second} activeStyle={this.state.activeStyle} style={ this.state.style }>\r\n                            {this.props.second.split('/')[this.props.second.split('/').length - 1]}\r\n                        </NavLink>\r\n                        <NavLink className=\"btn\" to={this.props.third} activeStyle={this.state.activeStyle} style={ this.state.style }>\r\n                            {this.props.third.split('/')[this.props.third.split('/').length - 1]}\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { getProducts, editOrder } from '../../lib/Api';\r\n\r\nimport './OrderEdit.css';\r\n\r\nexport default class OrderEdit extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.editOrder = this.editOrder.bind(this);\r\n        this.handleQuantity = this.handleQuantity.bind(this);\r\n        this.handleCode = this.handleCode.bind(this);\r\n        this.initOrderDetails = this.initOrderDetails.bind(this);\r\n        this.handleStatus = this.handleStatus.bind(this);\r\n        this.handleDiscountChange = this.handleDiscountChange.bind(this);\r\n        this.handleDiscountAmount = this.handleDiscountAmount.bind(this);\r\n        this.handleDiscountRemove = this.handleDiscountRemove.bind(this);\r\n        this.handleSurveySent = this.handleSurveySent.bind(this);\r\n        this.handleSurveyResponse = this.handleSurveyResponse.bind(this);\r\n        this.handleType = this.handleType.bind(this);\r\n        this.handleSpecial = this.handleSpecial.bind(this);\r\n        this.state = {\r\n            products: [],\r\n            orderDetails: [],\r\n            status: '',\r\n            checked: false,\r\n            discountAmount: '0',\r\n            checkedDiscountRemove: false,\r\n            surveySent: '',\r\n            surveyResponse: '',\r\n            type: 'default',\r\n            special: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getProducts().then(res => {\r\n            if (res.data != null && res.data.products.length >= 1) {\r\n                this.setState({ products: res.data.products });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    editOrder() {\r\n        let editedOrderDetails = [];\r\n        if (this.state.orderDetails.length === 0) {\r\n            for (let i = 0; i < this.props.order.orderDetails.length; i++) {\r\n                editedOrderDetails[i] = { quantity: this.props.order.orderDetails[i].quantity, code: this.props.order.orderDetails[i].code }\r\n            }\r\n        } else {\r\n            editedOrderDetails = this.state.orderDetails;\r\n            for (let i = 0; i < editedOrderDetails.length; i++) {\r\n                if (editedOrderDetails[i].quantity === '' || editedOrderDetails[i].quantity == null) {\r\n                    editedOrderDetails[i].quantity = this.props.order.orderDetails[i].quantity;\r\n                }\r\n                if (editedOrderDetails[i].code === '' || editedOrderDetails[i].code == null) {\r\n                    editedOrderDetails[i].code = this.props.order.orderDetails[i].code;\r\n                }\r\n            }\r\n        }\r\n\r\n        let discountPercentage;\r\n        if (this.state.checkedDiscountRemove) {\r\n            discountPercentage = '0';\r\n        } else if (this.state.checked) {\r\n            discountPercentage = this.state.discountAmount;\r\n        } else {\r\n            discountPercentage = this.props.order.discountPercentage;\r\n        }\r\n\r\n\r\n        let editOrderBody = {\r\n            preOrderDetails: this.props.order.orderDetails,\r\n            orderDetails: editedOrderDetails,\r\n            status: this.state.status === ''? this.props.order.status : this.state.status,\r\n            orderId: this.props.order._id,\r\n            discountPercentage,\r\n            surveySent: this.state.surveySent === '' ? this.props.order.surveySent : this.state.surveySent,\r\n            surveyResponse: this.state.surveyResponse === '' ? this.props.order.surveyResponse : this.state.surveyResponse\r\n        }\r\n\r\n        if (editOrderBody['status'] === 'delivered') {\r\n            editOrderBody['deliveryDate'] = this.props.order.deliveryDate ? this.props.order.deliveryDate : Date(Date.now);\r\n        } else {\r\n            editOrderBody['deliveryDate'] = '';\r\n        }\r\n        editOrderBody['type'] = this.state.type === 'default'? this.props.order.type : this.state.type;\r\n        editOrderBody['special'] = this.state.special === ''? this.props.order.special : this.state.special;\r\n\r\n        editOrder(editOrderBody).then(res => {\r\n            editOrderBody['price'] = res.data.order.price;\r\n            this.props.updateOrder(editOrderBody);\r\n            this.props.closeModal();\r\n            this.setState({\r\n                orderDetails: [],\r\n                status: '',\r\n                checked: false,\r\n                checkedDiscountRemove: false,\r\n                surveySent: '',\r\n                surveyResponse: '',\r\n                special: ''\r\n            });\r\n        }, err => {\r\n            console.log(err);\r\n            console.log(err.response);\r\n        })\r\n    }\r\n\r\n    initOrderDetails(index, event, id) {\r\n        let ordersSize = this.props.order.orderDetails.length;\r\n        let newOrderDetails = []\r\n        for (let i = 0; i < ordersSize; i++) {\r\n            newOrderDetails[i] = { quantity: this.props.order.orderDetails[i].quantity, code: this.props.order.orderDetails[i].code }\r\n        };\r\n        if (id === 'quantity') {\r\n            let newQuantity = Number(event.target.value);\r\n            this.setState(prevState => ({\r\n                orderDetails: newOrderDetails.map((orderDetail, pointer) => {\r\n                    return pointer === index? {...orderDetail, quantity: newQuantity} : orderDetail;\r\n                })\r\n            }));\r\n        } else {\r\n            let newCode = event.target.value;\r\n            this.setState(prevState => ({\r\n                orderDetails: newOrderDetails.map((orderDetail, pointer) => {\r\n                    return pointer === index? {...orderDetail, code: newCode} : orderDetail;\r\n                })\r\n            }));\r\n        }\r\n    }\r\n\r\n    handleQuantity(i, event) {\r\n        if (this.state.orderDetails.length === 0) {\r\n            this.initOrderDetails(i, event, 'quantity');\r\n        } else {\r\n            this.handleQuantityHelper(i, event.target.value);\r\n        }\r\n    }\r\n\r\n    handleQuantityHelper(i, newQuantity) {\r\n        this.setState(prevState => ({\r\n            orderDetails: prevState.orderDetails.map((orderDetail, index) => {\r\n                return index === i? { ...orderDetail, quantity: Number(newQuantity) } : orderDetail;\r\n            })\r\n        }));\r\n    }\r\n\r\n    handleCode(i, event) {\r\n        if (this.state.orderDetails.length === 0) {\r\n            this.initOrderDetails(i, event, 'code');\r\n        } else {\r\n            this.handleCodeHelper(i, event.target.value);\r\n        }\r\n    }\r\n\r\n    handleCodeHelper(i, newCode) {\r\n        this.setState(prevState => ({\r\n            orderDetails: prevState.orderDetails.map((orderDetail, index) => {\r\n                return index === i? { ...orderDetail, code: newCode } : orderDetail;\r\n            })\r\n        }));\r\n    }\r\n\r\n    handleStatus(event) {\r\n        if (event.target.value === 'delivered') {\r\n            this.setState({ status: event.target.value });    \r\n        } else {\r\n            this.setState({ status: event.target.value });\r\n        }\r\n    }\r\n\r\n    handleDiscountChange() {\r\n        this.setState({ checked: !this.state.checked, checkedDiscountRemove: false });\r\n    }\r\n\r\n    handleDiscountAmount(event) {\r\n        this.setState({ discountAmount: event.target.value });\r\n    }\r\n\r\n    handleDiscountRemove() {\r\n        this.setState({ checkedDiscountRemove: !this.state.checkedDiscountRemove, checked: false });\r\n    }\r\n\r\n    handleSurveySent() {\r\n        this.setState({ surveySent: !this.state.surveySent });\r\n    }\r\n\r\n    handleSurveyResponse() {\r\n        this.setState({ surveyResponse: !this.state.surveyResponse });\r\n    }\r\n\r\n    handleType(e) {\r\n        this.setState({ type: e.target.value });\r\n    }\r\n\r\n    handleSpecial() {\r\n        this.setState({ special: !this.state.special });\r\n    }\r\n\r\n    render() {\r\n        if (this.props.order.orderDetails) {\r\n            const applyDiscount = this.state.checked \r\n                ? <div className=\"form-group\">\r\n                    <div className=\"form-group\">\r\n                        <label>Discount:</label>\r\n                        <input type=\"number\" className=\"form-control\" id=\"discount\" placeholder=\"Discount Percentage\" onChange={this.handleDiscountAmount} />\r\n                    </div>\r\n                  </div>\r\n                : null;\r\n            const removeDiscount = this.props.order.discountPercentage !== \"0\"\r\n                ? <div className=\"form-group\">\r\n                    <div className=\"custom-control custom-checkbox\">\r\n                        <input className=\"custom-control-input\" id=\"removeDiscountCheck\" type=\"checkbox\" checked={ this.state.checkedDiscountRemove } onChange={ this.handleDiscountRemove } />\r\n                        <label className=\"custom-control-label\" htmlFor=\"removeDiscountCheck\">Remove discount</label>\r\n                    </div>\r\n                    <hr />\r\n                </div>\r\n                : null;\r\n            return(\r\n                <div>\r\n                    { (this.props.showModal) ? \r\n                        <Modal isOpen={this.props.showModal}>\r\n                            <ModalHeader>Existing Order</ModalHeader>\r\n                            <ModalBody>\r\n                                <form>\r\n                                    {\r\n                                        this.props.order.orderDetails.map((orderDetail, index) => {\r\n                                            return(\r\n                                                <div className=\"row\" key={index}>\r\n                                                    <div className=\"col-md-3\">Sub-order { index + 1 }:</div>\r\n                                                    <div className=\"form-group col-md-4\">\r\n                                                        <select className=\"custom-select\" value={this.state.orderDetails[index]? this.state.orderDetails[index].quantity : orderDetail.quantity} onChange={(event) => this.handleQuantity(index, event)}>\r\n                                                            <option>1</option>\r\n                                                            <option>2</option>\r\n                                                            <option>3</option>\r\n                                                            <option>4</option>\r\n                                                            <option>5</option>\r\n                                                            <option>6</option>\r\n                                                            <option>7</option>\r\n                                                            <option>8</option>\r\n                                                            <option>9</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div className=\"form-group col-md-4\">\r\n                                                        <select className=\"custom-select\" value={this.state.orderDetails[index]? this.state.orderDetails[index].code : orderDetail.code} onChange={(event) => this.handleCode(index, event)}>\r\n                                                            {\r\n                                                                this.state.products.map((product, i) => {\r\n                                                                    return <option key={i}>{product.code}</option>\r\n                                                                })\r\n                                                            }\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                    <hr />\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-md-3\">Status:</div>\r\n                                        <div className=\"col-md-4 form-group\">\r\n                                            <select className=\"custom-select\" value={this.state.status === ''? this.props.order.status : this.state.status} onChange={(event) => this.handleStatus(event)}>\r\n                                                <option value=\"pending\">pending</option>\r\n                                                <option value=\"delivered\">delivered</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-checkbox\">\r\n                                            <input className=\"custom-control-input\" id=\"customCheck\" type=\"checkbox\" checked={ this.state.checked } onChange={ this.handleDiscountChange } />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"customCheck\">Apply discount</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    { applyDiscount }\r\n                                    <hr />\r\n                                    { removeDiscount }\r\n                                    <div className=\"custom-control custom-checkbox\">\r\n                                        <input className=\"custom-control-input\" id=\"surveySent\" type=\"checkbox\" checked={ this.state.surveySent === '' ? this.props.order.surveySent : this.state.surveySent } onChange={ this.handleSurveySent } />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"surveySent\">Survey Sent</label>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"custom-control custom-checkbox\">\r\n                                        <input className=\"custom-control-input\" id=\"surveyResponse\" type=\"checkbox\" checked={ this.state.surveyResponse === '' ? this.props.order.surveyResponse : this.state.surveyResponse } onChange={ this.handleSurveyResponse } />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"surveyResponse\">Survey Response</label>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"form-group\">\r\n                                        <label>Special Discount:</label>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-checkbox\">\r\n                                            <input className=\"custom-control-input\" id=\"special\" type=\"checkbox\" checked={this.state.special === ''? this.props.order.special : this.state.special} onChange={ this.handleSpecial } />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"special\">Special Discount</label>\r\n                                        </div>\r\n                                        {/* <div className=\"custom-control custom-radio\">\r\n                                            <input type=\"radio\" id=\"specialRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"special\" checked={this.state.type === 'default'? this.props.order.type === 'special' : this.state.type === 'special'} onChange={this.handleType} />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"specialRadio\">Special</label>\r\n                                        </div> */}\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>Type:</label>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-radio\">\r\n                                            <input type=\"radio\" id=\"vooRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"voo\" checked={this.state.type === 'default'? this.props.order.type === 'voo' : this.state.type === 'voo'} onChange={this.handleType} />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"vooRadio\">Voo</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-radio\">\r\n                                            <input type=\"radio\" id=\"noneRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"\" checked={this.state.type === 'default'? this.props.order.type === '' : this.state.type === ''} onChange={this.handleType} />\r\n                                            <label className=\"custom-control-label\" htmlFor=\"noneRadio\">None</label>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                                <button type=\"submit\" className=\"btn btn-info\" onClick={this.editOrder}>Edit</button>\r\n                                <button className=\"btn btn-danger\" onClick={(event) => this.props.closeModal(event)}>Cancel</button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n                    : null }\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n       \r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { getProducts, getUsers, insertOrder } from '../../lib/Api';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport Select from 'react-select';\r\n\r\nimport './OrderInsert.css';\r\n\r\nexport default class OrderInsert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.addOrderDetail = this.addOrderDetail.bind(this);\r\n        this.removeSelect = this.removeSelect.bind(this);\r\n        this.handleCode = this.handleCode.bind(this);\r\n        this.handleQuantity = this.handleQuantity.bind(this);\r\n        this.handleUser = this.handleUser.bind(this);\r\n        this.getAllProducts = this.getAllProducts.bind(this);\r\n        this.getAllUsers = this.getAllUsers.bind(this);\r\n        this.filterUsernames = this.filterUsernames.bind(this);\r\n        this.setFilterUsernames = this.setFilterUsernames.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.handleDiscountChange = this.handleDiscountChange.bind(this);\r\n        this.handleDiscountAmount = this.handleDiscountAmount.bind(this);\r\n        this.handleType = this.handleType.bind(this);\r\n        this.handleSpecial = this.handleSpecial.bind(this);\r\n        this.state = {\r\n            users: [],\r\n            products: [],\r\n            order: {},\r\n            selects: [],\r\n            filterUsernames: [],\r\n            selectedUser: null,\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            checked: false,\r\n            discountAmount: '0',\r\n            type: '',\r\n            special: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllProducts();\r\n        this.getAllUsers();\r\n    }\r\n\r\n    getAllUsers() {\r\n        getUsers().then(res => {\r\n            if (res.data != null && res.data.users.length >= 1) {\r\n                this.setState({ users: res.data.users });\r\n                this.setState({ selectedUser: res.data.users[0] })\r\n                let usernames = [];\r\n                for (let i = 0; i < res.data.users.length; i++) {\r\n                    usernames[i] = {\r\n                        label: res.data.users[i].instagramUsername,\r\n                        value: res.data.users[i].instagramUsername\r\n                    }\r\n                }\r\n                this.setFilterUsernames(usernames);\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    setFilterUsernames(users) {\r\n        this.setState({ filterUsernames: users });\r\n    }\r\n\r\n    getAllProducts() {\r\n        getProducts().then(res => {\r\n            if (res.data != null && res.data.products.length >= 1) {\r\n                this.setState({ products: res.data.products, selects: [{ quantity: 1, code: res.data.products[0].code }] });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    addOrderDetail(event) {\r\n        event.preventDefault();\r\n        this.setState({ selects: [...this.state.selects, { quantity: 1, code: this.state.products[0].code }] });\r\n    }\r\n\r\n    removeSelect(event, index) {\r\n        event.preventDefault();\r\n        let newSelects = [...this.state.selects];\r\n        newSelects.splice(index, 1);\r\n        this.setState({ selects: newSelects });\r\n    }\r\n\r\n    handleQuantity(index, event) {\r\n        let newQuantity = event.target.value;\r\n        if (this.state.selects[index]) {\r\n            this.setState(prevState => ({\r\n                selects: prevState.selects.map((select, i) => {\r\n                    return index === i? { ...select, quantity: Number(newQuantity) } : select;\r\n                })\r\n            }));\r\n        } else {\r\n            this.setState({ selects: [...this.state.selects, { quantity: Number(newQuantity) } ] });\r\n        }\r\n    }\r\n\r\n    handleCode(index, event) {\r\n        let newCode = event.target.value;\r\n        if (this.state.selects[index]) {\r\n            this.setState(prevState => ({\r\n                selects: prevState.selects.map((select, i) => {\r\n                    return index === i? { ...select, code: newCode } : select;\r\n                })\r\n            }));\r\n        } else {\r\n            this.setState({ selects: [...this.state.selects, { code: newCode } ] });\r\n        }\r\n    }\r\n\r\n    handleUser(selectedOption) {\r\n        this.setState({ order: { customerId: selectedOption.value }, selectedUser: selectedOption.value });\r\n    }\r\n\r\n    submitOrder() {\r\n        let order = this.state.order;\r\n        order['deliveryDate'] = '';\r\n        order['orderDetails'] = this.state.selects;\r\n        order['discountPercentage'] = this.state.discountAmount;\r\n        order['type'] = this.state.type;\r\n        order['special'] = this.state.special;\r\n        if (order.customerId === '' || order.customerId == null) {\r\n            this.setState({ errMsg: 'no Instagram username is supplied', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        } else {\r\n            insertOrder(order).then(res => {\r\n                this.setState({ discountAmount: '0', checked: false });\r\n                this.props.getOrders();\r\n                this.props.closeModal();\r\n            }, err => {\r\n                this.setState({ errMsg: err.response.data.msg, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ errMsg: '', hideAlert: true });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    filterUsernames(event) {\r\n        const filterUsername = event.target.value;\r\n        this.setState(prevState => ({\r\n            filterUsernames: this.state.users.filter((user, i) => {\r\n                return user.instagramUsername.includes(filterUsername);\r\n            })\r\n        }));\r\n    }\r\n\r\n    handleDiscountChange() {\r\n        this.setState({ checked: !this.state.checked })\r\n    }\r\n\r\n    handleDiscountAmount(event) {\r\n        this.setState({ discountAmount: event.target.value });\r\n    }\r\n\r\n    handleType(e) {\r\n        this.setState({ type: e.target.value });\r\n    }\r\n\r\n    handleSpecial() {\r\n        this.setState({ special: !this.state.special });\r\n    }\r\n\r\n    render() {\r\n        let { selectedUser } = this.state;\r\n        if (selectedUser !== null) {\r\n            selectedUser = selectedUser.instagramUsernamel;\r\n        }\r\n        let applyDiscount = null;\r\n        if (this.state.checked) {\r\n            applyDiscount = <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Discount:</label>\r\n                                    <input type=\"number\" className=\"form-control\" id=\"discount\" placeholder=\"Discount Percentage\" onChange={this.handleDiscountAmount} />\r\n                                </div>\r\n                            </div>\r\n        }\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showModalInsert}>\r\n                        <ModalHeader>New Order</ModalHeader>\r\n                        <ModalBody>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                                    { this.state.errMsg }\r\n                                </div>\r\n                                <label>Instagram Username:</label>\r\n                                <Select\r\n                                    value={selectedUser}\r\n                                    onChange={this.handleUser}\r\n                                    options={this.state.filterUsernames}\r\n                                />\r\n                            </div>\r\n                            <hr />\r\n                            <div className=\"add-btn-container\">\r\n                                <button className=\"btn btn-info\" onClick={ (event) => this.addOrderDetail(event) }>Add Suborder</button>\r\n                            </div>\r\n\r\n                            {\r\n                                this.state.selects.map((select, index) => {\r\n                                    return(\r\n                                        <div className=\"row\" key={ index }>\r\n                                            <div className=\"col-md-3\">Sub-order {index + 1}</div>\r\n                                            <div className=\"col-md-3 form-group\">\r\n                                                <select className=\"custom-select\" value={this.state.selects[index].quantity} onChange={(event) => this.handleQuantity(index, event)}>\r\n                                                    <option>1</option>\r\n                                                    <option>2</option>\r\n                                                    <option>3</option>\r\n                                                    <option>4</option>\r\n                                                    <option>5</option>\r\n                                                    <option>6</option>\r\n                                                    <option>7</option>\r\n                                                    <option>8</option>\r\n                                                    <option>9</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"col-md-3 form-group\">\r\n                                                <select className=\"custom-select\" value={this.state.selects[index].code} onChange={(event) => this.handleCode(index, event)}>\r\n                                                    {\r\n                                                        this.state.products.map((product, index) => {\r\n                                                            return <option key={ index }>{ product.code }</option>\r\n                                                        })\r\n                                                    }\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"col-md-3\">\r\n                                                <FontAwesomeIcon className=\"fa-times-delete\" hidden={ this.state.selects.length === 1 } onClick={ (event) => this.removeSelect(event, index) } icon={faTimes} />\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-control custom-checkbox\">\r\n                                    <input className=\"custom-control-input\" id=\"customCheck\" type=\"checkbox\" checked={ this.state.checked } onChange={ this.handleDiscountChange } />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"customCheck\">Apply discount</label>\r\n                                </div>\r\n                            </div>\r\n                            { applyDiscount }\r\n                            <hr />\r\n                            <div className=\"form-group\">\r\n                                <label>Special Discount:</label>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-control custom-checkbox\">\r\n                                    <input className=\"custom-control-input\" id=\"specialCheck\" type=\"checkbox\" onChange={ this.handleSpecial } />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"specialCheck\">Special Discount</label>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Type:</label>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-control custom-radio\">\r\n                                    <input type=\"radio\" id=\"vooRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"voo\" onChange={this.handleType} />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"vooRadio\">Voo</label>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-control custom-radio\">\r\n                                    <input type=\"radio\" id=\"noneRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"\" onChange={this.handleType} />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"noneRadio\">None</label>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <button type=\"submit\" className=\"btn btn-info\" onClick={(event) => this.submitOrder(event)}>Add Order</button>\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={this.closeModal}>Cancel</button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nimport './Paginatior.css';\r\n\r\nexport default class Paginatior extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        this.state = {\r\n            activePage: 1,\r\n            itemsPerPage: this.props.itemsPerPage,\r\n            items: this.props.items\r\n        }\r\n    }\r\n    \r\n    handlePageChange(pageNumber) {\r\n        this.setState({ activePage: pageNumber }, () => {\r\n            const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n            const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n            const itemsShown = this.props.items.slice(indexOfFirstThing, indexOfLastThing);\r\n            this.props.handleItems(itemsShown, pageNumber);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"pagination__container\">\r\n                <Pagination\r\n                innerClass=\"pagination-overriden\"\r\n                onChange={this.handlePageChange}\r\n                activePage={this.state.activePage}\r\n                totalItemsCount={this.props.items.length}\r\n                itemsCountPerPage={this.state.itemsPerPage}\r\n                itemClass=\"item-page\"\r\n                activeClass=\"item-active-page\"\r\n                hideNavigation={true}\r\n                linkClass=\"link-page\"\r\n                activeLinkClass=\"link-active-page\"\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { sendReceipt } from '../../lib/Api';\r\n\r\nexport default class Receipt extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.sendEmail = this.sendEmail.bind(this);\r\n        this.handleFees = this.handleFees.bind(this);\r\n        this.state = {\r\n            deliveryFees: -1,\r\n            hideAlert: true,\r\n            hideInfoAlert: true,\r\n            errMsg: ''\r\n        }\r\n    }\r\n\r\n    sendEmail() {\r\n        if (this.state.deliveryFees != -1) {\r\n            let emailBody = {\r\n                deliveryFees: Number(this.state.deliveryFees),\r\n                price: this.props.order.price,\r\n                orderDetails: this.props.order.orderDetails,\r\n                username: this.props.order.customerId\r\n            }\r\n            this.setState({ hideInfoAlert: false });\r\n            sendReceipt(emailBody).then(res => {\r\n                this.props.closeModal();\r\n                this.setState({ deliveryFees: -1, hideAlert: true, errMsg: '', hideInfoAlert: true });\r\n            }).catch(err => {\r\n                this.setState({ hideAlert: false, errMsg: err, hideInfoAlert: true });\r\n            })\r\n        } else {\r\n            this.setState({ hideAlert: false, errMsg: 'All fields should be filled' });\r\n        }\r\n    }\r\n\r\n    handleFees(e) {\r\n        this.setState({ deliveryFees: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showEmailModal}>\r\n                    <ModalHeader>Receipt via email</ModalHeader>\r\n                    <ModalBody>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <div className=\"alert alert-info\" role=\"alert\" hidden={this.state.hideInfoAlert}>\r\n                        Sending...\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <div className=\"form-group\">\r\n                            <label>Delivery Fees:</label>\r\n                            <input type=\"number\" className=\"form-control\" id=\"deliveryFees\" placeholder=\"Delivery Fees\" onChange={this.handleFees} />\r\n                        </div>\r\n                    </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button className=\"btn btn-info\" onClick={() => this.sendEmail()}>Send</button>\r\n                        <button className=\"btn btn-danger\" onClick={() => this.props.closeModal()}>Cancel</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport OrderEdit from '../OrderEdit/OrderEdit';\r\nimport OrderInsert from '../OrderInsert/OrderInsert';\r\nimport Paginator from '../Paginatior/Paginatior';\r\nimport Select from 'react-select';\r\n\r\nimport { getOrders, deleteOrders } from '../../lib/Api';\r\nimport { addDeleteCheckers } from '../../lib/helper_functions';\r\n\r\nimport './Order.css';\r\nimport Receipt from '../Receipt/Receipt';\r\n\r\nexport default class Order extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.changeCheckboxValue = this.changeCheckboxValue.bind(this);\r\n        this.deleteOrders = this.deleteOrders.bind(this);\r\n        this.filterOrders = this.filterOrders.bind(this);\r\n        this.editOrder = this.editOrder.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.insertOrder = this.insertOrder.bind(this);\r\n        this.getAllOrders = this.getAllOrders.bind(this);\r\n        this.handleOrdersShown = this.handleOrdersShown.bind(this);\r\n        this.updateOrder = this.updateOrder.bind(this);\r\n        this.checkAllDelete = this.checkAllDelete.bind(this);\r\n        this.setOrdersShown = this.setOrdersShown.bind(this);\r\n        this.sortOrders = this.sortOrders.bind(this);\r\n        this.handleFilter = this.handleFilter.bind(this);\r\n        this.handleFilterAttribute = this.handleFilterAttribute.bind(this);\r\n        this.sendEmail = this.sendEmail.bind(this);\r\n        this.closeEmailModal = this.closeEmailModal.bind(this);\r\n        this.state = {\r\n            orders: [],\r\n            filteredOrders: [],\r\n            showModal: false,\r\n            showModalInsert: false,\r\n            showEmailModal: false,\r\n            orderToEdit: {},\r\n            orderToSend: {},\r\n            itemsPerPage: 7,\r\n            activePage: 1,\r\n            ordersShown: [],\r\n            checkAll: false,\r\n            sortType: false,\r\n            hideAlert: true,\r\n            errMsg: '',\r\n            sortingDates: {\r\n                placingDate: false,\r\n                deliveryDate: false\r\n            },\r\n            filterValue: '',\r\n            filterAttribute: 'price',\r\n            filterAttributeOptions: [\r\n                { label: 'Price', value: 'price' },\r\n                { label: 'Status', value: 'status' },\r\n                { label: 'Discount', value: 'discountPercentage' },\r\n                { label: 'Customer', value: 'customerId' }\r\n            ]\r\n        }\r\n    }\r\n\r\n    getAllOrders() {\r\n        getOrders().then(res => {\r\n            if (res.data != null && res.data.orders.length >= 1) {\r\n                this.setState({ orders: addDeleteCheckers(res.data.orders), filterOrders: addDeleteCheckers(res.data.orders) });\r\n                this.setOrdersShown();\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    sortOrders(orders, sortFieldFlag, field) {\r\n        this.setState(prevState => ({\r\n            sortingDates: {\r\n                ...prevState.sortingDates,\r\n                [field]: sortFieldFlag\r\n            }\r\n        }));\r\n        orders.sort(function(a,b){\r\n            return sortFieldFlag? new Date(b[field]) - new Date(a[field]) : new Date(a[field]) - new Date(b[field]);\r\n        });\r\n        this.setState({ orders });\r\n        this.setOrdersShown();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllOrders();\r\n    }\r\n\r\n    setOrdersShown(orders) {\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        if (orders === undefined) {\r\n            this.setState({ ordersShown: this.state.orders.slice(indexOfFirstThing, indexOfLastThing) });\r\n        } else {\r\n            this.setState({ ordersShown: orders.slice(indexOfFirstThing, indexOfLastThing) });\r\n        }\r\n    }\r\n\r\n    filterOrders() {\r\n        let orders = this.state.orders;\r\n        let filteredOrders = orders.filter(order => {\r\n            return !order['toDelete'];\r\n        });\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ orders: filteredOrders, ordersShown: filteredOrders.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    insertOrder() {\r\n        this.setState({ showModalInsert: true });\r\n    }\r\n\r\n    deleteOrders() {\r\n        const idsToDelete = [];\r\n        this.state.orders.map((order) => {\r\n            if (order['toDelete']) { \r\n                idsToDelete.push(order._id);\r\n            }\r\n        });\r\n        for (let i = 0; i < idsToDelete.length; i++) {\r\n            deleteOrders(idsToDelete[i]).then(res => {\r\n                this.setState({ errMsg: `the order(s) selected are deleted successfully`, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n                this.filterOrders();\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n    }\r\n\r\n    editOrder(order) {\r\n        this.setState({ orderToEdit: order, showModal: true });\r\n    }\r\n\r\n    updateOrder(order) {\r\n        this.setState(prevState => ({\r\n            orders: prevState.orders.map((stateOrder) => {\r\n                return order.orderId === stateOrder._id? {...stateOrder, orderDetails: order.orderDetails, price: order.price, status: order.status, deliveryDate: order.deliveryDate, discountPercentage: order.discountPercentage, surveyResponse: order.surveyResponse, surveySent: order.surveySent, type: order.type, special: order.special} : stateOrder;\r\n            })\r\n        }), () => {\r\n            this.setOrdersShown()\r\n        });\r\n    }\r\n\r\n    changeCheckboxValue(index, event) {\r\n        if (index === -1) {\r\n            this.setState(prevState => ({\r\n                orders: prevState.orders.map((stateOrder) => {\r\n                    stateOrder['toDelete'] = prevState.checkAll? false : true;\r\n                    return stateOrder;\r\n                }), checkAll: !prevState.checkAll\r\n            }));\r\n            \r\n            return;\r\n        } else if (this.state.activePage > 1) {\r\n            index += ((this.state.activePage - 1) * this.state.itemsPerPage);\r\n        }\r\n        let orders = this.state.orders;\r\n        orders[index]['toDelete'] = event.target.checked;\r\n        this.setState({ orders });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ showModal: false, showModalInsert: false });\r\n    }\r\n\r\n    handleOrdersShown(orders, activePage) {\r\n        this.setState({ ordersShown: orders, activePage });\r\n    }\r\n\r\n    checkAllDelete() {\r\n        let orders = this.state.orders;\r\n        for (let i = 0; i < orders; i++) {\r\n            if (!orders[i]['toDelete']) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    handleFilter(e) {\r\n        this.setState({ filterValue: e.target.value });\r\n        let newOrders = [];\r\n        switch(this.state.filterAttribute) {\r\n            case 'price':\r\n            case 'discountPercentage':\r\n                newOrders = this.state.orders.filter((order, index) => {\r\n                    return order[this.state.filterAttribute] > e.target.value;\r\n                });\r\n                break;\r\n            case 'customerId':\r\n            case 'status':\r\n                newOrders = this.state.orders.filter(order => {\r\n                    return order[this.state.filterAttribute].includes(e.target.value);\r\n                });\r\n                break;\r\n        }\r\n        this.setState({ filteredOrders: newOrders });\r\n        this.setOrdersShown(newOrders);\r\n    }\r\n\r\n    handleFilterAttribute(e) {\r\n        this.setState({ filterAttribute: e.value, filterValue: ''});\r\n        this.handleFilter({ target: { value: '' } });\r\n        this.setOrdersShown();\r\n    }\r\n\r\n    sendEmail(order) {\r\n        this.setState({ orderToSend: order, showEmailModal: true });\r\n    }\r\n\r\n    closeEmailModal() {\r\n        this.setState({ showEmailModal: false });\r\n    }\r\n\r\n    render() {\r\n        let { filterAttribute } = this.state;\r\n        filterAttribute = filterAttribute.label;\r\n        return(\r\n            <div className=\"row orders__container\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-6\">\r\n                            <div className=\"orders__filters-container\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-5\">\r\n                                        <Select\r\n                                            defaultValue={filterAttribute}\r\n                                            value={filterAttribute}\r\n                                            onChange={this.handleFilterAttribute}\r\n                                            options={this.state.filterAttributeOptions}\r\n                                            placeholder={`Select filter ...`}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"col-lg-5\">\r\n                                        <input type=\"text\" className=\"form-control\" id=\"filter\" placeholder={`Filter by ${this.state.filterAttribute}`} onChange={this.handleFilter} value={this.state.filterValue} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-6\">\r\n                            <div className=\"orders__btn-container\">\r\n                                <button className=\"btn btn-info orders__btn\" onClick={this.insertOrder}>Insert</button>\r\n                                <button className=\"btn btn-danger orders__btn\" onClick={this.deleteOrders}>Delete</button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <table className=\"table table-bordered\">\r\n                        <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th>\r\n                                    <div className=\"form-group\">\r\n                                        <div className=\"custom-control custom-checkbox\">\r\n                                            <input className=\"custom-control-input\" id={ \"customCheckAll\" } type=\"checkbox\" checked={this.state.checkAll} onChange={(event) => this.changeCheckboxValue(-1, event)} />\r\n                                            <label className=\"custom-control-label\" htmlFor={ \"customCheckAll\" }></label>\r\n                                        </div>\r\n                                    </div>\r\n                                </th>\r\n                                <th>Customer</th>\r\n                                <th>Order #</th>\r\n                                <th>Order</th>\r\n                                <th>Price</th>\r\n                                <th className='sorting-columns' onClick={() => this.sortOrders(this.state.orders, !this.state.sortingDates.placingDate, 'placingDate')}>Placement Date</th>\r\n                                <th className='sorting-columns' onClick={() => this.sortOrders(this.state.orders, !this.state.sortingDates.deliveryDate, 'deliveryDate')}>Delivery Date</th>\r\n                                <th>Status</th>\r\n                                <th>Survey Sent</th>\r\n                                <th>Survey Response</th>\r\n                                <th>Edit</th>\r\n                                <th>Receipt</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                this.state.ordersShown.map((order, index) => {\r\n                                    return(\r\n                                        // style={{ backgroundColor:  Number(order.discountPercentage) !== 0? `rgb(${Number(order.discountPercentage) + 155}, 10, 0)` : \"#fff\", color: Number(order.discountPercentage) !== 0? '#fff' : '#000' }}\r\n                                        <tr key={ index } style={{ backgroundColor: order.type === 'voo'? 'rgb(246, 138, 33)' : 'rgb(255, 255, 255)'  }}>\r\n                                            <td>\r\n                                                <div className=\"form-group\">\r\n                                                    <div className=\"custom-control custom-checkbox\">\r\n                                                        <input className=\"custom-control-input\" id={ \"customCheck\" + index } type=\"checkbox\" checked={order['toDelete']} onChange={(event) => this.changeCheckboxValue(index, event)} />\r\n                                                        <label className=\"custom-control-label\" htmlFor={ \"customCheck\" + index }></label>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td>{ order.customerId }</td>\r\n                                            <td>{ order.orderNumber }</td>\r\n                                            <td>\r\n                                                {\r\n                                                    order.orderDetails.map((orderDetail, i) => {\r\n                                                        return(\r\n                                                            <div key={ i }>{ orderDetail.quantity } x { orderDetail.code }</div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </td>\r\n                                            <td style={{ backgroundColor: order.special? 'rgb(255, 81, 66)' : order.type === 'voo'? 'rgb(246, 138, 33)' : 'rgb(255, 255, 255)'  }}>\r\n                                                { order.price } { Number(order.discountPercentage) !== 0? '(' + (order.discountPercentage) + '%)' : '' }\r\n                                            </td>\r\n                                            <td>{ new Date(order.placingDate).toLocaleString() }</td>\r\n                                            <td>{ order.deliveryDate === null || order.deliveryDate === ''? '' : new Date(order.deliveryDate).toLocaleString() }</td>\r\n                                            <td>{ order.status }</td>\r\n                                            <td>{ order.surveySent ? 'yes' : 'no' }</td>\r\n                                            <td>{ order.surveyResponse ? 'yes' : 'no' }</td>\r\n                                            <td>\r\n                                                <button className=\"btn btn-info\"  onClick={() => this.editOrder(order)}>Edit</button>\r\n                                            </td>\r\n                                            <td>\r\n                                                <button className=\"btn btn-info\"  onClick={() => this.sendEmail(order)}>Send</button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                }) \r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    {/* <button >Placement Date</button> */}\r\n                    <Paginator items={this.state.filteredOrders.length > 0? this.state.filteredOrders : this.state.orders} itemsPerPage={this.state.itemsPerPage} handleItems={this.handleOrdersShown} />\r\n                    <OrderEdit showModal={this.state.showModal} order={this.state.orderToEdit} closeModal={this.closeModal} updateOrder={this.updateOrder}></OrderEdit>\r\n                    <OrderInsert showModalInsert={this.state.showModalInsert} closeModal={this.closeModal} getOrders={this.getAllOrders}></OrderInsert>\r\n                    <Receipt showEmailModal={this.state.showEmailModal} order={this.state.orderToSend} closeModal={this.closeEmailModal}></Receipt>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { insertProduct } from '../../lib/Api';\r\n\r\nexport default class ProductInsert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleName = this.handleName.bind(this);\r\n        this.handleCode = this.handleCode.bind(this);\r\n        this.handlePrice = this.handlePrice.bind(this);\r\n        this.handleQuantity = this.handleQuantity.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.submitProduct = this.submitProduct.bind(this);\r\n        this.state = {\r\n            product: {},\r\n            errMsg: '',\r\n            hideAlert: true\r\n        }\r\n    }\r\n\r\n    handleName(event) {\r\n        const name = event.target.value;\r\n        this.setState(prevState => ({\r\n            product: {\r\n                ...prevState.product,\r\n                name   \r\n            }\r\n        }));\r\n    }\r\n\r\n    handleCode(event) {\r\n        const code = event.target.value;\r\n        this.setState(prevState => ({\r\n            product: {\r\n                ...prevState.product,\r\n                code  \r\n            }\r\n        }));\r\n    }\r\n\r\n    handlePrice(event) {\r\n        const price = event.target.value;\r\n        if (price > 0) {\r\n            this.setState(prevState => ({\r\n                product: {\r\n                    ...prevState.product,\r\n                    price\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n    handleQuantity(event) {\r\n        const quantity = event.target.value;\r\n        if (quantity > 0) {\r\n            this.setState(prevState => ({\r\n                product: {\r\n                    ...prevState.product,\r\n                    quantity\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n    submitProduct() {\r\n        let product = this.state.product;\r\n        if (product.name == null || product.code == null || product.price == null || product.quantity == null) {\r\n            this.setState({ errMsg: 'please fill all fields with valid values', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        } else {\r\n            insertProduct(product).then(res => {\r\n                this.props.getProducts();\r\n                this.props.closeModal();\r\n            }, err => {\r\n                if (err.response.data && !err.response.data.msg) {\r\n                    this.setState({ errMsg: 'The code should be in the form of one capital letter, one number, a dot then a series of numbers (A1.1)', hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 7000)\r\n                    });\r\n                } else {\r\n                    this.setState({ errMsg: err.response.data.msg, hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ errMsg: '', hideAlert: true });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showModalInsert}>\r\n                        <ModalHeader>New Product</ModalHeader>\r\n                        <ModalBody>\r\n                        <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                            { this.state.errMsg }\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Name:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"productName\" placeholder=\"Name\" onChange={this.handleName} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Code:</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"productCode\" placeholder=\"Code\" onChange={this.handleCode} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Price:</label>\r\n                                    <input type=\"number\" className=\"form-control\" id=\"productPrice\" placeholder=\"Price\" onChange={this.handlePrice} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Quantity:</label>\r\n                                    <input type=\"number\" className=\"form-control\" id=\"productQuantity\" placeholder=\"Quantity\" onChange={this.handleQuantity} />\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <button type=\"submit\" className=\"btn btn-info\" onClick={(event) => this.submitProduct(event)}>Add Product</button>\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={this.closeModal}>Cancel</button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { editProduct } from '../../lib/Api';\r\n\r\nexport default class ProductEdit extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: 'default',\r\n            price: 'default',\r\n            quantity: 'default',\r\n            availableToSell: 'default',\r\n            hideAlert: true\r\n        }\r\n    }\r\n\r\n    handleName = (e) => {\r\n        this.setState({ name: e.target.value });\r\n    }\r\n\r\n    handlePrice = (e) => {\r\n        this.setState({ price: e.target.value });\r\n    }\r\n\r\n    handleQuantity = (e) => {\r\n        this.setState({ quantity: e.target.value });\r\n    }\r\n\r\n    handleAvailableToSell = (e) => {\r\n        this.setState({ availableToSell: e.target.value });\r\n    }\r\n\r\n    editProduct = () => {\r\n        if (this.state.name === '' || this.state.price === '' || this.state.quantity === '' || this.state.availableToSell === '') {\r\n            this.setState({ errMsg: 'all fields should be filled', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        } else {\r\n            const editProductBody = {\r\n                code: this.props.product.code,\r\n                name: this.state.name === 'default'? this.props.product.name : this.state.name,\r\n                price: this.state.price === 'default'? this.props.product.price : this.state.price,\r\n                quantity: this.state.quantity === 'default'? this.props.product.quantity : this.state.quantity,\r\n                availableToSell: this.state.availableToSell === 'default'? this.props.product.availableToSell : this.state.availableToSell,\r\n            }\r\n            editProduct(editProductBody).then(res => {\r\n                this.props.getProducts();\r\n                this.props.closeEditModal();\r\n            }).catch(err => {\r\n                this.setState({ errMsg: err.response.data, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n                <Modal isOpen={this.props.showModalEdit}>\r\n                    <ModalHeader>Existing Product</ModalHeader>\r\n                    <ModalBody>\r\n                        <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                            { this.state.errMsg }\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Name:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Enter Your Name\" onChange={this.handleName} value={this.state.name === 'default'? this.props.product.name : this.state.name} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Price:</label>\r\n                                <input type=\"number\" className=\"form-control\" id=\"price\" placeholder=\"Enter Your Price\" onChange={this.handlePrice} value={this.state.price === 'default'? this.props.product.price : this.state.price} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Quantity:</label>\r\n                                <input type=\"number\" className=\"form-control\" id=\"quantity\" placeholder=\"Enter Your Quantity\" onChange={this.handleQuantity} value={this.state.quantity === 'default'? this.props.product.quantity : this.state.quantity} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Available To Sell:</label>\r\n                                <input type=\"number\" className=\"form-control\" id=\"availableToSell\" placeholder=\"Enter Your Available To Sell\" onChange={this.handleAvailableToSell} value={this.state.availableToSell === 'default'? this.props.product.availableToSell : this.state.availableToSell} />\r\n                            </div>\r\n                        </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button type=\"submit\" className=\"btn btn-info\" onClick={this.editProduct}>Edit</button>\r\n                        <button className=\"btn btn-danger\" onClick={(event) => this.props.closeEditModal(event)}>Cancel</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport ProductInsert from '../ProductInsert/ProductInsert';\r\nimport Paginator from '../Paginatior/Paginatior';\r\n\r\nimport { getProducts, deleteProducts } from '../../lib/Api';\r\nimport { addDeleteCheckers } from '../../lib/helper_functions';\r\nimport './Product.css';\r\nimport ProductEdit from '../ProductEdit/ProductEdit';\r\n\r\nexport default class Product extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.changeCheckboxValue = this.changeCheckboxValue.bind(this);\r\n        this.deleteProducts = this.deleteProducts.bind(this);\r\n        this.filterProducts = this.filterProducts.bind(this);\r\n        this.closeEditModal = this.closeEditModal.bind(this);\r\n        this.editProduct = this.editProduct.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.insertProduct = this.insertProduct.bind(this);\r\n        this.getAllProducts = this.getAllProducts.bind(this);\r\n        this.handleProductsShown = this.handleProductsShown.bind(this);\r\n        this.state = {\r\n            products: [],\r\n            showModal: false,\r\n            showModalInsert: false,\r\n            showModalEdit: false,\r\n            productToEdit: {},\r\n            productsShown: [],\r\n            itemsPerPage: 7,\r\n            activePage: 1,\r\n            checkAll: false,\r\n            hideAlert: true,\r\n            errMsg: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllProducts();\r\n    }\r\n\r\n    insertProduct() {\r\n        this.setState({ showModalInsert: true });\r\n    }\r\n\r\n    editProduct(product) {\r\n        this.setState({ showModalEdit: true, productToEdit: product });\r\n    }\r\n\r\n    closeEditModal() {\r\n        this.setState({ showModalEdit: false });\r\n    }\r\n\r\n    getAllProducts() {\r\n        getProducts().then(res => {\r\n            if (res.data != null && res.data.products.length >= 1) {\r\n                this.setState({ products: addDeleteCheckers(res.data.products) });\r\n                const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n                const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n                this.setState({ productsShown: this.state.products.slice(indexOfFirstThing, indexOfLastThing) });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    deleteProducts() {\r\n        const idsToDelete = [];\r\n        this.state.products.map((product) => {\r\n            if (product['toDelete']) { \r\n                idsToDelete.push(product.code);\r\n            }\r\n        });\r\n        for (let i = 0; i < idsToDelete.length; i++) {\r\n            deleteProducts(idsToDelete[i]).then(res => {\r\n                this.setState({ errMsg: `the product(s) selected are deleted successfully`, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n                this.filterProducts();\r\n            }).catch(err => {\r\n                if(err.response.status === 403) {\r\n                    this.setState({ errMsg: 'this product is already associated with an order', hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    filterProducts() {\r\n        let products = this.state.products;\r\n        let filteredProducts = products.filter(product => {\r\n            return !product['toDelete'];\r\n        });\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ products: filteredProducts, productsShown: filteredProducts.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    changeCheckboxValue(index, event) {\r\n        if (index === -1) {\r\n            this.setState(prevState => ({\r\n                products: prevState.products.map((stateProduct) => {\r\n                    stateProduct['toDelete'] = prevState.checkAll? false : true;\r\n                    return stateProduct;\r\n                }), checkAll: !prevState.checkAll\r\n            }));\r\n            \r\n            return;\r\n        } else if (this.state.activePage > 1) {\r\n            index += ((this.state.activePage - 1) * this.state.itemsPerPage);\r\n        }\r\n        let products = this.state.products;\r\n        products[index]['toDelete'] = event.target.checked;\r\n        this.setState({ products });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ showModal: false, showModalInsert: false });\r\n    }\r\n\r\n    handleProductsShown(products, activePage) {\r\n        this.setState({ productsShown: products, activePage });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"row products__container\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"products__btn-container\">\r\n                        <button className=\"btn btn-info products__btn\" onClick={this.insertProduct}>Insert</button>\r\n                        <button className=\"btn btn-danger products__btn\" onClick={this.deleteProducts}>Delete</button>\r\n                    </div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <div>\r\n                        <table className=\"table table-bordered\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr>\r\n                                    <th>\r\n                                        <div className=\"form-group\">\r\n                                            <div className=\"custom-control custom-checkbox\">\r\n                                                <input className=\"custom-control-input\" id={ \"customCheckAll\" } type=\"checkbox\" checked={this.state.checkAll} onChange={(event) => this.changeCheckboxValue(-1, event)} />\r\n                                                <label className=\"custom-control-label\" htmlFor={ \"customCheckAll\" }></label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </th>\r\n                                    <th>Name</th>\r\n                                    <th>Code</th>\r\n                                    <th>Price</th>\r\n                                    <th>Quantity</th>\r\n                                    <th>Edit</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    this.state.productsShown.map((product, index) => {\r\n                                        return(\r\n                                            <tr key={ index }>\r\n                                                <td>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"custom-control custom-checkbox\">\r\n                                                            <input className=\"custom-control-input\" id={ \"customCheck\" + index } type=\"checkbox\" checked={product['toDelete']} onChange={(event) => this.changeCheckboxValue(index, event)} />\r\n                                                            <label className=\"custom-control-label\" htmlFor={ \"customCheck\" + index }></label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>{ product.name }</td>\r\n                                                <td>{ product.code }</td>\r\n                                                <td>{ product.price }</td>\r\n                                                <td>{ product.availableToSell + ' / ' + product.quantity }</td>\r\n                                                <td>\r\n                                                    <button className=\"btn btn-info products__btn\" onClick={() => this.editProduct(product)}>Edit</button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    }) \r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <Paginator items={this.state.products} itemsPerPage={this.state.itemsPerPage} handleItems={this.handleProductsShown} />\r\n                    <ProductInsert showModalInsert={this.state.showModalInsert} closeModal={this.closeModal} getProducts={this.getAllProducts}></ProductInsert>\r\n                    <ProductEdit showModalEdit={this.state.showModalEdit} closeEditModal={this.closeEditModal} product={this.state.productToEdit} getProducts={this.getAllProducts}></ProductEdit>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { insertUser } from '../../lib/Api';\r\n\r\nexport default class UserInsert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleName = this.handleName.bind(this);\r\n        this.handleInstagram = this.handleInstagram.bind(this);\r\n        this.handleEmail = this.handleEmail.bind(this);\r\n        this.handlePhone = this.handlePhone.bind(this);\r\n        this.handleAddress = this.handleAddress.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.submitUser = this.submitUser.bind(this);\r\n        this.handleType = this.handleType.bind(this);\r\n        this.state = {\r\n            user: {},\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            type: ''\r\n        }\r\n    }\r\n\r\n    handleName(event) {\r\n        const name = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                name   \r\n            }\r\n        }));\r\n    }\r\n\r\n    handleInstagram(event) {\r\n        const instagramUsername = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                instagramUsername  \r\n            }\r\n        }));\r\n    }\r\n\r\n    handleEmail(event) {\r\n        const email = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                email\r\n            }\r\n        }));\r\n    }\r\n\r\n    handlePhone(event) {\r\n        const phone = event.target.value;\r\n        if (phone.match(/^\\+[0-9]{12,13}$/g) != null) {\r\n            this.setState(prevState => ({\r\n                user: {\r\n                    ...prevState.user,\r\n                    phone\r\n                }\r\n            }));\r\n        } else {\r\n            this.setState({ errMsg: 'phone number must start with \"+\", followed by 12-13 digits', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        }\r\n    }\r\n\r\n    handleAddress(event) {\r\n        const address = event.target.value;\r\n        this.setState(prevState => ({\r\n            user: {\r\n                ...prevState.user,\r\n                address\r\n            }\r\n        }));\r\n    }\r\n\r\n    submitUser() {\r\n        let user = this.state.user;\r\n        user.type = this.state.type;\r\n        console.log(user);\r\n        if (this.state.hideAlert === true) {\r\n            insertUser(user).then(res => {\r\n                this.props.getUsers();\r\n                this.props.closeModal();\r\n            }, err => {\r\n                if (typeof err.response.data == 'object') {\r\n                    this.setState({ errMsg: err.response.data.msg, hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                    \r\n                } else {\r\n                    this.setState({ errMsg: err.response.data, hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ errMsg: '', hideAlert: true });\r\n        this.props.closeModal();\r\n    }\r\n\r\n    handleType(e) {\r\n        this.setState({ type: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.showModalInsert}>\r\n                        <ModalHeader>New User</ModalHeader>\r\n                        <ModalBody>\r\n                            <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                                { this.state.errMsg }\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Name:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userName\" placeholder=\"Enter Your Name\" onChange={this.handleName} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Instagram Username:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userInstagram\" placeholder=\"Enter Your Instagram Username\" onChange={this.handleInstagram} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Email:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userEmail\" placeholder=\"Enter Your Email\" onChange={this.handleEmail} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Phone:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userPhone\" placeholder=\"Enter Your Phone\" onChange={this.handlePhone} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Address:</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"userAddress\" placeholder=\"Enter Your Address\" onChange={this.handleAddress} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Type:</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"custom-control custom-radio\">\r\n                                        <input type=\"radio\" id=\"friendRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"friend\" onChange={this.handleType} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"friendRadio\">Friend</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"custom-control custom-radio\">\r\n                                        <input type=\"radio\" id=\"potentialRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"potential\" onChange={this.handleType} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"potentialRadio\">Potential</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"custom-control custom-radio\">\r\n                                        <input type=\"radio\" id=\"importantRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"important\" onChange={this.handleType} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"importantRadio\">Important</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"custom-control custom-radio\">\r\n                                        <input type=\"radio\" id=\"noneRadio\" name=\"customRadio\" className=\"custom-control-input\" value=\"\" onChange={this.handleType} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"noneRadio\">None</label>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <button type=\"submit\" className=\"btn btn-info\" onClick={(event) => this.submitUser(event)}>Add User</button>\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={this.closeModal}>Cancel</button>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport { editUser } from '../../lib/Api';\r\n\r\nimport './UserEdit.css';\r\n\r\nexport default class UserEdit extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: 'default',\r\n            email: 'default',\r\n            instagramUsername: 'default',\r\n            phone: 'default',\r\n            address: 'default',\r\n            errMsg: '',\r\n            hideAlert: true,\r\n            type: 'default'\r\n        }\r\n    }\r\n\r\n    handleName = (e) => {\r\n        this.setState({ name: e.target.value });\r\n    }\r\n\r\n    handleInstagramUsername = (e) => {\r\n        this.setState({ instagramUsername: e.target.value });\r\n    }\r\n\r\n    handleEmail = (e) => {\r\n        this.setState({ email: e.target.value });\r\n    }\r\n\r\n    handlePhone = (e) => {\r\n        this.setState({ phone: e.target.value });\r\n    }\r\n\r\n    handleAddress = (e) => {\r\n        this.setState({ address: e.target.value });\r\n    }\r\n\r\n    editUser = () => {\r\n        if (this.state.name === '' || this.state.email === '' || this.state.instagramUsername === '' || this.state.phone === '' || this.state.address === '') {\r\n            this.setState({ errMsg: 'all fields should be filled', hideAlert: false }, () => {\r\n                window.setTimeout(()=>{\r\n                  this.setState({ errMsg: '', hideAlert: true })\r\n                }, 4000)\r\n            });\r\n        // } else if (!this.state.phone.match(/^\\+[0-9]{12,13}$/g)) {\r\n        //     this.setState({ errMsg: 'phone number must start with \"+\", followed by 12-13 digits', hideAlert: false }, () => {\r\n        //         window.setTimeout(()=>{\r\n        //           this.setState({ errMsg: '', hideAlert: true })\r\n        //         }, 4000)\r\n        //     });\r\n        } else {\r\n            const editUserBody = {\r\n                userId: this.props.user._id,\r\n                name: this.state.name === 'default'? this.props.user.name : this.state.name,\r\n                email: this.state.email === 'default'? this.props.user.email : this.state.email,\r\n                instagramUsername: this.state.instagramUsername === 'default'? this.props.user.instagramUsername : this.state.instagramUsername,\r\n                phone: this.state.phone === 'default'? this.props.user.phone : this.state.phone,\r\n                address: this.state.address === 'default'? this.props.user.address : this.state.address,\r\n                type: this.state.type === 'default'? this.props.user.type : this.state.type\r\n            }\r\n            editUser(editUserBody).then(res => {\r\n                this.props.getUsers();\r\n                this.props.closeEditModal();\r\n            }).catch(err => {\r\n                console.log(err);\r\n                this.setState({ errMsg: err.response.data, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n            })\r\n        }\r\n    }\r\n\r\n    handleType = (e) => {\r\n        this.setState({ type: e.target.value });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n                <Modal isOpen={this.props.showModalEdit}>\r\n                    <ModalHeader>Existing User</ModalHeader>\r\n                    <ModalBody>\r\n                        <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                            { this.state.errMsg }\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Name:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Enter Your Name\" onChange={this.handleName} value={this.state.name === 'default'? this.props.user.name : this.state.name} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Instagram Username:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"instagramUsername\" placeholder=\"Enter Your Instagram Username\" onChange={this.handleInstagramUsername} value={this.state.instagramUsername === 'default'? this.props.user.instagramUsername : this.state.instagramUsername} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Email:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"email\" placeholder=\"Enter Your Email\" onChange={this.handleEmail} value={this.state.email === 'default'? this.props.user.email : this.state.email} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Phone:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"phone\" placeholder=\"Enter Your Phone\" onChange={this.handlePhone} value={this.state.phone === 'default'? this.props.user.phone : this.state.phone} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"form-group\">\r\n                                <label>Address:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"address\" placeholder=\"Enter Your Address\" onChange={this.handleAddress} value={this.state.address === 'default'? this.props.user.address : this.state.address} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Type:</label>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"custom-control custom-radio\">\r\n                                <input type=\"radio\" id=\"friendRadio\" name=\"customRadio\" className=\"custom-control-input\" checked={this.state.type === 'default'? this.props.user.type === 'friend' : this.state.type === 'friend'} value=\"friend\" onChange={this.handleType} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"friendRadio\">Friend</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"custom-control custom-radio\">\r\n                                <input type=\"radio\" id=\"potentialRadio\" name=\"customRadio\" className=\"custom-control-input\" checked={this.state.type === 'default'? this.props.user.type === 'potential' : this.state.type === 'potential'} value=\"potential\" onChange={this.handleType} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"potentialRadio\">Potential</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"custom-control custom-radio\">\r\n                                <input type=\"radio\" id=\"importantRadio\" name=\"customRadio\" className=\"custom-control-input\" checked={this.state.type === 'default'? this.props.user.type === 'important' : this.state.type === 'important'} value=\"important\" onChange={this.handleType} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"importantRadio\">Important</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"custom-control custom-radio\">\r\n                                <input type=\"radio\" id=\"noneRadio\" name=\"customRadio\" className=\"custom-control-input\" checked={this.state.type === 'default'? this.props.user.type === '' : this.state.type === ''} value=\"\" onChange={this.handleType} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"noneRadio\">None</label>\r\n                            </div>\r\n                        </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button type=\"submit\" className=\"btn btn-info\" onClick={this.editUser}>Edit</button>\r\n                        <button className=\"btn btn-danger\" onClick={(event) => this.props.closeEditModal(event)}>Cancel</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\nimport UserInsert from '../UserInsert/UserInsert';\r\nimport Paginator from '../Paginatior/Paginatior';\r\n\r\nimport { getUsers, deleteUsers } from '../../lib/Api';\r\nimport { addDeleteCheckers } from '../../lib/helper_functions';\r\n\r\nimport './User.css';\r\nimport UserEdit from '../UserEdit/UserEdit';\r\n\r\nexport default class User extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.changeCheckboxValue = this.changeCheckboxValue.bind(this);\r\n        this.deleteUsers = this.deleteUsers.bind(this);\r\n        this.filterUsers = this.filterUsers.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.closeEditModal = this.closeEditModal.bind(this);\r\n        this.editUser = this.editUser.bind(this);\r\n        this.insertUser = this.insertUser.bind(this);\r\n        this.getAllUsers = this.getAllUsers.bind(this);\r\n        this.handleUsersShown = this.handleUsersShown.bind(this);\r\n        this.state = {\r\n            users: [],\r\n            showModalInsert: false,\r\n            showModalEdit: false,\r\n            userToEdit: {},\r\n            itemsPerPage: 7,\r\n            activePage: 1,\r\n            usersShown: [],\r\n            checkAll: false,\r\n            hideAlert: true,\r\n            errMsg: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllUsers();\r\n    }\r\n\r\n    getAllUsers() {\r\n        getUsers().then(res => {\r\n            if (res.data != null && res.data.users.length >= 1) {\r\n                this.setState({ users: addDeleteCheckers(res.data.users) });\r\n                const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n                const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n                this.setState({ usersShown: this.state.users.slice(indexOfFirstThing, indexOfLastThing) });\r\n            }\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    changeCheckboxValue(index, event) {\r\n        if (index === -1) {\r\n            this.setState(prevState => ({\r\n                users: prevState.users.map((stateUser) => {\r\n                    stateUser['toDelete'] = prevState.checkAll? false : true;\r\n                    return stateUser;\r\n                }), checkAll: !prevState.checkAll\r\n            }));\r\n            \r\n            return;\r\n        } else if (this.state.activePage > 1) {\r\n            index += ((this.state.activePage - 1) * this.state.itemsPerPage);\r\n        }\r\n        let users = this.state.users;\r\n        users[index]['toDelete'] = event.target.checked;\r\n        this.setState({ users });\r\n    }\r\n\r\n    deleteUsers() {\r\n        const idsToDelete = [];\r\n        this.state.users.map((user) => {\r\n            if (user['toDelete']) { \r\n                idsToDelete.push(user.instagramUsername);\r\n            }\r\n        });\r\n        for (let i = 0; i < idsToDelete.length; i++) {\r\n            deleteUsers(idsToDelete[i]).then(res => {\r\n                this.setState({ errMsg: `the user(s) selected are deleted successfully`, hideAlert: false }, () => {\r\n                    window.setTimeout(()=>{\r\n                      this.setState({ errMsg: '', hideAlert: true })\r\n                    }, 4000)\r\n                });\r\n                this.filterUsers();\r\n            }).catch(err => {\r\n                if(err.response.status === 403) {\r\n                    this.setState({ errMsg: 'this user is already associated with an order', hideAlert: false }, () => {\r\n                        window.setTimeout(()=>{\r\n                          this.setState({ errMsg: '', hideAlert: true })\r\n                        }, 4000)\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    filterUsers() {\r\n        let users = this.state.users;\r\n        let filteredUsers = users.filter(user => {\r\n            return !user['toDelete'];\r\n        });\r\n        const indexOfLastThing = this.state.activePage * this.state.itemsPerPage;\r\n        const indexOfFirstThing = indexOfLastThing - this.state.itemsPerPage;\r\n        this.setState({ users: filteredUsers, usersShown: filteredUsers.slice(indexOfFirstThing, indexOfLastThing) });\r\n    }\r\n\r\n    insertUser() {\r\n        this.setState({ showModalInsert: true });\r\n    }\r\n\r\n    editUser(user) {\r\n        this.setState({ showModalEdit: true, userToEdit: user });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ showModalInsert: false });\r\n    }\r\n\r\n    closeEditModal() {\r\n        this.setState({ showModalEdit: false });\r\n    }\r\n\r\n    handleUsersShown(users, activePage) {\r\n        this.setState({ usersShown: users, activePage });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"row users__container\">\r\n                <div className=\"col-md-10 offset-md-1\">\r\n                    <div className=\"users__btn-container\">\r\n                        <button className=\"btn btn-info users__btn\" onClick={this.insertUser}>Insert</button>\r\n                        <button className=\"btn btn-danger users__btn\" onClick={this.deleteUsers}>Delete</button>\r\n                    </div>\r\n                    <div className=\"alert alert-danger\" role=\"alert\" hidden={this.state.hideAlert}>\r\n                        { this.state.errMsg }\r\n                    </div>\r\n                    <div>\r\n                        <table className=\"table table-bordered\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr>\r\n                                    <th>\r\n                                        <div className=\"form-group\">\r\n                                            <div className=\"custom-control custom-checkbox\">\r\n                                                <input className=\"custom-control-input\" id={ \"customCheckAll\" } type=\"checkbox\" checked={this.state.checkAll} onChange={(event) => this.changeCheckboxValue(-1, event)} />\r\n                                                <label className=\"custom-control-label\" htmlFor={ \"customCheckAll\" }></label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </th>\r\n                                    <th>Name</th>\r\n                                    <th>Instagram Username</th>\r\n                                    <th>Email</th>\r\n                                    <th>Phone</th>\r\n                                    <th>Address</th>\r\n                                    <th>Edit</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    this.state.usersShown.map((user, index) => {\r\n                                        return(\r\n                                            <tr key={ index } style={{ backgroundColor:  user.type === 'friend'? 'rgb(255, 165, 0)' : user.type === 'important'? 'rgb(144, 238, 144)' : user.type === 'potential'? 'rgb(14, 144, 242)' : 'rgb(255, 255, 255)' }}>\r\n                                                <td>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"custom-control custom-checkbox\">\r\n                                                            <input className=\"custom-control-input\" id={ \"customCheck\" + index } type=\"checkbox\" checked={user['toDelete']} onChange={(event) => this.changeCheckboxValue(index, event)} />\r\n                                                            <label className=\"custom-control-label\" htmlFor={ \"customCheck\" + index }></label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>{ user.name }</td>\r\n                                                <td >\r\n                                                    { user.instagramUsername }\r\n                                                </td>\r\n                                                <td>{ user.email }</td>\r\n                                                <td>{ user.phone }</td>\r\n                                                <td>{ user.address }</td>\r\n                                                <td>\r\n                                                    <button className=\"btn btn-info users__btn\" onClick={() => this.editUser(user)}>Edit</button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    }) \r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <Paginator items={this.state.users} itemsPerPage={this.state.itemsPerPage} handleItems={this.handleUsersShown} />\r\n                    <UserInsert showModalInsert={this.state.showModalInsert} closeModal={this.closeModal} getUsers={this.getAllUsers}></UserInsert>\r\n                    <UserEdit showModalEdit={this.state.showModalEdit} closeEditModal={this.closeEditModal} user={this.state.userToEdit} getUsers={this.getAllUsers}></UserEdit>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { tokenExpired } from './lib/helper_functions';\r\n\r\nconst AuthenticatedRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props => \r\n            localStorage.getItem('token') && !tokenExpired()? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect exact \r\n                    to={{\r\n                        pathname: '/',\r\n                        state: { from: props.location }\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nexport default AuthenticatedRoute;","import React from 'react';\r\nimport { getRevenue } from '../../lib/Api';\r\nimport Header from '../Header/Header';\r\n\r\nimport './Revenue.css';\r\n\r\nexport default class Revenue extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            total: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getRevenue().then(res => {\r\n            this.setState({ total: res.data.result[0].total });\r\n        }).catch(err => {\r\n            console.log('err: ', err);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header></Header>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4 offset-md-4 revenue__container\">\r\n                        <div className=\"revenue__content\">\r\n                            <b>Revenue</b> <br />\r\n                            {this.state.total} L.E.\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\n\r\nexport default class AnalyticsSocks extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Modal isOpen={this.props.modalOpen}>\r\n                    <ModalHeader>Socks Breakdown</ModalHeader>\r\n                    <ModalBody>\r\n                        <div className=\"row\">\r\n                            <div className=\"offset-lg-2 col-lg-8\">\r\n                                <table className=\"analytics__table table\">\r\n                                    <thead className=\"thead-light\">\r\n                                        <tr>\r\n                                            <th>Name (Code)</th>\r\n                                            <th>Count</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    {\r\n                                        this.props.productsCount.map(product => {\r\n                                            return <tr key={product.code}>\r\n                                                <td>\r\n                                                    { `${product.name} (${product.code})` }\r\n                                                </td>\r\n                                                <td>\r\n                                                    { product.count }\r\n                                                </td>\r\n                                            </tr>\r\n                                        })\r\n                                    }\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button className=\"btn btn-danger\" onClick={() => this.props.closeModal()}>Close</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport Header from '../Header/Header';\r\nimport { getOrders, getProducts, getUsers } from '../../lib/Api';\r\n\r\nimport './Analytics.css';\r\nimport AnalyticsSocks from './AnaylticsSocks';\r\n\r\nexport default class Analytics extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.state = {\r\n            usersCount: 0,\r\n            ordersCount: 0,\r\n            productsCount: [],\r\n            totalProducts: 0,\r\n            modalOpen: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getUsers('true').then(res => {\r\n            this.setState({ usersCount: res.data.count });\r\n        });\r\n\r\n        getOrders('true').then(res => {\r\n            this.setState({ ordersCount: res.data.count });\r\n        });\r\n\r\n        getProducts('true').then(res => {\r\n            this.setState({ productsCount: res.data.productsCount });\r\n            let count = 0;\r\n            for (let i = 0; i < res.data.productsCount.length; i++) {\r\n                count += Number(res.data.productsCount[i].count);\r\n            }\r\n            this.setState({ totalProducts: count });\r\n        });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({ modalOpen: false });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Header></Header>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4 analytics__container\">\r\n                        <div className=\"analytics__content\">\r\n                            <b>Customers</b> <br />\r\n                            {this.state.usersCount}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-4 analytics__container\">\r\n                        <div className=\"analytics__content\">\r\n                            <b>Orders</b> <br />\r\n                            {this.state.ordersCount}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-4 analytics__container\">\r\n                        <div className=\"analytics__content analytics__content--pointer\">\r\n                            <b>Socks</b> <br />\r\n                            <span onClick={() => this.setState({ modalOpen: true })}>\r\n                                {this.state.totalProducts}\r\n                            </span>\r\n                            <div className=\"analytics__content--note\">Click on the number for more details</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <AnalyticsSocks productsCount={this.state.productsCount} modalOpen={this.state.modalOpen} closeModal={this.closeModal} />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport Dashboard from './components/Dashboard/Dashboard';\r\nimport Order from './components/Order/Order';\r\nimport Product from './components/Product/Product';\r\nimport User from './components/User/User';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport AuthenticatedRoute from './AuthenticatedRoute';\r\nimport Revenue from './components/Revenue/Revenue';\r\nimport Analytics from './components/Analytics/Analytics';\r\n\r\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\r\n\r\n\r\nconst routing = (\r\n    <div>\r\n        <Router>\r\n        <div>\r\n                <Route exact path=\"/\" component={App} />\r\n                <AuthenticatedRoute path=\"/dashboard\" component={() => <Dashboard first=\"/dashboard/orders\" second=\"/dashboard/products\" third=\"/dashboard/users\" />} />\r\n                <AuthenticatedRoute path=\"/dashboard/orders\" component={Order} />\r\n                <AuthenticatedRoute path=\"/dashboard/products\" component={Product} />\r\n                <AuthenticatedRoute path=\"/dashboard/users\" component={User} />\r\n                <AuthenticatedRoute path=\"/analytics\" component={() => <Dashboard first=\"/analytics/revenue\" second=\"/analytics/totals\" third=\"/analytics/placeholder\" />} />\r\n                <AuthenticatedRoute path=\"/analytics/revenue\" component={Revenue} />\r\n                <AuthenticatedRoute path=\"/analytics/totals\" component={Analytics} />\r\n            </div>\r\n        </Router>\r\n    </div>\r\n)\r\n\r\nReactDOM.render(routing, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}